<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- This file documents the GNU make utility, which determines
automatically which pieces of a large program need to be recompiled,
and issues the commands to recompile them.

This is Edition 0.74, last updated No value for UPDATED,
of The GNU Make Manual, for GNU make version No value for VERSION.

Copyright C 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995,
1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007,
2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019
Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

 -->
<!-- Created on December 11, 2019 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>GNU make</title>

<meta name="description" content="GNU make">
<meta name="keywords" content="GNU make">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-make"></a>
<h1 class="settitle">GNU <code>make</code></h1>

<p>This file documents the GNU <code>make</code> utility, which determines
automatically which pieces of a large program need to be recompiled,
and issues the commands to recompile them.
</p>
<p>This is Edition 0.74, last updated No value for UPDATED,
of <cite>The GNU Make Manual</cite>, for GNU <code>make</code> version No value for VERSION.
</p>
<p>Copyright &copy; 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995,
1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007,
2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019
Free Software Foundation, Inc.
</p>
<blockquote><p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being &ldquo;A GNU Manual,&rdquo;
and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled &ldquo;GNU Free Documentation
License.&rdquo;
</p>
<p>(a) The FSF&rsquo;s Back-Cover Text is: &ldquo;You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom.&rdquo;
</p></blockquote>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Overview">1. Overview of <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Introduction">2. An Introduction to Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                An introduction to <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Makefiles">3. Writing Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Makefiles tell <code>make</code> what to do.
</td></tr>
<tr><td align="left" valign="top"><a href="#Rules">4. Writing Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       Rules describe when a file must be remade.
</td></tr>
<tr><td align="left" valign="top"><a href="#Recipes">5. Writing Recipes in Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Recipes say how to remake a file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             You can use variables to avoid repetition.
</td></tr>
<tr><td align="left" valign="top"><a href="#Conditionals">7. Conditional Parts of Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Use or ignore parts of the makefile based
                                  on the values of variables.
</td></tr>
<tr><td align="left" valign="top"><a href="#Functions">8. Functions for Transforming Text</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Many powerful ways to manipulate text.
</td></tr>
<tr><td align="left" valign="top"><a href="#Running">9. How to Run <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       How to invoke <code>make</code> on the command line.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit-Rules">10. Using Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Use implicit rules to treat many files alike,
                                  based on their file names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archives">11. Using <code>make</code> to Update Archive Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    How <code>make</code> can update library archives.
</td></tr>
<tr><td align="left" valign="top"><a href="#Extending-make">12. Extending GNU <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Using extensions to <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Integrating-make">13. Integrating GNU <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Integrating <code>make</code> with other tools.
</td></tr>
<tr><td align="left" valign="top"><a href="#Features">14. Features of GNU <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Features GNU <code>make</code> has over other <code>make</code>s.
</td></tr>
<tr><td align="left" valign="top"><a href="#Missing">15. Incompatibilities and Missing Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     What GNU <code>make</code> lacks from other <code>make</code>s.
</td></tr>
<tr><td align="left" valign="top">&bull; Makefile Conventions</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Conventions for writing makefiles for
                                  GNU programs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Quick-Reference">A. Quick Reference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             A quick reference for experienced users.
</td></tr>
<tr><td align="left" valign="top"><a href="#Error-Messages">B. Errors Generated by Make</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              A list of common errors generated by <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Complex-Makefile">C. Complex Makefile Example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            A real example of a straightforward,
                                  but nontrivial, makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#GNU-Free-Documentation-License">C.1 GNU Free Documentation License</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">  License for copying this manual.
</td></tr>
<tr><td align="left" valign="top"><a href="#Concept-Index">Index of Concepts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Name-Index">Index of Functions, Variables, &amp; Directives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment"> &mdash; The Detailed Node Listing &mdash;

Overview of <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#Preparing">&bull; Preparing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Preparing and running <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Reading">1.1 How to Read This Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     On reading this text.
</td></tr>
<tr><td align="left" valign="top"><a href="#Bugs">1.2 Problems and Bugs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Problems and bugs.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
An Introduction to Makefiles

</pre></th></tr><tr><td align="left" valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What a rule looks like.
</td></tr>
<tr><td align="left" valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             A simple makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How <code>make</code> processes this makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Variables make makefiles simpler.
</td></tr>
<tr><td align="left" valign="top"><a href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Letting <code>make</code> deduce the recipes.
</td></tr>
<tr><td align="left" valign="top"><a href="#Combine-By-Prerequisite">2.6 Another Style of Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Another style of makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Cleanup">2.7 Rules for Cleaning the Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Rules for cleaning the directory.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing Makefiles

</pre></th></tr><tr><td align="left" valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What makefiles contain.
</td></tr>
<tr><td align="left" valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to name your makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How one makefile can use another makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          The environment can specify extra makefiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How makefiles get remade.
</td></tr>
<tr><td align="left" valign="top"><a href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to override part of one makefile
                                  with another makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Reading-Makefiles">3.7 How <code>make</code> Reads a Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How makefiles are read in.
</td></tr>
<tr><td align="left" valign="top"><a href="#Parsing-Makefiles">3.8 How Makefiles Are Parsed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How makefiles are parsed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Secondary-Expansion">3.9 Secondary Expansion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How and when secondary expansion is performed.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
What Makefiles Contain

</pre></th></tr><tr><td align="left" valign="top"><a href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Splitting long lines in makefiles
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing Rules

</pre></th></tr><tr><td align="left" valign="top"><a href="#Rule-Example">4.1 Rule Example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                An example explained.
</td></tr>
<tr><td align="left" valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 General syntax explained.
</td></tr>
<tr><td align="left" valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          There are two types of prerequisites.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Using wildcard characters such as &lsquo;*&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Searching other directories for source files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Using a target that is not a real file&rsquo;s name.
</td></tr>
<tr><td align="left" valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               You can use a target without a recipe
                                  or prerequisites to mark other targets
                                  as phony.
</td></tr>
<tr><td align="left" valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               When only the date matters and the
                                  files are empty.
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Targets with special built-in meanings.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            When to make use of several targets in a rule.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to use several rules with the same target.
</td></tr>
<tr><td align="left" valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Static pattern rules apply to multiple targets
                                  and can vary the prerequisites according to
                                  the target name.
</td></tr>
<tr><td align="left" valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                How to use a special kind of rule to allow
                                  several independent rules for one target.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How to automatically generate rules giving
                                  prerequisites from source files themselves.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Using Wildcard Characters in File Names

</pre></th></tr><tr><td align="left" valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Several examples.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Problems to avoid.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcard-Function">4.4.3 The Function <code>wildcard</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to cause wildcard expansion where
                                  it does not normally take place.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Searching Directories for Prerequisites

</pre></th></tr><tr><td align="left" valign="top"><a href="#General-Search">4.5.1 <code>VPATH</code>: Search Path for All Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Specifying a search path that applies
                                  to every prerequisite.
</td></tr>
<tr><td align="left" valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Specifying a search path
                                  for a specified class of names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            When and how search paths are applied.
</td></tr>
<tr><td align="left" valign="top"><a href="#Recipes_002fSearch">4.5.4 Writing Recipes with Directory Search</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to write recipes that work together
                                  with search paths.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How search paths affect implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Directory search for link libraries.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Static Pattern Rules

</pre></th></tr><tr><td align="left" valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                The syntax of static pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Static-versus-Implicit">4.12.2 Static Pattern Rules versus Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      When are they better than implicit rules?
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing Recipes in Rules

</pre></th></tr><tr><td align="left" valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Recipe syntax features and pitfalls.
</td></tr>
<tr><td align="left" valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to control when recipes are echoed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Execution">5.3 Recipe Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How recipes are executed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    How recipes can be executed in parallel.
</td></tr>
<tr><td align="left" valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      What happens after a recipe execution error.
</td></tr>
<tr><td align="left" valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  What happens when a recipe is interrupted.
</td></tr>
<tr><td align="left" valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Invoking <code>make</code> from makefiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Defining canned recipes.
</td></tr>
<tr><td align="left" valign="top"><a href="#Empty-Recipes">5.9 Using Empty Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Defining useful, do-nothing recipes.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Recipe Syntax

</pre></th></tr><tr><td align="left" valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Breaking long recipe lines for readability.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables-in-Recipes">5.1.2 Using Variables in Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Using <code>make</code> variables in recipes.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Recipe Execution

</pre></th></tr><tr><td align="left" valign="top"><a href="#One-Shell">5.3.1 Using One Shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   One shell for all lines in a recipe.
</td></tr>
<tr><td align="left" valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How <code>make</code> chooses the shell used
                                  to run recipes.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Parallel Execution

</pre></th></tr><tr><td align="left" valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Handling output during parallel execution
</td></tr>
<tr><td align="left" valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Handling input during parallel execution
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Recursive Use of <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               The special effects of using &lsquo;<samp>$(MAKE)</samp>&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to communicate variables to a sub-<code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to communicate options to a sub-<code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How the &lsquo;<samp>-w</samp>&rsquo; or &lsquo;<samp>--print-directory</samp>&rsquo; option
                                  helps debug use of recursive <code>make</code> commands.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Use Variables

</pre></th></tr><tr><td align="left" valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How to use the value of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Variables come in two flavors.
</td></tr>
<tr><td align="left" valign="top"><a href="#Advanced">6.3 Advanced Features for Reference to Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Advanced features for referencing a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Values">6.4 How Variables Get Their Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      All the ways variables get their values.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting">6.5 Setting Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to set a variable in the makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Appending">6.6 Appending More Text to Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How to append more text to the old value
                                  of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Override-Directive">6.7 The <code>override</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to set a variable in the makefile even if
                                  the user has set it with a command argument.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  An alternate way to set a variable
                                  to a multi-line string.
</td></tr>
<tr><td align="left" valign="top"><a href="#Undefine-Directive">6.9 Undefining Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to undefine a variable so that it appears
                                  as if it was never set.
</td></tr>
<tr><td align="left" valign="top"><a href="#Environment">6.10 Variables from the Environment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Variable values can come from the environment.
</td></tr>
<tr><td align="left" valign="top"><a href="#Target_002dspecific">6.11 Target-specific Variable Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Variable values can be defined on a per-target
                                  basis.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern_002dspecific">6.12 Pattern-specific Variable Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Target-specific variable values can be applied
                                  to a group of targets that match a pattern.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Suppress inheritance of variables.
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Variables with special meaning or behavior.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Advanced Features for Reference to Variables

</pre></th></tr><tr><td align="left" valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Referencing a variable with
                                  substitutions on the value.
</td></tr>
<tr><td align="left" valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Computing the name of the variable to refer to.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Conditional Parts of Makefiles

</pre></th></tr><tr><td align="left" valign="top"><a href="#Conditional-Example">7.1 Example of a Conditional</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Example of a conditional
</td></tr>
<tr><td align="left" valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          The syntax of conditionals.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing-Flags">7.3 Conditionals that Test Flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Conditionals that test flags.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Functions for Transforming Text

</pre></th></tr><tr><td align="left" valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to write a function call.
</td></tr>
<tr><td align="left" valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              General-purpose text manipulation functions.
</td></tr>
<tr><td align="left" valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Functions for manipulating file names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Functions that implement conditions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Foreach-Function">8.5 The <code>foreach</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Repeat some text with controlled variation.
</td></tr>
<tr><td align="left" valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Write text to a file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Call-Function">8.7 The <code>call</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Expand a user-defined function.
</td></tr>
<tr><td align="left" valign="top"><a href="#Value-Function">8.8 The <code>value</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Return the un-expanded value of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Eval-Function">8.9 The <code>eval</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Evaluate the arguments as makefile syntax.
</td></tr>
<tr><td align="left" valign="top"><a href="#Origin-Function">8.10 The <code>origin</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Find where a variable got its value.
</td></tr>
<tr><td align="left" valign="top"><a href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Find out the flavor of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Functions that control how make runs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Substitute the output of a shell command.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Function">8.14 The <code>guile</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Use GNU Guile embedded scripting language.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
How to Run <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to specify which makefile to use.
</td></tr>
<tr><td align="left" valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       How to use goal arguments to specify which
                                  parts of the makefile to use.
</td></tr>
<tr><td align="left" valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to use mode flags to specify what
                                  kind of thing to do with the recipes
                                  in the makefile other than simply
                                  execute them.
</td></tr>
<tr><td align="left" valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to avoid recompiling certain files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  How to override a variable to specify
                                  an alternate compiler and other things.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to proceed past some errors, to
                                  test compilation.
</td></tr>
<tr><td align="left" valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Using Implicit Rules

</pre></th></tr><tr><td align="left" valign="top"><a href="#Using-Implicit">10.1 Using Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to use an existing implicit rule
                                  to get the recipes for updating a file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          A list of built-in rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to change what predefined rules do.
</td></tr>
<tr><td align="left" valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How to use a chain of implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Rules">10.5 Defining and Redefining Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How to define new implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 How to define a recipe for rules which
                                  cannot find any.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                The old-fashioned style of implicit rule.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit-Rule-Search">10.8 Implicit Rule Search Algorithm</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        The precise algorithm for applying
                                  implicit rules.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Defining and Redefining Pattern Rules

</pre></th></tr><tr><td align="left" valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               An introduction to pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Examples">10.5.2 Pattern Rule Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Examples of pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to use automatic variables in the
                                  recipe of implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How patterns match.
</td></tr>
<tr><td align="left" valign="top"><a href="#Match_002dAnything-Rules">10.5.5 Match-Anything Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Precautions you should take prior to
                                  defining rules that can match any
                                  target file whatever.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canceling-Rules">10.5.6 Canceling Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to override or cancel built-in rules.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Using <code>make</code> to Update Archive Files

</pre></th></tr><tr><td align="left" valign="top"><a href="#Archive-Members">11.1 Archive Members as Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Archive members as targets.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Update">11.2 Implicit Rule for Archive Member Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              The implicit rule for archive member targets.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Dangers to watch out for when using archives.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        You can write a special kind of suffix rule
                                  for updating archives.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Implicit Rule for Archive Member Targets

</pre></th></tr><tr><td align="left" valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to update archive symbol directories.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Extending GNU <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#Guile-Integration">12.1 GNU Guile Integration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Using Guile as an embedded scripting language.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loading-Objects">12.2 Loading Dynamic Objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Loading dynamic objects as extensions.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
GNU Guile Integration

</pre></th></tr><tr><td align="left" valign="top"><a href="#Guile-Types">12.1.1 Conversion of Guile Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Converting Guile types to <code>make</code> strings.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Invoking <code>make</code> functions from Guile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Example">12.1.3 Example Using Guile in <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Example using Guile in <code>make</code>.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Loading Dynamic Objects

</pre></th></tr><tr><td align="left" valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Loading dynamic objects as extensions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How loaded objects get remade.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loaded-Object-API">12.2.3 Loaded Object Interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Programmatic interface for loaded objects.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loaded-Object-Example">12.2.4 Example Loaded Object</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Example of a loaded object
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Integrating GNU <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Share job slots with GNU <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Terminal-Output">13.2 Synchronized Terminal Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Control output to terminals.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
Sharing Job Slots with GNU <code>make</code>

</pre></th></tr><tr><td align="left" valign="top"><a href="#POSIX-Jobserver">13.1.1 POSIX Jobserver Interaction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Using the jobserver on POSIX systems.
</td></tr>
<tr><td align="left" valign="top"><a href="#Windows-Jobserver">13.1.2 Windows Jobserver Interaction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Using the jobserver on Windows systems.
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th></tr></table>

<hr size="1">
<a name="Overview"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Reading" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overview-of-make"></a>
<h1 class="chapter">1. Overview of <code>make</code></h1>

<p>Утилита make <code>make</code> автоматически определяет какие части большой 
программы должны быть перекомпилированы, и выполняет необходимые для этого 
действия. В данном руководстве описывается программа GNU <code>make</code>, 
авторами которой являются Richard Stallman и Roland McGrath. 
Начиная с версии 3.76, разработку программы ведет Paul D. Smith.
</p>
<p>GNU <code>make</code> удовлетворяет требованиям раздела 6.2 стандарта IEEE 
Standard 1003.2-1992 (POSIX.2).
<a name="index-POSIX"></a>
<a name="index-IEEE-Standard-1003_002e2"></a>
<a name="index-standards-conformance"></a>
</p>
<p>В приводимых примерах будут фигурировать программы на языке Си, поскольку 
они широко распространены. Однако, вы можете использовать <code>make</code> с 
любым языком программирования для которого имеется компилятор, работающий 
из командной строки. На самом деле, область применения <code>make</code> 
не ограничивается только сборкой программ. Вы можете использовать ее для 
решения любых задач, где одни файлы должны автоматически обновляться при 
изменении других файлов.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Preparing">&bull; Preparing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Preparing and running <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Reading">1.1 How to Read This Manual</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     On reading this text.
</td></tr>
<tr><td align="left" valign="top"><a href="#Bugs">1.2 Problems and Bugs</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                        Problems and bugs.
</td></tr>
</table>

<a name="Preparing"></a>
<a name="Preparing-and-Running-Make"></a>
<h2 class="heading">Preparing and Running Make</h2>

<p>Перед тем, как использовать <code>make</code>, вы должны создать 
так называемый <em>make-файл (makefile)</em>, который будет описывать 
зависимости между файлами вашей программы, и содержать команды 
для обновления этих файлов. Как правило, исполняемый файл программы 
зависит от объектных файлов, которые, в свою очередь, получаются 
в результате компиляции соответствующих файлов с исходными текстами.
</p>
<p>После того, как нужный make-файл создан, простой команды :
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make
</pre></td></tr></table>

<p>будет достаточно для выполнения всех необходимых перекомпиляций
если какие-либо из исходных файлов программы были изменены. Используя 
информацию из make-файла, и, зная время последней модефикации файлов, утилита make решает, каких из файлов должны быть обновлены. Для каждого из этих файлов будут выполнены указанные в make-файле команды.
</p>
<p>suffices to perform all necessary recompilations.  The <code>make</code> program
uses the makefile data base and the last-modification times of the files to
decide which of the files need to be updated.  For each of those files, it
issues the recipes recorded in the data base.
</p>
<p>You can provide command line arguments to <code>make</code> to control which
files should be recompiled, or how.  See section <a href="#Running">How to Run <code>make</code></a>.
</p>
<hr size="6">
<a name="Reading"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overview" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Bugs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Overview" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overview" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-to-Read-This-Manual"></a>
<h2 class="section">1.1 How to Read This Manual</h2>

<p>If you are new to <code>make</code>, or are looking for a general
introduction, read the first few sections of each chapter, skipping the
later sections.  In each chapter, the first few sections contain
introductory or general information and the later sections contain
specialized or technical information.
The exception is the second chapter, <a href="#Introduction">An Introduction to Makefiles</a>, all of which is introductory.
</p>
<p>If you are familiar with other <code>make</code> programs, see <a href="#Features">Features of GNU <code>make</code></a>, which lists the enhancements GNU
<code>make</code> has, and <a href="#Missing">Incompatibilities and Missing Features</a>, which explains the few things GNU <code>make</code> lacks that
others have.
</p>
<p>For a quick summary, see <a href="#Options-Summary">Summary of Options</a>, <a href="#Quick-Reference">Quick Reference</a>,
and <a href="#Special-Targets">Special Built-in Target Names</a>.
</p>
<hr size="6">
<a name="Bugs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Reading" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Overview" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overview" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Problems-and-Bugs"></a>
<h2 class="section">1.2 Problems and Bugs</h2>
<a name="index-reporting-bugs"></a>
<a name="index-bugs_002c-reporting"></a>
<a name="index-problems-and-bugs_002c-reporting"></a>

<p>If you have problems with GNU <code>make</code> or think you&rsquo;ve found a bug,
please report it to the developers; we cannot promise to do anything but
we might well want to fix it.
</p>
<p>Before reporting a bug, make sure you&rsquo;ve actually found a real bug.
Carefully reread the documentation and see if it really says you can do
what you&rsquo;re trying to do.  If it&rsquo;s not clear whether you should be able
to do something or not, report that too; it&rsquo;s a bug in the
documentation!
</p>
<p>Before reporting a bug or trying to fix it yourself, try to isolate it
to the smallest possible makefile that reproduces the problem.  Then
send us the makefile and the exact results <code>make</code> gave you,
including any error or warning messages.  Please don&rsquo;t paraphrase
these messages: it&rsquo;s best to cut and paste them into your report.
When generating this small makefile, be sure to not use any non-free
or unusual tools in your recipes: you can almost always emulate what
such a tool would do with simple shell commands.  Finally, be sure to
explain what you expected to occur; this will help us decide whether
the problem was really in the documentation.
</p>
<p>Once you have a precise problem you can report it in one of two ways.
Either send electronic mail to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    bug-make@gnu.org
</pre></td></tr></table>

<p>or use our Web-based project management tool, at:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">    http://savannah.gnu.org/projects/make/
</pre></td></tr></table>

<p>In addition to the information above, please be careful to include the
version number of <code>make</code> you are using.  You can get this
information with the command &lsquo;<samp>make --version</samp>&rsquo;.  Be sure also to
include the type of machine and operating system you are using.  One
way to obtain this information is by looking at the final lines of
output from the command &lsquo;<samp>make --help</samp>&rsquo;.
</p>
<hr size="6">
<a name="Introduction"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Bugs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rule-Introduction" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Overview" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="An-Introduction-to-Makefiles"></a>
<h1 class="chapter">2. An Introduction to Makefiles</h1>

<p>You need a file called a <em>makefile</em> to tell <code>make</code> what to do.
Most often, the makefile tells <code>make</code> how to compile and link a
program.
<a name="index-makefile"></a>
</p>
<p>In this chapter, we will discuss a simple makefile that describes how to
compile and link a text editor which consists of eight C source files
and three header files.  The makefile can also tell <code>make</code> how to
run miscellaneous commands when explicitly asked (for example, to remove
certain files as a clean-up operation).  To see a more complex example
of a makefile, see <a href="#Complex-Makefile">Complex Makefile Example</a>.
</p>
<p>When <code>make</code> recompiles the editor, each changed C source file
must be recompiled.  If a header file has changed, each C source file
that includes the header file must be recompiled to be safe.  Each
compilation produces an object file corresponding to the source file.
Finally, if any source file has been recompiled, all the object files,
whether newly made or saved from previous compilations, must be linked
together to produce the new executable editor.
<a name="index-recompilation"></a>
<a name="index-editor"></a>
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What a rule looks like.
</td></tr>
<tr><td align="left" valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             A simple makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How <code>make</code> processes this makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          Variables make makefiles simpler.
</td></tr>
<tr><td align="left" valign="top"><a href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                Letting <code>make</code> deduce the recipes.
</td></tr>
<tr><td align="left" valign="top"><a href="#Combine-By-Prerequisite">2.6 Another Style of Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Another style of makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Cleanup">2.7 Rules for Cleaning the Directory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Rules for cleaning the directory.
</td></tr>
</table>

<hr size="6">
<a name="Rule-Introduction"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Simple-Makefile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="What-a-Rule-Looks-Like"></a>
<h2 class="section">2.1 What a Rule Looks Like</h2>
<a name="index-rule_002c-introduction-to"></a>
<a name="index-makefile-rule-parts"></a>
<a name="index-parts-of-makefile-rule"></a>

<p>A simple makefile consists of &ldquo;rules&rdquo; with the following shape:
</p>
<a name="index-targets_002c-introduction-to"></a>
<a name="index-prerequisites_002c-introduction-to"></a>
<a name="index-recipes_002c-introduction-to"></a>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>target</var> &hellip; : <var>prerequisites</var> &hellip;
        <var>recipe</var>
        &hellip;
        &hellip;
</pre></td></tr></table>

<p>A <em>target</em> is usually the name of a file that is generated by a
program; examples of targets are executable or object files.  A target
can also be the name of an action to carry out, such as &lsquo;<samp>clean</samp>&rsquo;
(see section <a href="#Phony-Targets">Phony Targets</a>).
</p>
<p>A <em>prerequisite</em> is a file that is used as input to create the
target.  A target often depends on several files.
</p>
<a name="index-tabs-in-rules"></a>
<p>A <em>recipe</em> is an action that <code>make</code> carries out.  A recipe
may have more than one command, either on the same line or each on its
own line.  <strong>Please note:</strong> you need to put a tab character at
the beginning of every recipe line!  This is an obscurity that catches
the unwary.  If you prefer to prefix your recipes with a character
other than tab, you can set the <code>.RECIPEPREFIX</code> variable to an
alternate character (see section <a href="#Special-Variables">Other Special Variables</a>).
</p>
<p>Usually a recipe is in a rule with prerequisites and serves to create a
target file if any of the prerequisites change.  However, the rule that
specifies a recipe for the target need not have prerequisites.  For
example, the rule containing the delete command associated with the
target &lsquo;<samp>clean</samp>&rsquo; does not have prerequisites.
</p>
<p>A <em>rule</em>, then, explains how and when to remake certain files
which are the targets of the particular rule.  <code>make</code> carries out
the recipe on the prerequisites to create or update the target.  A
rule can also explain how and when to carry out an action.
See section <a href="#Rules">Writing Rules</a>.
</p>
<p>A makefile may contain other text besides rules, but a simple makefile
need only contain rules.  Rules may look somewhat more complicated
than shown in this template, but all fit the pattern more or less.
</p>
<hr size="6">
<a name="Simple-Makefile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Rule-Introduction" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#How-Make-Works" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="A-Simple-Makefile"></a>
<h2 class="section">2.2 A Simple Makefile</h2>
<a name="index-simple-makefile"></a>
<a name="index-makefile_002c-simple"></a>

<p>Here is a straightforward makefile that describes the way an
executable file called <code>edit</code> depends on eight object files
which, in turn, depend on eight C source and three header files.
</p>
<p>In this example, all the C files include &lsquo;<tt>defs.h</tt>&rsquo;, but only those
defining editing commands include &lsquo;<tt>command.h</tt>&rsquo;, and only low
level files that change the editor buffer include &lsquo;<tt>buffer.h</tt>&rsquo;.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">edit : main.o kbd.o command.o display.o \
       insert.o search.o files.o utils.o
        cc -o edit main.o kbd.o command.o display.o \
                   insert.o search.o files.o utils.o

main.o : main.c defs.h
        cc -c main.c
kbd.o : kbd.c defs.h command.h
        cc -c kbd.c
command.o : command.c defs.h command.h
        cc -c command.c
display.o : display.c defs.h buffer.h
        cc -c display.c
insert.o : insert.c defs.h buffer.h
        cc -c insert.c
search.o : search.c defs.h buffer.h
        cc -c search.c
files.o : files.c defs.h buffer.h command.h
        cc -c files.c
utils.o : utils.c defs.h
        cc -c utils.c
clean :
        rm edit main.o kbd.o command.o display.o \
           insert.o search.o files.o utils.o
</pre></td></tr></table>

<p>We split each long line into two lines using backslash/newline; this is
like using one long line, but is easier to read.  See section <a href="#Splitting-Lines">Splitting Long Lines</a>.
<a name="index-continuation-lines"></a>
<a name="index-_005c-_0028backslash_0029_002c-for-continuation-lines"></a>
<a name="index-backslash-_0028_005c_0029_002c-for-continuation-lines"></a>
<a name="index-quoting-newline_002c-in-makefile"></a>
<a name="index-newline_002c-quoting_002c-in-makefile"></a>
</p>
<p>To use this makefile to create the executable file called &lsquo;<tt>edit</tt>&rsquo;,
type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make
</pre></td></tr></table>

<p>To use this makefile to delete the executable file and all the object
files from the directory, type:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make clean
</pre></td></tr></table>

<p>In the example makefile, the targets include the executable file
&lsquo;<samp>edit</samp>&rsquo;, and the object files &lsquo;<samp>main.o</samp>&rsquo; and &lsquo;<samp>kbd.o</samp>&rsquo;.  The
prerequisites are files such as &lsquo;<samp>main.c</samp>&rsquo; and &lsquo;<samp>defs.h</samp>&rsquo;.
In fact, each &lsquo;<samp>.o</samp>&rsquo; file is both a target and a prerequisite.
Recipes include &lsquo;<samp>cc -c main.c</samp>&rsquo; and &lsquo;<samp>cc -c kbd.c</samp>&rsquo;.
</p>
<p>When a target is a file, it needs to be recompiled or relinked if any
of its prerequisites change.  In addition, any prerequisites that are
themselves automatically generated should be updated first.  In this
example, &lsquo;<tt>edit</tt>&rsquo; depends on each of the eight object files; the
object file &lsquo;<tt>main.o</tt>&rsquo; depends on the source file &lsquo;<tt>main.c</tt>&rsquo; and
on the header file &lsquo;<tt>defs.h</tt>&rsquo;.
</p>
<p>A recipe may follow each line that contains a target and
prerequisites.  These recipes say how to update the target file.  A
tab character (or whatever character is specified by the
<code>.RECIPEPREFIX</code> variable; see section <a href="#Special-Variables">Other Special Variables</a>) must come at
the beginning of every line in the recipe to distinguish recipes from
other lines in the makefile.  (Bear in mind that <code>make</code> does not
know anything about how the recipes work.  It is up to you to supply
recipes that will update the target file properly.  All <code>make</code>
does is execute the recipe you have specified when the target file
needs to be updated.)
<a name="index-recipe"></a>
</p>
<p>The target &lsquo;<samp>clean</samp>&rsquo; is not a file, but merely the name of an
action.  Since you normally do not want to carry out the actions in
this rule, &lsquo;<samp>clean</samp>&rsquo; is not a prerequisite of any other rule.
Consequently, <code>make</code> never does anything with it unless you tell
it specifically.  Note that this rule not only is not a prerequisite,
it also does not have any prerequisites, so the only purpose of the
rule is to run the specified recipe.  Targets that do not refer to
files but are just actions are called <em>phony targets</em>.
See section <a href="#Phony-Targets">Phony Targets</a>, for information about this kind of target.
See section <a href="#Errors">Errors in Recipes</a>, to see how to cause <code>make</code>
to ignore errors from <code>rm</code> or any other command.
<a name="index-clean-target"></a>
<a name="index-rm-_0028shell-command_0029"></a>
</p>
<hr size="6">
<a name="How-Make-Works"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Simple-Makefile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Variables-Simplify" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-make-Processes-a-Makefile"></a>
<h2 class="section">2.3 How <code>make</code> Processes a Makefile</h2>
<a name="index-processing-a-makefile"></a>
<a name="index-makefile_002c-how-make-processes"></a>

<p>By default, <code>make</code> starts with the first target (not targets whose
names start with &lsquo;<samp>.</samp>&rsquo;).  This is called the <em>default goal</em>.
(<em>Goals</em> are the targets that <code>make</code> strives ultimately to
update.    You can override this behavior using the command line
(see section <a href="#Goals">Arguments to Specify the Goals</a>) or with the
<code>.DEFAULT_GOAL</code> special variable (see section <a href="#Special-Variables">Other Special Variables</a>).
<a name="index-default-goal"></a>
<a name="index-goal_002c-default"></a>
<a name="index-goal"></a>
</p>
<p>In the simple example of the previous section, the default goal is to
update the executable program &lsquo;<tt>edit</tt>&rsquo;; therefore, we put that rule
first.
</p>
<p>Thus, when you give the command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make
</pre></td></tr></table>

<p><code>make</code> reads the makefile in the current directory and begins by
processing the first rule.  In the example, this rule is for relinking
&lsquo;<tt>edit</tt>&rsquo;; but before <code>make</code> can fully process this rule, it
must process the rules for the files that &lsquo;<tt>edit</tt>&rsquo; depends on,
which in this case are the object files.  Each of these files is
processed according to its own rule.  These rules say to update each
&lsquo;<samp>.o</samp>&rsquo; file by compiling its source file.  The recompilation must
be done if the source file, or any of the header files named as
prerequisites, is more recent than the object file, or if the object
file does not exist.
</p>
<p>The other rules are processed because their targets appear as
prerequisites of the goal.  If some other rule is not depended on by the
goal (or anything it depends on, etc.), that rule is not processed,
unless you tell <code>make</code> to do so (with a command such as
<code>make clean</code>).
</p>
<p>Before recompiling an object file, <code>make</code> considers updating its
prerequisites, the source file and header files.  This makefile does not
specify anything to be done for them&mdash;the &lsquo;<samp>.c</samp>&rsquo; and &lsquo;<samp>.h</samp>&rsquo; files
are not the targets of any rules&mdash;so <code>make</code> does nothing for these
files.  But <code>make</code> would update automatically generated C programs,
such as those made by Bison or Yacc, by their own rules at this time.
</p>
<p>After recompiling whichever object files need it, <code>make</code> decides
whether to relink &lsquo;<tt>edit</tt>&rsquo;.  This must be done if the file
&lsquo;<tt>edit</tt>&rsquo; does not exist, or if any of the object files are newer than
it.  If an object file was just recompiled, it is now newer than
&lsquo;<tt>edit</tt>&rsquo;, so &lsquo;<tt>edit</tt>&rsquo; is relinked.
<a name="index-relinking"></a>
</p>
<p>Thus, if we change the file &lsquo;<tt>insert.c</tt>&rsquo; and run <code>make</code>,
<code>make</code> will compile that file to update &lsquo;<tt>insert.o</tt>&rsquo;, and then
link &lsquo;<tt>edit</tt>&rsquo;.  If we change the file &lsquo;<tt>command.h</tt>&rsquo; and run
<code>make</code>, <code>make</code> will recompile the object files &lsquo;<tt>kbd.o</tt>&rsquo;,
&lsquo;<tt>command.o</tt>&rsquo; and &lsquo;<tt>files.o</tt>&rsquo; and then link the file &lsquo;<tt>edit</tt>&rsquo;.
</p>
<hr size="6">
<a name="Variables-Simplify"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#How-Make-Works" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#make-Deduces" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Variables-Make-Makefiles-Simpler"></a>
<h2 class="section">2.4 Variables Make Makefiles Simpler</h2>
<a name="index-variables"></a>
<a name="index-simplifying-with-variables"></a>

<p>In our example, we had to list all the object files twice in the rule for
&lsquo;<tt>edit</tt>&rsquo; (repeated here):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">edit : main.o kbd.o command.o display.o \
              insert.o search.o files.o utils.o
        cc -o edit main.o kbd.o command.o display.o \
                   insert.o search.o files.o utils.o
</pre></td></tr></table>

<a name="index-objects"></a>
<p>Such duplication is error-prone; if a new object file is added to the
system, we might add it to one list and forget the other.  We can eliminate
the risk and simplify the makefile by using a variable.  <em>Variables</em>
allow a text string to be defined once and substituted in multiple places
later (see section <a href="#Using-Variables">How to Use Variables</a>).
</p>
<a name="index-OBJECTS"></a>
<a name="index-objs"></a>
<a name="index-OBJS"></a>
<a name="index-obj"></a>
<a name="index-OBJ"></a>
<p>It is standard practice for every makefile to have a variable named
<code>objects</code>, <code>OBJECTS</code>, <code>objs</code>, <code>OBJS</code>, <code>obj</code>,
or <code>OBJ</code> which is a list of all object file names.  We would
define such a variable <code>objects</code> with a line like this in the
makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o kbd.o command.o display.o \
          insert.o search.o files.o utils.o
</pre></td></tr></table>

<p>Then, each place we want to put a list of the object file names, we can
substitute the variable&rsquo;s value by writing &lsquo;<samp>$(objects)</samp>&rsquo;
(see section <a href="#Using-Variables">How to Use Variables</a>).
</p>
<p>Here is how the complete simple makefile looks when you use a variable
for the object files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o kbd.o command.o display.o \
          insert.o search.o files.o utils.o

edit : $(objects)
        cc -o edit $(objects)
main.o : main.c defs.h
        cc -c main.c
kbd.o : kbd.c defs.h command.h
        cc -c kbd.c
command.o : command.c defs.h command.h
        cc -c command.c
display.o : display.c defs.h buffer.h
        cc -c display.c
insert.o : insert.c defs.h buffer.h
        cc -c insert.c
search.o : search.c defs.h buffer.h
        cc -c search.c
files.o : files.c defs.h buffer.h command.h
        cc -c files.c
utils.o : utils.c defs.h
        cc -c utils.c
clean :
        rm edit $(objects)
</pre></td></tr></table>

<hr size="6">
<a name="make-Deduces"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Variables-Simplify" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Combine-By-Prerequisite" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Letting-make-Deduce-the-Recipes"></a>
<h2 class="section">2.5 Letting <code>make</code> Deduce the Recipes</h2>
<a name="index-deducing-recipes-_0028implicit-rules_0029"></a>
<a name="index-implicit-rule_002c-introduction-to"></a>
<a name="index-rule_002c-implicit_002c-introduction-to"></a>

<p>It is not necessary to spell out the recipes for compiling the individual
C source files, because <code>make</code> can figure them out: it has an
<em>implicit rule</em> for updating a &lsquo;<samp>.o</samp>&rsquo; file from a correspondingly
named &lsquo;<samp>.c</samp>&rsquo; file using a &lsquo;<samp>cc -c</samp>&rsquo; command.  For example, it will
use the recipe &lsquo;<samp>cc -c main.c -o main.o</samp>&rsquo; to compile &lsquo;<tt>main.c</tt>&rsquo; into
&lsquo;<tt>main.o</tt>&rsquo;.  We can therefore omit the recipes from the rules for the
object files.  See section <a href="#Implicit-Rules">Using Implicit Rules</a>.
</p>
<p>When a &lsquo;<samp>.c</samp>&rsquo; file is used automatically in this way, it is also
automatically added to the list of prerequisites.  We can therefore omit
the &lsquo;<samp>.c</samp>&rsquo; files from the prerequisites, provided we omit the recipe.
</p>
<p>Here is the entire example, with both of these changes, and a variable
<code>objects</code> as suggested above:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o kbd.o command.o display.o \
          insert.o search.o files.o utils.o

edit : $(objects)
        cc -o edit $(objects)

main.o : defs.h
kbd.o : defs.h command.h
command.o : defs.h command.h
display.o : defs.h buffer.h
insert.o : defs.h buffer.h
search.o : defs.h buffer.h
files.o : defs.h buffer.h command.h
utils.o : defs.h

.PHONY : clean
clean :
        rm edit $(objects)
</pre></td></tr></table>

<p>This is how we would write the makefile in actual practice.  (The
complications associated with &lsquo;<samp>clean</samp>&rsquo; are described elsewhere.
See <a href="#Phony-Targets">Phony Targets</a>, and <a href="#Errors">Errors in Recipes</a>.)
</p>
<p>Because implicit rules are so convenient, they are important.  You
will see them used frequently.
</p>
<hr size="6">
<a name="Combine-By-Prerequisite"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#make-Deduces" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Cleanup" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Another-Style-of-Makefile"></a>
<h2 class="section">2.6 Another Style of Makefile</h2>
<a name="index-combining-rules-by-prerequisite"></a>

<p>When the objects of a makefile are created only by implicit rules, an
alternative style of makefile is possible.  In this style of makefile,
you group entries by their prerequisites instead of by their targets.
Here is what one looks like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o kbd.o command.o display.o \
          insert.o search.o files.o utils.o

edit : $(objects)
        cc -o edit $(objects)

$(objects) : defs.h
kbd.o command.o files.o : command.h
display.o insert.o search.o files.o : buffer.h
</pre></td></tr></table>

<p>Here &lsquo;<tt>defs.h</tt>&rsquo; is given as a prerequisite of all the object files;
&lsquo;<tt>command.h</tt>&rsquo; and &lsquo;<tt>buffer.h</tt>&rsquo; are prerequisites of the specific
object files listed for them.
</p>
<p>Whether this is better is a matter of taste: it is more compact, but some
people dislike it because they find it clearer to put all the information
about each target in one place.
</p>
<hr size="6">
<a name="Cleanup"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Combine-By-Prerequisite" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Introduction" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Rules-for-Cleaning-the-Directory"></a>
<h2 class="section">2.7 Rules for Cleaning the Directory</h2>
<a name="index-cleaning-up"></a>
<a name="index-removing_002c-to-clean-up"></a>

<p>Compiling a program is not the only thing you might want to write rules
for.  Makefiles commonly tell how to do a few other things besides
compiling a program: for example, how to delete all the object files
and executables so that the directory is &lsquo;<samp>clean</samp>&rsquo;.
</p>
<a name="index-clean-target-1"></a>
<p>Here is how we
could write a <code>make</code> rule for cleaning our example editor:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">clean:
        rm edit $(objects)
</pre></td></tr></table>

<p>In practice, we might want to write the rule in a somewhat more
complicated manner to handle unanticipated situations.  We would do this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.PHONY : clean
clean :
        -rm edit $(objects)
</pre></td></tr></table>

<p>This prevents <code>make</code> from getting confused by an actual file
called &lsquo;<tt>clean</tt>&rsquo; and causes it to continue in spite of errors from
<code>rm</code>.  (See <a href="#Phony-Targets">Phony Targets</a>, and <a href="#Errors">Errors in Recipes</a>.)
</p>
<p>A rule such as this should not be placed at the beginning of the
makefile, because we do not want it to run by default!  Thus, in the
example makefile, we want the rule for <code>edit</code>, which recompiles
the editor, to remain the default goal.
</p>
<p>Since <code>clean</code> is not a prerequisite of <code>edit</code>, this rule will not
run at all if we give the command &lsquo;<samp>make</samp>&rsquo; with no arguments.  In
order to make the rule run, we have to type &lsquo;<samp>make clean</samp>&rsquo;.
See section <a href="#Running">How to Run <code>make</code></a>.
</p>
<hr size="6">
<a name="Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Cleanup" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Contents" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Introduction" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Makefiles"></a>
<h1 class="chapter">3. Writing Makefiles</h1>

<a name="index-makefile_002c-how-to-write"></a>
<p>The information that tells <code>make</code> how to recompile a system comes from
reading a data base called the <em>makefile</em>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           What makefiles contain.
</td></tr>
<tr><td align="left" valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to name your makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How one makefile can use another makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          The environment can specify extra makefiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How makefiles get remade.
</td></tr>
<tr><td align="left" valign="top"><a href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to override part of one makefile
                                  with another makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Reading-Makefiles">3.7 How <code>make</code> Reads a Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How makefiles are read in.
</td></tr>
<tr><td align="left" valign="top"><a href="#Parsing-Makefiles">3.8 How Makefiles Are Parsed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How makefiles are parsed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Secondary-Expansion">3.9 Secondary Expansion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How and when secondary expansion is performed.
</td></tr>
</table>

<hr size="6">
<a name="Makefile-Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Splitting-Lines" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="What-Makefiles-Contain"></a>
<h2 class="section">3.1 What Makefiles Contain</h2>

<p>Makefiles contain five kinds of things: <em>explicit rules</em>,
<em>implicit rules</em>, <em>variable definitions</em>, <em>directives</em>,
and <em>comments</em>.  Rules, variables, and directives are described at
length in later chapters.
</p>
<ul>
<li><a name="index-rule_002c-explicit_002c-definition-of"></a>
<a name="index-explicit-rule_002c-definition-of"></a>
</li><li>
An <em>explicit rule</em> says when and how to remake one or more files,
called the rule&rsquo;s <em>targets</em>.  It lists the other files that the
targets depend on, called the <em>prerequisites</em> of the target, and
may also give a recipe to use to create or update the targets.
See section <a href="#Rules">Writing Rules</a>.

<a name="index-rule_002c-implicit_002c-definition-of"></a>
<a name="index-implicit-rule_002c-definition-of"></a>
</li><li>
An <em>implicit rule</em> says when and how to remake a class of files
based on their names.  It describes how a target may depend on a file
with a name similar to the target and gives a recipe to create or
update such a target.  See section <a href="#Implicit-Rules">Using Implicit Rules</a>.

<a name="index-variable-definition"></a>
</li><li>
A <em>variable definition</em> is a line that specifies a text string
value for a variable that can be substituted into the text later.  The
simple makefile example shows a variable definition for <code>objects</code>
as a list of all object files (see section <a href="#Variables-Simplify">Variables Make Makefiles Simpler</a>).

<a name="index-directive"></a>
</li><li>
A <em>directive</em> is an instruction for <code>make</code> to do something
special while reading the makefile.  These include:

<ul>
<li>
Reading another makefile (see section <a href="#Include">Including Other Makefiles</a>).

</li><li>
Deciding (based on the values of variables) whether to use or
ignore a part of the makefile (see section <a href="#Conditionals">Conditional Parts of Makefiles</a>).

</li><li>
Defining a variable from a verbatim string containing multiple lines
(see section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>).
</li></ul>

<a name="index-comments_002c-in-makefile"></a>
<a name="index-_0023-_0028comments_0029_002c-in-makefile"></a>
</li><li>
&lsquo;<samp>#</samp>&rsquo; in a line of a makefile starts a <em>comment</em>.  It and the
rest of the line are ignored, except that a trailing backslash not
escaped by another backslash will continue the comment across multiple
lines.  A line containing just a comment (with perhaps spaces before
it) is effectively blank, and is ignored.  If you want a literal
<code>#</code>, escape it with a backslash (e.g., <code>\#</code>).  Comments may
appear on any line in the makefile, although they are treated
specially in certain situations.

<p>You cannot use comments within variable references or function calls:
any instance of <code>#</code> will be treated literally (rather than as the
start of a comment) inside a variable reference or function call.
</p>
<p>Comments within a recipe are passed to the shell, just as with any
other recipe text.  The shell decides how to interpret it: whether or
not this is a comment is up to the shell.
</p>
<p>Within a <code>define</code> directive, comments are not ignored during the
definition of the variable, but rather kept intact in the value of the
variable.  When the variable is expanded they will either be treated
as <code>make</code> comments or as recipe text, depending on the context in
which the variable is evaluated.
</p></li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Splitting long lines in makefiles
</td></tr>
</table>

<hr size="6">
<a name="Splitting-Lines"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Makefile-Contents" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Contents" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Splitting-Long-Lines"></a>
<h3 class="subsection">3.1.1 Splitting Long Lines</h3>
<a name="index-splitting-long-lines"></a>
<a name="index-long-lines_002c-splitting"></a>
<a name="index-backslash-_0028_005c_0029_002c-to-quote-newlines"></a>

<p>Makefiles use a &ldquo;line-based&rdquo; syntax in which the newline character
is special and marks the end of a statement.  GNU <code>make</code> has no
limit on the length of a statement line, up to the amount of memory in
your computer.
</p>
<p>However, it is difficult to read lines which are too long to display
without wrapping or scrolling.  So, you can format your makefiles for
readability by adding newlines into the middle of a statement: you do
this by escaping the internal newlines with a backslash (<code>\</code>)
character.  Where we need to make a distinction we will refer to
&ldquo;physical lines&rdquo; as a single line ending with a newline (regardless
of whether it is escaped) and a &ldquo;logical line&rdquo; being a complete
statement including all escaped newlines up to the first non-escaped
newline.
</p>
<p>The way in which backslash/newline combinations are handled depends on
whether the statement is a recipe line or a non-recipe line.  Handling
of backslash/newline in a recipe line is discussed later
(see section <a href="#Splitting-Recipe-Lines">Splitting Recipe Lines</a>).
</p>
<p>Outside of recipe lines, backslash/newlines are converted into a
single space character.  Once that is done, all whitespace around the
backslash/newline is condensed into a single space: this includes all
whitespace preceding the backslash, all whitespace at the beginning of
the line after the backslash/newline, and any consecutive
backslash/newline combinations.
</p>
<p>If the <code>.POSIX</code> special target is defined then backslash/newline
handling is modified slightly to conform to POSIX.2: first, whitespace
preceding a backslash is not removed and second, consecutive
backslash/newlines are not condensed.
</p>
<a name="Splitting-Without-Adding-Whitespace"></a>
<h4 class="subsubheading">Splitting Without Adding Whitespace</h4>
<a name="index-whitespace_002c-avoiding-on-line-split"></a>
<a name="index-removing-whitespace-from-split-lines"></a>

<p>If you need to split a line but do <em>not</em> want any whitespace
added, you can utilize a subtle trick: replace your backslash/newline
pairs with the three characters dollar sign/backslash/newline:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">var := one$\
       word
</pre></td></tr></table>

<p>After <code>make</code> removes the backslash/newline and condenses the
following line into a single space, this is equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">var := one$ word
</pre></td></tr></table>

<p>Then <code>make</code> will perform variable expansion.  The variable
reference &lsquo;<samp>$ </samp>&rsquo; refers to a variable with the one-character name
&ldquo; &rdquo; (space) which does not exist, and so expands to the empty
string, giving a final assignment which is the equivalent of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">var := oneword
</pre></td></tr></table>


<hr size="6">
<a name="Makefile-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Splitting-Lines" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Include" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="What-Name-to-Give-Your-Makefile"></a>
<h2 class="section">3.2 What Name to Give Your Makefile</h2>
<a name="index-makefile-name"></a>
<a name="index-name-of-makefile"></a>
<a name="index-default-makefile-name"></a>
<a name="index-file-name-of-makefile"></a>

<p>By default, when <code>make</code> looks for the makefile, it tries the
following names, in order: &lsquo;<tt>GNUmakefile</tt>&rsquo;, &lsquo;<tt>makefile</tt>&rsquo;
and &lsquo;<tt>Makefile</tt>&rsquo;.
<a name="index-Makefile"></a>
<a name="index-GNUmakefile"></a>
<a name="index-makefile-1"></a>
</p>
<a name="index-README"></a>
<p>Normally you should call your makefile either &lsquo;<tt>makefile</tt>&rsquo; or
&lsquo;<tt>Makefile</tt>&rsquo;.  (We recommend &lsquo;<tt>Makefile</tt>&rsquo; because it appears
prominently near the beginning of a directory listing, right near other
important files such as &lsquo;<tt>README</tt>&rsquo;.)  The first name checked,
&lsquo;<tt>GNUmakefile</tt>&rsquo;, is not recommended for most makefiles.  You should
use this name if you have a makefile that is specific to GNU
<code>make</code>, and will not be understood by other versions of
<code>make</code>.  Other <code>make</code> programs look for &lsquo;<tt>makefile</tt>&rsquo; and
&lsquo;<tt>Makefile</tt>&rsquo;, but not &lsquo;<tt>GNUmakefile</tt>&rsquo;.
</p>
<p>If <code>make</code> finds none of these names, it does not use any makefile.
Then you must specify a goal with a command argument, and <code>make</code>
will attempt to figure out how to remake it using only its built-in
implicit rules.  See section <a href="#Implicit-Rules">Using Implicit Rules</a>.
</p>
<a name="index-_002df"></a>
<a name="index-_002d_002dfile"></a>
<a name="index-_002d_002dmakefile"></a>
<p>If you want to use a nonstandard name for your makefile, you can specify
the makefile name with the &lsquo;<samp>-f</samp>&rsquo; or &lsquo;<samp>--file</samp>&rsquo; option.  The
arguments &lsquo;<samp>-f <var>name</var></samp>&rsquo; or &lsquo;<samp>--file=<var>name</var></samp>&rsquo; tell
<code>make</code> to read the file <var>name</var> as the makefile.  If you use
more than one &lsquo;<samp>-f</samp>&rsquo; or &lsquo;<samp>--file</samp>&rsquo; option, you can specify several
makefiles.  All the makefiles are effectively concatenated in the order
specified.  The default makefile names &lsquo;<tt>GNUmakefile</tt>&rsquo;,
&lsquo;<tt>makefile</tt>&rsquo; and &lsquo;<tt>Makefile</tt>&rsquo; are not checked automatically if you
specify &lsquo;<samp>-f</samp>&rsquo; or &lsquo;<samp>--file</samp>&rsquo;.
<a name="index-specifying-makefile-name"></a>
<a name="index-makefile-name_002c-how-to-specify"></a>
<a name="index-name-of-makefile_002c-how-to-specify"></a>
<a name="index-file-name-of-makefile_002c-how-to-specify"></a>
</p>
<hr size="6">
<a name="Include"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Makefile-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#MAKEFILES-Variable" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Including-Other-Makefiles"></a>
<h2 class="section">3.3 Including Other Makefiles</h2>
<a name="index-including-other-makefiles"></a>
<a name="index-makefile_002c-including"></a>

<a name="index-include"></a>
<p>The <code>include</code> directive tells <code>make</code> to suspend reading the
current makefile and read one or more other makefiles before continuing.
The directive is a line in the makefile that looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">include <var>filenames</var>&hellip;
</pre></td></tr></table>

<p><var>filenames</var> can contain shell file name patterns.  If
<var>filenames</var> is empty, nothing is included and no error is printed.
<a name="index-shell-file-name-pattern-_0028in-include_0029"></a>
<a name="index-shell-wildcards-_0028in-include_0029"></a>
<a name="index-wildcard_002c-in-include"></a>
</p>
<p>Extra spaces are allowed and ignored at the beginning of the line, but
the first character must not be a tab (or the value of
<code>.RECIPEPREFIX</code>)&mdash;if the line begins with a tab, it will be
considered a recipe line.  Whitespace is required between
<code>include</code> and the file names, and between file names; extra
whitespace is ignored there and at the end of the directive.  A
comment starting with &lsquo;<samp>#</samp>&rsquo; is allowed at the end of the line.  If
the file names contain any variable or function references, they are
expanded.  See section <a href="#Using-Variables">How to Use Variables</a>.
</p>
<p>For example, if you have three &lsquo;<tt>.mk</tt>&rsquo; files, &lsquo;<tt>a.mk</tt>&rsquo;,
&lsquo;<tt>b.mk</tt>&rsquo;, and &lsquo;<tt>c.mk</tt>&rsquo;, and <code>$(bar)</code> expands to
<code>bish bash</code>, then the following expression
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">include foo *.mk $(bar)
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">include foo a.mk b.mk c.mk bish bash
</pre></td></tr></table>

<p>When <code>make</code> processes an <code>include</code> directive, it suspends
reading of the containing makefile and reads from each listed file in
turn.  When that is finished, <code>make</code> resumes reading the
makefile in which the directive appears.
</p>
<p>One occasion for using <code>include</code> directives is when several programs,
handled by individual makefiles in various directories, need to use a
common set of variable definitions
(see section <a href="#Setting">Setting Variables</a>) or pattern rules
(see section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>).
</p>
<p>Another such occasion is when you want to generate prerequisites from
source files automatically; the prerequisites can be put in a file that
is included by the main makefile.  This practice is generally cleaner
than that of somehow appending the prerequisites to the end of the main
makefile as has been traditionally done with other versions of
<code>make</code>.  See section <a href="#Automatic-Prerequisites">Generating Prerequisites Automatically</a>.
<a name="index-prerequisites_002c-automatic-generation"></a>
<a name="index-automatic-generation-of-prerequisites"></a>
<a name="index-generating-prerequisites-automatically"></a>
</p>
<a name="index-_002dI"></a>
<a name="index-_002d_002dinclude_002ddir"></a>
<a name="index-included-makefiles_002c-default-directories"></a>
<a name="index-default-directories-for-included-makefiles"></a>
<a name="index-_002fusr_002fgnu_002finclude"></a>
<a name="index-_002fusr_002flocal_002finclude"></a>
<a name="index-_002fusr_002finclude"></a>
<p>If the specified name does not start with a slash, and the file is not
found in the current directory, several other directories are searched.
First, any directories you have specified with the &lsquo;<samp>-I</samp>&rsquo; or
&lsquo;<samp>--include-dir</samp>&rsquo; option are searched
(see section <a href="#Options-Summary">Summary of Options</a>).
Then the following directories (if they exist)
are searched, in this order:
&lsquo;<tt><var>prefix</var>/include</tt>&rsquo; (normally &lsquo;<tt>/usr/local/include</tt>&rsquo;
<a name="DOCF1" href="#FOOT1">(1)</a>)
&lsquo;<tt>/usr/gnu/include</tt>&rsquo;,
&lsquo;<tt>/usr/local/include</tt>&rsquo;, &lsquo;<tt>/usr/include</tt>&rsquo;.
</p>
<p>If an included makefile cannot be found in any of these directories, a
warning message is generated, but it is not an immediately fatal error;
processing of the makefile containing the <code>include</code> continues.
Once it has finished reading makefiles, <code>make</code> will try to remake
any that are out of date or don&rsquo;t exist.
See section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>.
Only after it has tried to find a way to remake a makefile and failed,
will <code>make</code> diagnose the missing makefile as a fatal error.
</p>
<p>If you want <code>make</code> to simply ignore a makefile which does not exist
or cannot be remade, with no error message, use the <code>-include</code>
directive instead of <code>include</code>, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-include <var>filenames</var>&hellip;
</pre></td></tr></table>

<p>This acts like <code>include</code> in every way except that there is no
error (not even a warning) if any of the <var>filenames</var> (or any
prerequisites of any of the <var>filenames</var>) do not exist or cannot be
remade.
</p>
<p>For compatibility with some other <code>make</code> implementations,
<code>sinclude</code> is another name for <code>-include</code>.
</p>
<hr size="6">
<a name="MAKEFILES-Variable"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Include" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Remaking-Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Variable-MAKEFILES"></a>
<h2 class="section">3.4 The Variable <code>MAKEFILES</code></h2>
<a name="index-makefile_002c-and-MAKEFILES-variable"></a>
<a name="index-including-_0028MAKEFILES-variable_0029"></a>

<a name="index-MAKEFILES"></a>
<p>If the environment variable <code>MAKEFILES</code> is defined, <code>make</code>
considers its value as a list of names (separated by whitespace) of
additional makefiles to be read before the others.  This works much
like the <code>include</code> directive: various directories are searched
for those files (see section <a href="#Include">Including Other Makefiles</a>).  In
addition, the default goal is never taken from one of these makefiles
(or any makefile included by them) and it is not an error if the files
listed in <code>MAKEFILES</code> are not found.
</p>
<a name="index-recursion_002c-and-MAKEFILES-variable"></a>
<p>The main use of <code>MAKEFILES</code> is in communication between recursive
invocations of <code>make</code> (see section <a href="#Recursion">Recursive Use of <code>make</code></a>).  It usually is not desirable to set the environment
variable before a top-level invocation of <code>make</code>, because it is
usually better not to mess with a makefile from outside.  However, if
you are running <code>make</code> without a specific makefile, a makefile in
<code>MAKEFILES</code> can do useful things to help the built-in implicit
rules work better, such as defining search paths (see section <a href="#Directory-Search">Searching Directories for Prerequisites</a>).
</p>
<p>Some users are tempted to set <code>MAKEFILES</code> in the environment
automatically on login, and program makefiles to expect this to be done.
This is a very bad idea, because such makefiles will fail to work if run by
anyone else.  It is much better to write explicit <code>include</code> directives
in the makefiles.  See section <a href="#Include">Including Other Makefiles</a>.
</p>
<hr size="6">
<a name="Remaking-Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#MAKEFILES-Variable" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overriding-Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Makefiles-Are-Remade"></a>
<h2 class="section">3.5 How Makefiles Are Remade</h2>
<a name="index-updating-makefiles"></a>
<a name="index-remaking-makefiles"></a>
<a name="index-makefile_002c-remaking-of"></a>
<p>Sometimes makefiles can be remade from other files, such as RCS or SCCS
files.  If a makefile can be remade from other files, you probably want
<code>make</code> to get an up-to-date version of the makefile to read in.
</p>
<p>To this end, after reading in all makefiles <code>make</code> will consider
each as a goal target and attempt to update it.  If a makefile has a
rule which says how to update it (found either in that very makefile or
in another one) or if an implicit rule applies to it (see section <a href="#Implicit-Rules">Using Implicit Rules</a>), it will be updated if necessary.  After
all makefiles have been checked, if any have actually been changed,
<code>make</code> starts with a clean slate and reads all the makefiles over
again.  (It will also attempt to update each of them over again, but
normally this will not change them again, since they are already up to
date.)  Each restart will cause the special variable
<code>MAKE_RESTARTS</code> to be updated (see section <a href="#Special-Variables">Other Special Variables</a>).
</p>
<p>If you know that one or more of your makefiles cannot be remade and
you want to keep <code>make</code> from performing an implicit rule search
on them, perhaps for efficiency reasons, you can use any normal method
of preventing implicit rule look-up to do so.  For example, you can
write an explicit rule with the makefile as the target, and an empty
recipe (see section <a href="#Empty-Recipes">Using Empty Recipes</a>).
</p>
<p>If the makefiles specify a double-colon rule to remake a file with
a recipe but no prerequisites, that file will always be remade
(see section <a href="#Double_002dColon">Double-Colon Rules</a>).  In the case of makefiles, a makefile that has a
double-colon rule with a recipe but no prerequisites will be remade every
time <code>make</code> is run, and then again after <code>make</code> starts over
and reads the makefiles in again.  This would cause an infinite loop:
<code>make</code> would constantly remake the makefile, and never do anything
else.  So, to avoid this, <code>make</code> will <strong>not</strong> attempt to
remake makefiles which are specified as targets of a double-colon rule
with a recipe but no prerequisites.
</p>
<p>If you do not specify any makefiles to be read with &lsquo;<samp>-f</samp>&rsquo; or
&lsquo;<samp>--file</samp>&rsquo; options, <code>make</code> will try the default makefile names;
see section <a href="#Makefile-Names">What Name to Give Your Makefile</a>.  Unlike
makefiles explicitly requested with &lsquo;<samp>-f</samp>&rsquo; or &lsquo;<samp>--file</samp>&rsquo; options,
<code>make</code> is not certain that these makefiles should exist.  However,
if a default makefile does not exist but can be created by running
<code>make</code> rules, you probably want the rules to be run so that the
makefile can be used.
</p>
<p>Therefore, if none of the default makefiles exists, <code>make</code> will try
to make each of them in the same order in which they are searched for
(see section <a href="#Makefile-Names">What Name to Give Your Makefile</a>)
until it succeeds in making one, or it runs out of names to try.  Note
that it is not an error if <code>make</code> cannot find or make any makefile;
a makefile is not always necessary.
</p>
<p>When you use the &lsquo;<samp>-t</samp>&rsquo; or &lsquo;<samp>--touch</samp>&rsquo; option
(see section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>),
you would not want to use an out-of-date makefile to decide which
targets to touch.  So the &lsquo;<samp>-t</samp>&rsquo; option has no effect on updating
makefiles; they are really updated even if &lsquo;<samp>-t</samp>&rsquo; is specified.
Likewise, &lsquo;<samp>-q</samp>&rsquo; (or &lsquo;<samp>--question</samp>&rsquo;) and &lsquo;<samp>-n</samp>&rsquo; (or
&lsquo;<samp>--just-print</samp>&rsquo;) do not prevent updating of makefiles, because an
out-of-date makefile would result in the wrong output for other targets.
Thus, &lsquo;<samp>make -f mfile -n foo</samp>&rsquo; will update &lsquo;<tt>mfile</tt>&rsquo;, read it in,
and then print the recipe to update &lsquo;<tt>foo</tt>&rsquo; and its prerequisites
without running it.  The recipe printed for &lsquo;<tt>foo</tt>&rsquo; will be the one
specified in the updated contents of &lsquo;<tt>mfile</tt>&rsquo;.
</p>
<p>However, on occasion you might actually wish to prevent updating of even
the makefiles.  You can do this by specifying the makefiles as goals in
the command line as well as specifying them as makefiles.  When the
makefile name is specified explicitly as a goal, the options &lsquo;<samp>-t</samp>&rsquo;
and so on do apply to them.
</p>
<p>Thus, &lsquo;<samp>make -f mfile -n mfile foo</samp>&rsquo; would read the makefile
&lsquo;<tt>mfile</tt>&rsquo;, print the recipe needed to update it without actually
running it, and then print the recipe needed to update &lsquo;<tt>foo</tt>&rsquo;
without running that.  The recipe for &lsquo;<tt>foo</tt>&rsquo; will be the one
specified by the existing contents of &lsquo;<tt>mfile</tt>&rsquo;.
</p>
<hr size="6">
<a name="Overriding-Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Remaking-Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Reading-Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overriding-Part-of-Another-Makefile"></a>
<h2 class="section">3.6 Overriding Part of Another Makefile</h2>

<a name="index-overriding-makefiles"></a>
<a name="index-makefile_002c-overriding"></a>
<p>Sometimes it is useful to have a makefile that is mostly just like
another makefile.  You can often use the &lsquo;<samp>include</samp>&rsquo; directive to
include one in the other, and add more targets or variable definitions.
However, it is invalid for two makefiles to give different recipes for
the same target.  But there is another way.
</p>
<a name="index-match_002danything-rule_002c-used-to-override"></a>
<p>In the containing makefile (the one that wants to include the other),
you can use a match-anything pattern rule to say that to remake any
target that cannot be made from the information in the containing
makefile, <code>make</code> should look in another makefile.
See section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>, for more information on pattern rules.
</p>
<p>For example, if you have a makefile called &lsquo;<tt>Makefile</tt>&rsquo; that says how
to make the target &lsquo;<samp>foo</samp>&rsquo; (and other targets), you can write a
makefile called &lsquo;<tt>GNUmakefile</tt>&rsquo; that contains:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo:
        frobnicate &gt; foo

%: force
        @$(MAKE) -f Makefile $@
force: ;
</pre></td></tr></table>

<p>If you say &lsquo;<samp>make foo</samp>&rsquo;, <code>make</code> will find &lsquo;<tt>GNUmakefile</tt>&rsquo;,
read it, and see that to make &lsquo;<tt>foo</tt>&rsquo;, it needs to run the recipe
&lsquo;<samp>frobnicate &gt; foo</samp>&rsquo;.  If you say &lsquo;<samp>make bar</samp>&rsquo;, <code>make</code> will
find no way to make &lsquo;<tt>bar</tt>&rsquo; in &lsquo;<tt>GNUmakefile</tt>&rsquo;, so it will use the
recipe from the pattern rule: &lsquo;<samp>make -f Makefile bar</samp>&rsquo;.  If
&lsquo;<tt>Makefile</tt>&rsquo; provides a rule for updating &lsquo;<tt>bar</tt>&rsquo;, <code>make</code>
will apply the rule.  And likewise for any other target that
&lsquo;<tt>GNUmakefile</tt>&rsquo; does not say how to make.
</p>
<p>The way this works is that the pattern rule has a pattern of just
&lsquo;<samp>%</samp>&rsquo;, so it matches any target whatever.  The rule specifies a
prerequisite &lsquo;<tt>force</tt>&rsquo;, to guarantee that the recipe will be run even
if the target file already exists.  We give the &lsquo;<tt>force</tt>&rsquo; target an
empty recipe to prevent <code>make</code> from searching for an implicit rule to
build it&mdash;otherwise it would apply the same match-anything rule to
&lsquo;<tt>force</tt>&rsquo; itself and create a prerequisite loop!
</p>
<hr size="6">
<a name="Reading-Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overriding-Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parsing-Makefiles" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-make-Reads-a-Makefile"></a>
<h2 class="section">3.7 How <code>make</code> Reads a Makefile</h2>
<a name="index-reading-makefiles"></a>
<a name="index-makefile_002c-reading"></a>

<p>GNU <code>make</code> does its work in two distinct phases.  During the
first phase it reads all the makefiles, included makefiles, etc. and
internalizes all the variables and their values and implicit and
explicit rules, and builds a dependency graph of all the targets and
their prerequisites.  During the second phase, <code>make</code> uses this
internalized data to determine which targets need to be updated and
run the recipes necessary to update them.
</p>
<p>It&rsquo;s important to understand this two-phase approach because it has a
direct impact on how variable and function expansion happens; this is
often a source of some confusion when writing makefiles.  Below is a
summary of the different constructs that can be found in a makefile,
and the phase in which expansion happens for each part of the
construct.
</p>
<p>We say that expansion is <em>immediate</em> if it happens during the
first phase: <code>make</code> will expand that part of the construct as the
makefile is parsed.  We say that expansion is <em>deferred</em> if it is
not immediate.  Expansion of a deferred construct part is delayed
until the expansion is used: either when it is referenced in an
immediate context, or when it is needed during the second phase.
</p>
<p>You may not be familiar with some of these constructs yet.  You can
reference this section as you become familiar with them, in later
chapters.
</p>
<a name="Variable-Assignment"></a>
<h3 class="subheading">Variable Assignment</h3>
<a name="index-_002b_003d_002c-expansion"></a>
<a name="index-_003d_002c-expansion"></a>
<a name="index-_003f_003d_002c-expansion"></a>
<a name="index-_002b_003d_002c-expansion-1"></a>
<a name="index-_0021_003d_002c-expansion"></a>
<a name="index-define_002c-expansion"></a>

<p>Variable definitions are parsed as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>immediate</var> = <var>deferred</var>
<var>immediate</var> ?= <var>deferred</var>
<var>immediate</var> := <var>immediate</var>
<var>immediate</var> ::= <var>immediate</var>
<var>immediate</var> += <var>deferred</var> or <var>immediate</var>
<var>immediate</var> != <var>immediate</var>

define <var>immediate</var>
  <var>deferred</var>
endef

define <var>immediate</var> =
  <var>deferred</var>
endef

define <var>immediate</var> ?=
  <var>deferred</var>
endef

define <var>immediate</var> :=
  <var>immediate</var>
endef

define <var>immediate</var> ::=
  <var>immediate</var>
endef

define <var>immediate</var> +=
  <var>deferred</var> or <var>immediate</var>
endef

define <var>immediate</var> !=
  <var>immediate</var>
endef
</pre></td></tr></table>

<p>For the append operator &lsquo;<samp>+=</samp>&rsquo;, the right-hand side is considered
immediate if the variable was previously set as a simple variable
(&lsquo;<samp>:=</samp>&rsquo; or &lsquo;<samp>::=</samp>&rsquo;), and deferred otherwise.
</p>
<p>For the shell assignment operator &lsquo;<samp>!=</samp>&rsquo;, the right-hand side is
evaluated immediately and handed to the shell.  The result is stored
in the variable named on the left, and that variable becomes a simple
variable (and will thus be re-evaluated on each reference).
</p>
<a name="Conditional-Directives"></a>
<h3 class="subheading">Conditional Directives</h3>
<a name="index-ifdef_002c-expansion"></a>
<a name="index-ifeq_002c-expansion"></a>
<a name="index-ifndef_002c-expansion"></a>
<a name="index-ifneq_002c-expansion"></a>

<p>Conditional directives are parsed immediately.  This means, for
example, that automatic variables cannot be used in conditional
directives, as automatic variables are not set until the recipe for
that rule is invoked.  If you need to use automatic variables in a
conditional directive you <em>must</em> move the condition into the
recipe and use shell conditional syntax instead.
</p>
<a name="Rule-Definition"></a>
<h3 class="subheading">Rule Definition</h3>
<a name="index-target_002c-expansion"></a>
<a name="index-prerequisite_002c-expansion"></a>
<a name="index-implicit-rule_002c-expansion"></a>
<a name="index-pattern-rule_002c-expansion"></a>
<a name="index-explicit-rule_002c-expansion"></a>

<p>A rule is always expanded the same way, regardless of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>immediate</var> : <var>immediate</var> ; <var>deferred</var>
        <var>deferred</var>
</pre></td></tr></table>

<p>That is, the target and prerequisite sections are expanded
immediately, and the recipe used to build the target is always
deferred.  This is true for explicit rules, pattern rules, suffix
rules, static pattern rules, and simple prerequisite definitions.
</p>
<hr size="6">
<a name="Parsing-Makefiles"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Reading-Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Secondary-Expansion" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Makefiles-Are-Parsed"></a>
<h2 class="section">3.8 How Makefiles Are Parsed</h2>
<a name="index-parsing-makefiles"></a>
<a name="index-makefiles_002c-parsing"></a>

<p>GNU <code>make</code> parses makefiles line-by-line.  Parsing proceeds using
the following steps:
</p>
<ol>
<li>
Read in a full logical line, including backslash-escaped lines
(see section <a href="#Splitting-Lines">Splitting Long Lines</a>).

</li><li>
Remove comments (see section <a href="#Makefile-Contents">What Makefiles Contain</a>).

</li><li>
If the line begins with the recipe prefix character and we are in a
rule context, add the line to the current recipe and read the next
line (see section <a href="#Recipe-Syntax">Recipe Syntax</a>).

</li><li>
Expand elements of the line which appear in an <em>immediate</em>
expansion context (see section <a href="#Reading-Makefiles">How <code>make</code> Reads a Makefile</a>).

</li><li>
Scan the line for a separator character, such as &lsquo;<samp>:</samp>&rsquo; or &lsquo;<samp>=</samp>&rsquo;,
to determine whether the line is a macro assignment or a rule
(see section <a href="#Recipe-Syntax">Recipe Syntax</a>).

</li><li>
Internalize the resulting operation and read the next line.
</li></ol>

<p>An important consequence of this is that a macro can expand to an
entire rule, <em>if it is one line long</em>.  This will work:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">myrule = target : ; echo built

$(myrule)
</pre></td></tr></table>

<p>However, this will not work because <code>make</code> does not re-split lines
after it has expanded them:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define myrule
target:
        echo built
endef

$(myrule)
</pre></td></tr></table>

<p>The above makefile results in the definition of a target &lsquo;<samp>target</samp>&rsquo;
with prerequisites &lsquo;<samp>echo</samp>&rsquo; and &lsquo;<samp>built</samp>&rsquo;, as if the makefile
contained <code>target: echo built</code>, rather than a rule with a recipe.
Newlines still present in a line after expansion is complete are
ignored as normal whitespace.
</p>
<p>In order to properly expand a multi-line macro you must use the
<code>eval</code> function: this causes the <code>make</code> parser to be run on
the results of the expanded macro (see section <a href="#Eval-Function">The <code>eval</code> Function</a>).
</p>
<hr size="6">
<a name="Secondary-Expansion"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Parsing-Makefiles" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Secondary-Expansion-1"></a>
<h2 class="section">3.9 Secondary Expansion</h2>
<a name="index-secondary-expansion"></a>
<a name="index-expansion_002c-secondary"></a>

<a name="index-_002eSECONDEXPANSION"></a>
<p>Previously we learned that GNU <code>make</code> works in two distinct
phases: a read-in phase and a target-update phase (see section <a href="#Reading-Makefiles">How <code>make</code> Reads a Makefile</a>).  GNU make also has
the ability to enable a <em>second expansion</em> of the prerequisites
(only) for some or all targets defined in the makefile.  In order for
this second expansion to occur, the special target
<code>.SECONDEXPANSION</code> must be defined before the first prerequisite
list that makes use of this feature.
</p>
<p>If that special target is defined then in between the two phases
mentioned above, right at the end of the read-in phase, all the
prerequisites of the targets defined after the special target are
expanded a <em>second time</em>.  In most circumstances this secondary
expansion will have no effect, since all variable and function
references will have been expanded during the initial parsing of the
makefiles.  In order to take advantage of the secondary expansion
phase of the parser, then, it&rsquo;s necessary to <em>escape</em> the
variable or function reference in the makefile.  In this case the
first expansion merely un-escapes the reference but doesn&rsquo;t expand it,
and expansion is left to the secondary expansion phase.  For example,
consider this makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:
ONEVAR = onefile
TWOVAR = twofile
myfile: $(ONEVAR) $$(TWOVAR)
</pre></td></tr></table>

<p>After the first expansion phase the prerequisites list of the
&lsquo;<tt>myfile</tt>&rsquo; target will be <code>onefile</code> and <code>$(TWOVAR)</code>; the
first (unescaped) variable reference to <var>ONEVAR</var> is expanded,
while the second (escaped) variable reference is simply unescaped,
without being recognized as a variable reference.  Now during the
secondary expansion the first word is expanded again but since it
contains no variable or function references it remains the value
&lsquo;<tt>onefile</tt>&rsquo;, while the second word is now a normal reference to the
variable <var>TWOVAR</var>, which is expanded to the value &lsquo;<tt>twofile</tt>&rsquo;.
The final result is that there are two prerequisites, &lsquo;<tt>onefile</tt>&rsquo;
and &lsquo;<tt>twofile</tt>&rsquo;.
</p>
<p>Obviously, this is not a very interesting case since the same result
could more easily have been achieved simply by having both variables
appear, unescaped, in the prerequisites list.  One difference becomes
apparent if the variables are reset; consider this example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:
AVAR = top
onefile: $(AVAR)
twofile: $$(AVAR)
AVAR = bottom
</pre></td></tr></table>

<p>Here the prerequisite of &lsquo;<tt>onefile</tt>&rsquo; will be expanded immediately,
and resolve to the value &lsquo;<tt>top</tt>&rsquo;, while the prerequisite of
&lsquo;<tt>twofile</tt>&rsquo; will not be full expanded until the secondary expansion
and yield a value of &lsquo;<tt>bottom</tt>&rsquo;.
</p>
<p>This is marginally more exciting, but the true power of this feature
only becomes apparent when you discover that secondary expansions
always take place within the scope of the automatic variables for that
target.  This means that you can use variables such as <code>$@</code>,
<code>$*</code>, etc. during the second expansion and they will have their
expected values, just as in the recipe.  All you have to do is defer
the expansion by escaping the <code>$</code>.  Also, secondary expansion
occurs for both explicit and implicit (pattern) rules.  Knowing this,
the possible uses for this feature increase dramatically.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:
main_OBJS := main.o try.o test.o
lib_OBJS := lib.o api.o

main lib: $$($$@_OBJS)
</pre></td></tr></table>

<p>Here, after the initial expansion the prerequisites of both the
&lsquo;<tt>main</tt>&rsquo; and &lsquo;<tt>lib</tt>&rsquo; targets will be <code>$($@_OBJS)</code>.  During
the secondary expansion, the <code>$@</code> variable is set to the name of
the target and so the expansion for the &lsquo;<tt>main</tt>&rsquo; target will yield
<code>$(main_OBJS)</code>, or <code>main.o try.o test.o</code>, while the
secondary expansion for the &lsquo;<tt>lib</tt>&rsquo; target will yield
<code>$(lib_OBJS)</code>, or <code>lib.o api.o</code>.
</p>
<p>You can also mix in functions here, as long as they are properly escaped:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main_SRCS := main.c try.c test.c
lib_SRCS := lib.c api.c

.SECONDEXPANSION:
main lib: $$(patsubst %.c,%.o,$$($$@_SRCS))
</pre></td></tr></table>

<p>This version allows users to specify source files rather than object
files, but gives the same resulting prerequisites list as the previous
example.
</p>
<p>Evaluation of automatic variables during the secondary expansion
phase, especially of the target name variable <code>$$@</code>, behaves
similarly to evaluation within recipes.  However, there are some
subtle differences and &ldquo;corner cases&rdquo; which come into play for the
different types of rule definitions that <code>make</code> understands.  The
subtleties of using the different automatic variables are described
below.
</p>
<a name="Secondary-Expansion-of-Explicit-Rules"></a>
<h3 class="subheading">Secondary Expansion of Explicit Rules</h3>
<a name="index-secondary-expansion-and-explicit-rules"></a>
<a name="index-explicit-rules_002c-secondary-expansion-of"></a>

<p>During the secondary expansion of explicit rules, <code>$$@</code> and
<code>$$%</code> evaluate, respectively, to the file name of the target and,
when the target is an archive member, the target member name.  The
<code>$$&lt;</code> variable evaluates to the first prerequisite in the first
rule for this target.  <code>$$^</code> and <code>$$+</code> evaluate to the list
of all prerequisites of rules <em>that have already appeared</em> for
the same target (<code>$$+</code> with repetitions and <code>$$^</code>
without).  The following example will help illustrate these behaviors:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:

foo: foo.1 bar.1 $$&lt; $$^ $$+    # line #1

foo: foo.2 bar.2 $$&lt; $$^ $$+    # line #2

foo: foo.3 bar.3 $$&lt; $$^ $$+    # line #3
</pre></td></tr></table>

<p>In the first prerequisite list, all three variables (<code>$$&lt;</code>,
<code>$$^</code>, and <code>$$+</code>) expand to the empty string.  In the
second, they will have values <code>foo.1</code>, <code>foo.1 bar.1</code>, and
<code>foo.1 bar.1</code> respectively.  In the third they will have values
<code>foo.1</code>, <code>foo.1 bar.1 foo.2 bar.2</code>, and <code>foo.1 bar.1
foo.2 bar.2 foo.1 foo.1 bar.1 foo.1 bar.1</code> respectively.
</p>
<p>Rules undergo secondary expansion in makefile order, except that
the rule with the recipe is always evaluated last.
</p>
<p>The variables <code>$$?</code> and <code>$$*</code> are not available and expand
to the empty string.
</p>
<a name="Secondary-Expansion-of-Static-Pattern-Rules"></a>
<h3 class="subheading">Secondary Expansion of Static Pattern Rules</h3>
<a name="index-secondary-expansion-and-static-pattern-rules"></a>
<a name="index-static-pattern-rules_002c-secondary-expansion-of"></a>

<p>Rules for secondary expansion of static pattern rules are identical to
those for explicit rules, above, with one exception: for static
pattern rules the <code>$$*</code> variable is set to the pattern stem.  As
with explicit rules, <code>$$?</code> is not available and expands to the
empty string.
</p>
<a name="Secondary-Expansion-of-Implicit-Rules"></a>
<h3 class="subheading">Secondary Expansion of Implicit Rules</h3>
<a name="index-secondary-expansion-and-implicit-rules"></a>
<a name="index-implicit-rules_002c-secondary-expansion-of"></a>

<p>As <code>make</code> searches for an implicit rule, it substitutes the stem
and then performs secondary expansion for every rule with a matching
target pattern.  The value of the automatic variables is derived in
the same fashion as for static pattern rules.  As an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:

foo: bar

foo foz: fo%: bo%

%oo: $$&lt; $$^ $$+ $$*
</pre></td></tr></table>

<p>When the implicit rule is tried for target &lsquo;<tt>foo</tt>&rsquo;, <code>$$&lt;</code>
expands to &lsquo;<tt>bar</tt>&rsquo;, <code>$$^</code> expands to &lsquo;<tt>bar boo</tt>&rsquo;,
<code>$$+</code> also expands to &lsquo;<tt>bar boo</tt>&rsquo;, and <code>$$*</code> expands to
&lsquo;<tt>f</tt>&rsquo;.
</p>
<p>Note that the directory prefix (D), as described in <a href="#Implicit-Rule-Search">Implicit Rule Search Algorithm</a>, is appended (after
expansion) to all the patterns in the prerequisites list.  As an
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SECONDEXPANSION:

/tmp/foo.o:

%.o: $$(addsuffix /%.c,foo bar) foo.h
        @echo $^
</pre></td></tr></table>

<p>The prerequisite list printed, after the secondary expansion and
directory prefix reconstruction, will be &lsquo;<tt>/tmp/foo/foo.c
/tmp/bar/foo.c foo.h</tt>&rsquo;.  If you are not interested in this
reconstruction, you can use <code>$$*</code> instead of <code>%</code> in the
prerequisites list.
</p>
<hr size="6">
<a name="Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Secondary-Expansion" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rule-Example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Makefiles" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Rules"></a>
<h1 class="chapter">4. Writing Rules</h1>
<a name="index-writing-rules"></a>
<a name="index-rule_002c-how-to-write"></a>
<a name="index-target"></a>
<a name="index-prerequisite"></a>

<p>A <em>rule</em> appears in the makefile and says when and how to remake
certain files, called the rule&rsquo;s <em>targets</em> (most often only one per rule).
It lists the other files that are the <em>prerequisites</em> of the target, and
the <em>recipe</em> to use to create or update the target.
</p>
<a name="index-default-goal-1"></a>
<a name="index-goal_002c-default-1"></a>
<p>The order of rules is not significant, except for determining the
<em>default goal</em>: the target for <code>make</code> to consider, if you do
not otherwise specify one.  The default goal is the target of the first
rule in the first makefile.  If the first rule has multiple targets,
only the first target is taken as the default.  There are two
exceptions: a target starting with a period is not a default unless it
contains one or more slashes, &lsquo;<samp>/</samp>&rsquo;, as well; and, a target that
defines a pattern rule has no effect on the default goal.
(See section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>.)
</p>
<p>Therefore, we usually write the makefile so that the first rule is the
one for compiling the entire program or all the programs described by
the makefile (often with a target called &lsquo;<samp>all</samp>&rsquo;).
See section <a href="#Goals">Arguments to Specify the Goals</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Rule-Example">4.1 Rule Example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                An example explained.
</td></tr>
<tr><td align="left" valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 General syntax explained.
</td></tr>
<tr><td align="left" valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          There are two types of prerequisites.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Using wildcard characters such as &lsquo;*&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Searching other directories for source files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Using a target that is not a real file&rsquo;s name.
</td></tr>
<tr><td align="left" valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               You can use a target without a recipe
                                  or prerequisites to mark other targets
                                  as phony.
</td></tr>
<tr><td align="left" valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               When only the date matters and the
                                  files are empty.
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Targets with special built-in meanings.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            When to make use of several targets in a rule.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to use several rules with the same target.
</td></tr>
<tr><td align="left" valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Static pattern rules apply to multiple targets
                                  and can vary the prerequisites according to
                                  the target name.
</td></tr>
<tr><td align="left" valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                How to use a special kind of rule to allow
                                  several independent rules for one target.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How to automatically generate rules giving
                                  prerequisites from source files themselves.
</td></tr>
</table>

<hr size="6">
<a name="Rule-Example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rule-Syntax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Rule-Example-1"></a>
<h2 class="section">4.1 Rule Example</h2>

<p>Here is an example of a rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.o : foo.c defs.h       # module for twiddling the frobs
        cc -c -g foo.c
</pre></td></tr></table>

<p>Its target is &lsquo;<tt>foo.o</tt>&rsquo; and its prerequisites are &lsquo;<tt>foo.c</tt>&rsquo; and
&lsquo;<tt>defs.h</tt>&rsquo;.  It has one command in the recipe: &lsquo;<samp>cc -c -g foo.c</samp>&rsquo;.
The recipe starts with a tab to identify it as a recipe.
</p>
<p>This rule says two things:
</p>
<ul>
<li>
How to decide whether &lsquo;<tt>foo.o</tt>&rsquo; is out of date: it is out of date
if it does not exist, or if either &lsquo;<tt>foo.c</tt>&rsquo; or &lsquo;<tt>defs.h</tt>&rsquo; is
more recent than it.

</li><li>
How to update the file &lsquo;<tt>foo.o</tt>&rsquo;: by running <code>cc</code> as stated.
The recipe does not explicitly mention &lsquo;<tt>defs.h</tt>&rsquo;, but we presume
that &lsquo;<tt>foo.c</tt>&rsquo; includes it, and that that is why &lsquo;<tt>defs.h</tt>&rsquo; was
added to the prerequisites.
</li></ul>

<hr size="6">
<a name="Rule-Syntax"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Rule-Example" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Prerequisite-Types" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Rule-Syntax-1"></a>
<h2 class="section">4.2 Rule Syntax</h2>

<a name="index-rule-syntax"></a>
<a name="index-syntax-of-rules"></a>
<p>In general, a rule looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>targets</var> : <var>prerequisites</var>
        <var>recipe</var>
        &hellip;
</pre></td></tr></table>

<p>or like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>targets</var> : <var>prerequisites</var> ; <var>recipe</var>
        <var>recipe</var>
        &hellip;
</pre></td></tr></table>

<a name="index-targets"></a>
<a name="index-rule-targets"></a>
<p>The <var>targets</var> are file names, separated by spaces.  Wildcard
characters may be used (see section <a href="#Wildcards">Using Wildcard Characters in File Names</a>) and a name of the form &lsquo;<tt><var>a</var>(<var>m</var>)</tt>&rsquo;
represents member <var>m</var> in archive file <var>a</var>
(see section <a href="#Archive-Members">Archive Members as Targets</a>).
Usually there is only one
target per rule, but occasionally there is a reason to have more
(see section <a href="#Multiple-Targets">Multiple Targets in a Rule</a>).
</p>
<a name="index-recipes"></a>
<a name="index-tab-character-_0028in-commands_0029"></a>
<p>The <var>recipe</var> lines start with a tab character (or the first
character in the value of the <code>.RECIPEPREFIX</code> variable;
see section <a href="#Special-Variables">Other Special Variables</a>).  The first recipe line may appear on the line
after the prerequisites, with a tab character, or may appear on the
same line, with a semicolon.  Either way, the effect is the same.
There are other differences in the syntax of recipes.
See section <a href="#Recipes">Writing Recipes in Rules</a>.
</p>
<a name="index-dollar-sign-_0028_0024_0029_002c-in-rules"></a>
<a name="index-_0024_002c-in-rules"></a>
<a name="index-rules_002c-and-_0024"></a>
<p>Because dollar signs are used to start <code>make</code> variable
references, if you really want a dollar sign in a target or
prerequisite you must write two of them, &lsquo;<samp>$$</samp>&rsquo; (see section <a href="#Using-Variables">How to Use Variables</a>).  If you have enabled secondary
expansion (see section <a href="#Secondary-Expansion">Secondary Expansion</a>) and you want a literal dollar
sign in the prerequisites list, you must actually write <em>four</em>
dollar signs (&lsquo;<samp>$$$$</samp>&rsquo;).
</p>
<p>You may split a long line by inserting a backslash followed by a
newline, but this is not required, as <code>make</code> places no limit on
the length of a line in a makefile.
</p>
<p>A rule tells <code>make</code> two things: when the targets are out of date,
and how to update them when necessary.
</p>
<a name="index-prerequisites"></a>
<a name="index-rule-prerequisites"></a>
<p>The criterion for being out of date is specified in terms of the
<var>prerequisites</var>, which consist of file names separated by spaces.
(Wildcards and archive members (see section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>) are allowed here too.)
A target is out of date if it does not exist or if it is older than any
of the prerequisites (by comparison of last-modification times).  The
idea is that the contents of the target file are computed based on
information in the prerequisites, so if any of the prerequisites changes,
the contents of the existing target file are no longer necessarily
valid.
</p>
<p>How to update is specified by a <var>recipe</var>.  This is one or more
lines to be executed by the shell (normally &lsquo;<samp>sh</samp>&rsquo;), but with some
extra features (see section <a href="#Recipes">Writing Recipes in Rules</a>).
</p>
<hr size="6">
<a name="Prerequisite-Types"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Rule-Syntax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcards" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Types-of-Prerequisites"></a>
<h2 class="section">4.3 Types of Prerequisites</h2>
<a name="index-prerequisite-types"></a>
<a name="index-types-of-prerequisites"></a>

<a name="index-prerequisites_002c-normal"></a>
<a name="index-normal-prerequisites"></a>
<a name="index-prerequisites_002c-order_002donly"></a>
<a name="index-order_002donly-prerequisites"></a>
<p>There are actually two different types of prerequisites understood by
GNU <code>make</code>: normal prerequisites such as described in the
previous section, and <em>order-only</em> prerequisites.  A normal
prerequisite makes two statements: first, it imposes an order in which
recipes will be invoked: the recipes for all prerequisites of a target
will be completed before the recipe for the target is run.  Second, it
imposes a dependency relationship: if any prerequisite is newer than
the target, then the target is considered out-of-date and must be
rebuilt.
</p>
<p>Normally, this is exactly what you want: if a target&rsquo;s prerequisite is
updated, then the target should also be updated.
</p>
<p>Occasionally, however, you have a situation where you want to impose a
specific ordering on the rules to be invoked <em>without</em> forcing
the target to be updated if one of those rules is executed.  In that
case, you want to define <em>order-only</em> prerequisites.  Order-only
prerequisites can be specified by placing a pipe symbol (<code>|</code>)
in the prerequisites list: any prerequisites to the left of the pipe
symbol are normal; any prerequisites to the right are order-only:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>targets</var> : <var>normal-prerequisites</var> | <var>order-only-prerequisites</var>
</pre></td></tr></table>

<p>The normal prerequisites section may of course be empty.  Also, you
may still declare multiple lines of prerequisites for the same target:
they are appended appropriately (normal prerequisites are appended to
the list of normal prerequisites; order-only prerequisites are
appended to the list of order-only prerequisites).  Note that if you
declare the same file to be both a normal and an order-only
prerequisite, the normal prerequisite takes precedence (since they
have a strict superset of the behavior of an order-only prerequisite).
</p>
<p>Consider an example where your targets are to be placed in a separate
directory, and that directory might not exist before <code>make</code> is
run.  In this situation, you want the directory to be created before
any targets are placed into it but, because the timestamps on
directories change whenever a file is added, removed, or renamed, we
certainly don&rsquo;t want to rebuild all the targets whenever the
directory&rsquo;s timestamp changes.  One way to manage this is with
order-only prerequisites: make the directory an order-only
prerequisite on all the targets:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">OBJDIR := objdir
OBJS := $(addprefix $(OBJDIR)/,foo.o bar.o baz.o)

$(OBJDIR)/%.o : %.c
        $(COMPILE.c) $(OUTPUT_OPTION) $&lt;

all: $(OBJS)

$(OBJS): | $(OBJDIR)

$(OBJDIR):
        mkdir $(OBJDIR)
</pre></td></tr></table>

<p>Now the rule to create the &lsquo;<tt>objdir</tt>&rsquo; directory will be run, if
needed, before any &lsquo;<samp>.o</samp>&rsquo; is built, but no &lsquo;<samp>.o</samp>&rsquo; will be built
because the &lsquo;<tt>objdir</tt>&rsquo; directory timestamp changed.
</p>
<hr size="6">
<a name="Wildcards"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Prerequisite-Types" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcard-Examples" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Wildcard-Characters-in-File-Names"></a>
<h2 class="section">4.4 Using Wildcard Characters in File Names</h2>
<a name="index-wildcard"></a>
<a name="index-file-name-with-wildcards"></a>
<a name="index-globbing-_0028wildcards_0029"></a>

<a name="index-_002a-_0028wildcard-character_0029"></a>
<a name="index-_003f-_0028wildcard-character_0029"></a>
<a name="index-_005b_2026_005d-_0028wildcard-characters_0029"></a>
<p>A single file name can specify many files using <em>wildcard characters</em>.
The wildcard characters in <code>make</code> are &lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>?</samp>&rsquo; and
&lsquo;<samp>[&hellip;]</samp>&rsquo;, the same as in the Bourne shell.  For example, &lsquo;<tt>*.c</tt>&rsquo;
specifies a list of all the files (in the working directory) whose names
end in &lsquo;<samp>.c</samp>&rsquo;.
</p>
<a name="index-_007e-_0028tilde_0029"></a>
<a name="index-tilde-_0028_007e_0029"></a>
<a name="index-home-directory"></a>
<p>The character &lsquo;<samp>~</samp>&rsquo; at the beginning of a file name also has special
significance.  If alone, or followed by a slash, it represents your home
directory.  For example &lsquo;<tt>~/bin</tt>&rsquo; expands to &lsquo;<tt>/home/you/bin</tt>&rsquo;.
If the &lsquo;<samp>~</samp>&rsquo; is followed by a word, the string represents the home
directory of the user named by that word.  For example &lsquo;<tt>~john/bin</tt>&rsquo;
expands to &lsquo;<tt>/home/john/bin</tt>&rsquo;.  On systems which don&rsquo;t have a home
directory for each user (such as MS-DOS or MS-Windows), this
functionality can be simulated by setting the environment variable
<var>HOME</var>.
</p>
<p>Wildcard expansion is performed by <code>make</code> automatically in
targets and in prerequisites.  In recipes, the shell is responsible
for wildcard expansion.  In other contexts, wildcard expansion happens
only if you request it explicitly with the <code>wildcard</code> function.
</p>
<p>The special significance of a wildcard character can be turned off by
preceding it with a backslash.  Thus, &lsquo;<tt>foo\*bar</tt>&rsquo; would refer to a
specific file whose name consists of &lsquo;<samp>foo</samp>&rsquo;, an asterisk, and
&lsquo;<samp>bar</samp>&rsquo;.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Several examples.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Problems to avoid.
</td></tr>
<tr><td align="left" valign="top"><a href="#Wildcard-Function">4.4.3 The Function <code>wildcard</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to cause wildcard expansion where
                                  it does not normally take place.
</td></tr>
</table>

<hr size="6">
<a name="Wildcard-Examples"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Wildcards" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcard-Pitfall" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcards" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Wildcard-Examples-1"></a>
<h3 class="subsection">4.4.1 Wildcard Examples</h3>

<p>Wildcards can be used in the recipe of a rule, where they are expanded
by the shell.  For example, here is a rule to delete all the object files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">clean:
        rm -f *.o
</pre></td></tr></table>
<a name="index-rm-_0028shell-command_0029-1"></a>

<p>Wildcards are also useful in the prerequisites of a rule.  With the
following rule in the makefile, &lsquo;<samp>make print</samp>&rsquo; will print all the
&lsquo;<samp>.c</samp>&rsquo; files that have changed since the last time you printed them:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">print: *.c
        lpr -p $?
        touch print
</pre></td></tr></table>

<a name="index-print-target"></a>
<a name="index-lpr-_0028shell-command_0029"></a>
<a name="index-touch-_0028shell-command_0029"></a>
<p>This rule uses &lsquo;<tt>print</tt>&rsquo; as an empty target file; see <a href="#Empty-Targets">Empty Target Files to Record Events</a>.  (The automatic variable
&lsquo;<samp>$?</samp>&rsquo; is used to print only those files that have changed; see
<a href="#Automatic-Variables">Automatic Variables</a>.)
</p>
<p>Wildcard expansion does not happen when you define a variable.  Thus, if
you write this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = *.o
</pre></td></tr></table>

<p>then the value of the variable <code>objects</code> is the actual string
&lsquo;<samp>*.o</samp>&rsquo;.  However, if you use the value of <code>objects</code> in a
target or prerequisite, wildcard expansion will take place there.  If
you use the value of <code>objects</code> in a recipe, the shell may perform
wildcard expansion when the recipe runs.  To set <code>objects</code> to the
expansion, instead use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects := $(wildcard *.o)
</pre></td></tr></table>

<p>See section <a href="#Wildcard-Function">The Function <code>wildcard</code></a>.
</p>
<hr size="6">
<a name="Wildcard-Pitfall"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Wildcard-Examples" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcard-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcards" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Pitfalls-of-Using-Wildcards"></a>
<h3 class="subsection">4.4.2 Pitfalls of Using Wildcards</h3>
<a name="index-wildcard-pitfalls"></a>
<a name="index-pitfalls-of-wildcards"></a>
<a name="index-mistakes-with-wildcards"></a>
<a name="index-errors-with-wildcards"></a>
<a name="index-problems-with-wildcards"></a>

<p>Now here is an example of a naive way of using wildcard expansion, that
does not do what you would intend.  Suppose you would like to say that the
executable file &lsquo;<tt>foo</tt>&rsquo; is made from all the object files in the
directory, and you write this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = *.o

foo : $(objects)
        cc -o foo $(CFLAGS) $(objects)
</pre></td></tr></table>

<p>The value of <code>objects</code> is the actual string &lsquo;<samp>*.o</samp>&rsquo;.  Wildcard
expansion happens in the rule for &lsquo;<tt>foo</tt>&rsquo;, so that each <em>existing</em>
&lsquo;<samp>.o</samp>&rsquo; file becomes a prerequisite of &lsquo;<tt>foo</tt>&rsquo; and will be recompiled if
necessary.
</p>
<p>But what if you delete all the &lsquo;<samp>.o</samp>&rsquo; files?  When a wildcard matches
no files, it is left as it is, so then &lsquo;<tt>foo</tt>&rsquo; will depend on the
oddly-named file &lsquo;<tt>*.o</tt>&rsquo;.  Since no such file is likely to exist,
<code>make</code> will give you an error saying it cannot figure out how to
make &lsquo;<tt>*.o</tt>&rsquo;.  This is not what you want!
</p>
<p>Actually it is possible to obtain the desired result with wildcard
expansion, but you need more sophisticated techniques, including the
<code>wildcard</code> function and string substitution.
See section <a href="#Wildcard-Function">The Function <code>wildcard</code></a>.
</p>
<a name="index-wildcards-and-MS_002dDOS_002fMS_002dWindows-backslashes"></a>
<a name="index-backslashes-in-pathnames-and-wildcard-expansion"></a>

<p>Microsoft operating systems (MS-DOS and MS-Windows) use backslashes to
separate directories in pathnames, like so:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">  c:\foo\bar\baz.c
</pre></td></tr></table>

<p>This is equivalent to the Unix-style &lsquo;<tt>c:/foo/bar/baz.c</tt>&rsquo; (the
&lsquo;<tt>c:</tt>&rsquo; part is the so-called drive letter).  When <code>make</code> runs on
these systems, it supports backslashes as well as the Unix-style forward
slashes in pathnames.  However, this support does <em>not</em> include the
wildcard expansion, where backslash is a quote character.  Therefore,
you <em>must</em> use Unix-style slashes in these cases.
</p>

<hr size="6">
<a name="Wildcard-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Wildcard-Pitfall" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Wildcards" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Function-wildcard"></a>
<h3 class="subsection">4.4.3 The Function <code>wildcard</code></h3>
<a name="index-wildcard-1"></a>

<p>Wildcard expansion happens automatically in rules.  But wildcard expansion
does not normally take place when a variable is set, or inside the
arguments of a function.  If you want to do wildcard expansion in such
places, you need to use the <code>wildcard</code> function, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(wildcard <var>pattern</var>&hellip;)
</pre></td></tr></table>

<p>This string, used anywhere in a makefile, is replaced by a
space-separated list of names of existing files that match one of the
given file name patterns.  If no existing file name matches a pattern,
then that pattern is omitted from the output of the <code>wildcard</code>
function.  Note that this is different from how unmatched wildcards
behave in rules, where they are used verbatim rather than ignored
(see section <a href="#Wildcard-Pitfall">Pitfalls of Using Wildcards</a>).
</p>
<p>One use of the <code>wildcard</code> function is to get a list of all the C source
files in a directory, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(wildcard *.c)
</pre></td></tr></table>

<p>We can change the list of C source files into a list of object files by
replacing the &lsquo;<samp>.c</samp>&rsquo; suffix with &lsquo;<samp>.o</samp>&rsquo; in the result, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(patsubst %.c,%.o,$(wildcard *.c))
</pre></td></tr></table>

<p>(Here we have used another function, <code>patsubst</code>.
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.)
</p>
<p>Thus, a makefile to compile all C source files in the directory and then
link them together could be written as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects := $(patsubst %.c,%.o,$(wildcard *.c))

foo : $(objects)
        cc -o foo $(objects)
</pre></td></tr></table>

<p>(This takes advantage of the implicit rule for compiling C programs, so
there is no need to write explicit rules for compiling the files.
See section <a href="#Flavors">The Two Flavors of Variables</a>, for an explanation of
&lsquo;<samp>:=</samp>&rsquo;, which is a variant of &lsquo;<samp>=</samp>&rsquo;.)
</p>
<hr size="6">
<a name="Directory-Search"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Wildcard-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#General-Search" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Searching-Directories-for-Prerequisites"></a>
<h2 class="section">4.5 Searching Directories for Prerequisites</h2>
<a name="index-VPATH"></a>
<a name="index-vpath"></a>
<a name="index-vpath-1"></a>
<a name="index-search-path-for-prerequisites-_0028VPATH_0029"></a>
<a name="index-directory-search-_0028VPATH_0029"></a>

<p>For large systems, it is often desirable to put sources in a separate
directory from the binaries.  The <em>directory search</em> features of
<code>make</code> facilitate this by searching several directories
automatically to find a prerequisite.  When you redistribute the files
among directories, you do not need to change the individual rules,
just the search paths.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#General-Search">4.5.1 <code>VPATH</code>: Search Path for All Prerequisites</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Specifying a search path that applies
                                  to every prerequisite.
</td></tr>
<tr><td align="left" valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Specifying a search path
                                  for a specified class of names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            When and how search paths are applied.
</td></tr>
<tr><td align="left" valign="top"><a href="#Recipes_002fSearch">4.5.4 Writing Recipes with Directory Search</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to write recipes that work together
                                  with search paths.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How search paths affect implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Directory search for link libraries.
</td></tr>
</table>

<hr size="6">
<a name="General-Search"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Directory-Search" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Selective-Search" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="VPATH_003a-Search-Path-for-All-Prerequisites"></a>
<h3 class="subsection">4.5.1 <code>VPATH</code>: Search Path for All Prerequisites</h3>
<a name="index-VPATH-1"></a>

<p>The value of the <code>make</code> variable <code>VPATH</code> specifies a list of
directories that <code>make</code> should search.  Most often, the
directories are expected to contain prerequisite files that are not in the
current directory; however, <code>make</code> uses <code>VPATH</code> as a search
list for both prerequisites and targets of rules.
</p>
<p>Thus, if a file that is listed as a target or prerequisite does not exist
in the current directory, <code>make</code> searches the directories listed in
<code>VPATH</code> for a file with that name.  If a file is found in one of
them, that file may become the prerequisite (see below).  Rules may then
specify the names of files in the prerequisite list as if they all
existed in the current directory.  See section <a href="#Recipes_002fSearch">Writing Recipes with Directory Search</a>.
</p>
<p>In the <code>VPATH</code> variable, directory names are separated by colons or
blanks.  The order in which directories are listed is the order followed
by <code>make</code> in its search.  (On MS-DOS and MS-Windows, semi-colons
are used as separators of directory names in <code>VPATH</code>, since the
colon can be used in the pathname itself, after the drive letter.)
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">VPATH = src:../headers
</pre></td></tr></table>

<p>specifies a path containing two directories, &lsquo;<tt>src</tt>&rsquo; and
&lsquo;<tt>../headers</tt>&rsquo;, which <code>make</code> searches in that order.
</p>
<p>With this value of <code>VPATH</code>, the following rule,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.o : foo.c
</pre></td></tr></table>

<p>is interpreted as if it were written like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.o : src/foo.c
</pre></td></tr></table>

<p>assuming the file &lsquo;<tt>foo.c</tt>&rsquo; does not exist in the current directory but
is found in the directory &lsquo;<tt>src</tt>&rsquo;.
</p>
<hr size="6">
<a name="Selective-Search"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#General-Search" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Search-Algorithm" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-vpath-Directive"></a>
<h3 class="subsection">4.5.2 The <code>vpath</code> Directive</h3>
<a name="index-vpath-2"></a>

<p>Similar to the <code>VPATH</code> variable, but more selective, is the
<code>vpath</code> directive (note lower case), which allows you to specify a
search path for a particular class of file names: those that match a
particular pattern.  Thus you can supply certain search directories for
one class of file names and other directories (or none) for other file
names.
</p>
<p>There are three forms of the <code>vpath</code> directive:
</p>
<dl compact="compact">
<dt> <code>vpath <var>pattern</var> <var>directories</var></code></dt>
<dd><p>Specify the search path <var>directories</var> for file names that match
<var>pattern</var>.
</p>
<p>The search path, <var>directories</var>, is a list of directories to be
searched, separated by colons (semi-colons on MS-DOS and MS-Windows) or
blanks, just like the search path used in the <code>VPATH</code> variable.
</p>
</dd>
<dt> <code>vpath <var>pattern</var></code></dt>
<dd><p>Clear out the search path associated with <var>pattern</var>.
</p>
</dd>
<dt> <code>vpath</code></dt>
<dd>
<p>Clear all search paths previously specified with <code>vpath</code> directives.
</p></dd>
</dl>

<p>A <code>vpath</code> pattern is a string containing a &lsquo;<samp>%</samp>&rsquo; character.  The
string must match the file name of a prerequisite that is being searched
for, the &lsquo;<samp>%</samp>&rsquo; character matching any sequence of zero or more
characters (as in pattern rules; see section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>).  For example, <code>%.h</code> matches files that
end in <code>.h</code>.  (If there is no &lsquo;<samp>%</samp>&rsquo;, the pattern must match the
prerequisite exactly, which is not useful very often.)
</p>
<a name="index-_0025_002c-quoting-in-vpath"></a>
<a name="index-_0025_002c-quoting-with-_005c-_0028backslash_0029"></a>
<a name="index-_005c-_0028backslash_0029_002c-to-quote-_0025"></a>
<a name="index-backslash-_0028_005c_0029_002c-to-quote-_0025"></a>
<a name="index-quoting-_0025_002c-in-vpath"></a>
<p>&lsquo;<samp>%</samp>&rsquo; characters in a <code>vpath</code> directive&rsquo;s pattern can be quoted
with preceding backslashes (&lsquo;<samp>\</samp>&rsquo;).  Backslashes that would otherwise
quote &lsquo;<samp>%</samp>&rsquo; characters can be quoted with more backslashes.
Backslashes that quote &lsquo;<samp>%</samp>&rsquo; characters or other backslashes are
removed from the pattern before it is compared to file names.  Backslashes
that are not in danger of quoting &lsquo;<samp>%</samp>&rsquo; characters go unmolested.
</p>
<p>When a prerequisite fails to exist in the current directory, if the
<var>pattern</var> in a <code>vpath</code> directive matches the name of the
prerequisite file, then the <var>directories</var> in that directive are searched
just like (and before) the directories in the <code>VPATH</code> variable.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">vpath %.h ../headers
</pre></td></tr></table>

<p>tells <code>make</code> to look for any prerequisite whose name ends in &lsquo;<tt>.h</tt>&rsquo;
in the directory &lsquo;<tt>../headers</tt>&rsquo; if the file is not found in the current
directory.
</p>
<p>If several <code>vpath</code> patterns match the prerequisite file&rsquo;s name, then
<code>make</code> processes each matching <code>vpath</code> directive one by one,
searching all the directories mentioned in each directive.  <code>make</code>
handles multiple <code>vpath</code> directives in the order in which they
appear in the makefile; multiple directives with the same pattern are
independent of each other.
</p>
<p>Thus,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">vpath %.c foo
vpath %   blish
vpath %.c bar
</pre></td></tr></table>

<p>will look for a file ending in &lsquo;<samp>.c</samp>&rsquo; in &lsquo;<tt>foo</tt>&rsquo;, then
&lsquo;<tt>blish</tt>&rsquo;, then &lsquo;<tt>bar</tt>&rsquo;, while
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">vpath %.c foo:bar
vpath %   blish
</pre></td></tr></table>

<p>will look for a file ending in &lsquo;<samp>.c</samp>&rsquo; in &lsquo;<tt>foo</tt>&rsquo;, then
&lsquo;<tt>bar</tt>&rsquo;, then &lsquo;<tt>blish</tt>&rsquo;.
</p>
<hr size="6">
<a name="Search-Algorithm"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Selective-Search" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes_002fSearch" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Directory-Searches-are-Performed"></a>
<h3 class="subsection">4.5.3 How Directory Searches are Performed</h3>
<a name="index-algorithm-for-directory-search"></a>
<a name="index-directory-search-algorithm"></a>

<p>When a prerequisite is found through directory search, regardless of type
(general or selective), the pathname located may not be the one that
<code>make</code> actually provides you in the prerequisite list.  Sometimes
the path discovered through directory search is thrown away.
</p>
<p>The algorithm <code>make</code> uses to decide whether to keep or abandon a
path found via directory search is as follows:
</p>
<ol>
<li>
If a target file does not exist at the path specified in the makefile,
directory search is performed.

</li><li>
If the directory search is successful, that path is kept and this file
is tentatively stored as the target.

</li><li>
All prerequisites of this target are examined using this same method.

</li><li>
After processing the prerequisites, the target may or may not need to be
rebuilt:

<ol>
<li>
If the target does <em>not</em> need to be rebuilt, the path to the file
found during directory search is used for any prerequisite lists which
contain this target.  In short, if <code>make</code> doesn&rsquo;t need to rebuild
the target then you use the path found via directory search.

</li><li>
If the target <em>does</em> need to be rebuilt (is out-of-date), the
pathname found during directory search is <em>thrown away</em>, and the
target is rebuilt using the file name specified in the makefile.  In
short, if <code>make</code> must rebuild, then the target is rebuilt locally,
not in the directory found via directory search.
</li></ol>
</li></ol>

<p>This algorithm may seem complex, but in practice it is quite often
exactly what you want.
</p>
<a name="index-traditional-directory-search-_0028GPATH_0029"></a>
<a name="index-directory-search_002c-traditional-_0028GPATH_0029"></a>
<p>Other versions of <code>make</code> use a simpler algorithm: if the file does
not exist, and it is found via directory search, then that pathname is
always used whether or not the target needs to be built.  Thus, if the
target is rebuilt it is created at the pathname discovered during
directory search.
</p>
<a name="index-GPATH"></a>
<p>If, in fact, this is the behavior you want for some or all of your
directories, you can use the <code>GPATH</code> variable to indicate this to
<code>make</code>.
</p>
<p><code>GPATH</code> has the same syntax and format as <code>VPATH</code> (that is, a
space- or colon-delimited list of pathnames).  If an out-of-date target
is found by directory search in a directory that also appears in
<code>GPATH</code>, then that pathname is not thrown away.  The target is
rebuilt using the expanded path.
</p>
<hr size="6">
<a name="Recipes_002fSearch"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Search-Algorithm" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit_002fSearch" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Recipes-with-Directory-Search"></a>
<h3 class="subsection">4.5.4 Writing Recipes with Directory Search</h3>
<a name="index-recipes_002c-and-directory-search"></a>
<a name="index-directory-search-_0028VPATH_0029_002c-and-recipes"></a>

<p>When a prerequisite is found in another directory through directory search,
this cannot change the recipe of the rule; they will execute as written.
Therefore, you must write the recipe with care so that it will look for
the prerequisite in the directory where <code>make</code> finds it.
</p>
<p>This is done with the <em>automatic variables</em> such as &lsquo;<samp>$^</samp>&rsquo;
(see section <a href="#Automatic-Variables">Automatic Variables</a>).
For instance, the value of &lsquo;<samp>$^</samp>&rsquo; is a
list of all the prerequisites of the rule, including the names of
the directories in which they were found, and the value of
&lsquo;<samp>$@</samp>&rsquo; is the target.  Thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.o : foo.c
        cc -c $(CFLAGS) $^ -o $@
</pre></td></tr></table>

<p>(The variable <code>CFLAGS</code> exists so you can specify flags for C
compilation by implicit rules; we use it here for consistency so it will
affect all C compilations uniformly;
see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>.)
</p>
<p>Often the prerequisites include header files as well, which you do not
want to mention in the recipe.  The automatic variable &lsquo;<samp>$&lt;</samp>&rsquo; is
just the first prerequisite:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">VPATH = src:../headers
foo.o : foo.c defs.h hack.h
        cc -c $(CFLAGS) $&lt; -o $@
</pre></td></tr></table>

<hr size="6">
<a name="Implicit_002fSearch"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Recipes_002fSearch" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Libraries_002fSearch" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Directory-Search-and-Implicit-Rules"></a>
<h3 class="subsection">4.5.5 Directory Search and Implicit Rules</h3>
<a name="index-VPATH_002c-and-implicit-rules"></a>
<a name="index-directory-search-_0028VPATH_0029_002c-and-implicit-rules"></a>
<a name="index-search-path-for-prerequisites-_0028VPATH_0029_002c-and-implicit-rules"></a>
<a name="index-implicit-rule_002c-and-directory-search"></a>
<a name="index-implicit-rule_002c-and-VPATH"></a>
<a name="index-rule_002c-implicit_002c-and-directory-search"></a>
<a name="index-rule_002c-implicit_002c-and-VPATH"></a>

<p>The search through the directories specified in <code>VPATH</code> or with
<code>vpath</code> also happens during consideration of implicit rules
(see section <a href="#Implicit-Rules">Using Implicit Rules</a>).
</p>
<p>For example, when a file &lsquo;<tt>foo.o</tt>&rsquo; has no explicit rule, <code>make</code>
considers implicit rules, such as the built-in rule to compile
&lsquo;<tt>foo.c</tt>&rsquo; if that file exists.  If such a file is lacking in the
current directory, the appropriate directories are searched for it.  If
&lsquo;<tt>foo.c</tt>&rsquo; exists (or is mentioned in the makefile) in any of the
directories, the implicit rule for C compilation is applied.
</p>
<p>The recipes of implicit rules normally use automatic variables as a
matter of necessity; consequently they will use the file names found by
directory search with no extra effort.
</p>
<hr size="6">
<a name="Libraries_002fSearch"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Implicit_002fSearch" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Phony-Targets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Directory-Search" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Directory-Search-for-Link-Libraries"></a>
<h3 class="subsection">4.5.6 Directory Search for Link Libraries</h3>
<a name="index-link-libraries_002c-and-directory-search"></a>
<a name="index-libraries-for-linking_002c-directory-search"></a>
<a name="index-directory-search-_0028VPATH_0029_002c-and-link-libraries"></a>
<a name="index-VPATH_002c-and-link-libraries"></a>
<a name="index-search-path-for-prerequisites-_0028VPATH_0029_002c-and-link-libraries"></a>
<a name="index-_002dl-_0028library-search_0029"></a>
<a name="index-link-libraries_002c-patterns-matching"></a>
<a name="index-_002eLIBPATTERNS_002c-and-link-libraries"></a>
<a name="index-_002eLIBPATTERNS"></a>

<p>Directory search applies in a special way to libraries used with the
linker.  This special feature comes into play when you write a prerequisite
whose name is of the form &lsquo;<samp>-l<var>name</var></samp>&rsquo;.  (You can tell something
strange is going on here because the prerequisite is normally the name of a
file, and the <em>file name</em> of a library generally looks like
&lsquo;<tt>lib<var>name</var>.a</tt>&rsquo;, not like &lsquo;<samp>-l<var>name</var></samp>&rsquo;.)
</p>
<p>When a prerequisite&rsquo;s name has the form &lsquo;<samp>-l<var>name</var></samp>&rsquo;, <code>make</code>
handles it specially by searching for the file &lsquo;<tt>lib<var>name</var>.so</tt>&rsquo;,
and, if it is not found, for the file &lsquo;<tt>lib<var>name</var>.a</tt>&rsquo; in the current
directory, in directories specified by matching <code>vpath</code>
search paths and the <code>VPATH</code> search path, and then in the
directories &lsquo;<tt>/lib</tt>&rsquo;, &lsquo;<tt>/usr/lib</tt>&rsquo;, and &lsquo;<tt><var>prefix</var>/lib</tt>&rsquo;
(normally &lsquo;<tt>/usr/local/lib</tt>&rsquo;, but MS-DOS/MS-Windows versions of
<code>make</code> behave as if <var>prefix</var> is defined to be the root of the
DJGPP installation tree).
</p>
<p>For example, if there is a &lsquo;<tt>/usr/lib/libcurses.a</tt>&rsquo; library on your
system (and no &lsquo;<tt>/usr/lib/libcurses.so</tt>&rsquo; file), then
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo : foo.c -lcurses
        cc $^ -o $@
</pre></td></tr></table>

<p>would cause the command &lsquo;<samp>cc foo.c /usr/lib/libcurses.a -o foo</samp>&rsquo; to
be executed when &lsquo;<tt>foo</tt>&rsquo; is older than &lsquo;<tt>foo.c</tt>&rsquo; or than
&lsquo;<tt>/usr/lib/libcurses.a</tt>&rsquo;.
</p>
<p>Although the default set of files to be searched for is
&lsquo;<tt>lib<var>name</var>.so</tt>&rsquo; and &lsquo;<tt>lib<var>name</var>.a</tt>&rsquo;, this is customizable
via the <code>.LIBPATTERNS</code> variable.  Each word in the value of this
variable is a pattern string.  When a prerequisite like
&lsquo;<samp>-l<var>name</var></samp>&rsquo; is seen, <code>make</code> will replace the percent in
each pattern in the list with <var>name</var> and perform the above directory
searches using each library file name.
</p>
<p>The default value for <code>.LIBPATTERNS</code> is &lsquo;<samp>lib%.so lib%.a</samp>&rsquo;,
which provides the default behavior described above.
</p>
<p>You can turn off link library expansion completely by setting this
variable to an empty value.
</p>
<hr size="6">
<a name="Phony-Targets"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Libraries_002fSearch" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Force-Targets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Phony-Targets-1"></a>
<h2 class="section">4.6 Phony Targets</h2>
<a name="index-phony-targets"></a>
<a name="index-targets_002c-phony"></a>
<a name="index-targets-without-a-file"></a>

<p>A phony target is one that is not really the name of a file; rather it
is just a name for a recipe to be executed when you make an explicit
request.  There are two reasons to use a phony target: to avoid a
conflict with a file of the same name, and to improve performance.
</p>
<p>If you write a rule whose recipe will not create the target file, the
recipe will be executed every time the target comes up for remaking.
Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">clean:
        rm *.o temp
</pre></td></tr></table>

<p>Because the <code>rm</code> command does not create a file named &lsquo;<tt>clean</tt>&rsquo;,
probably no such file will ever exist.  Therefore, the <code>rm</code> command
will be executed every time you say &lsquo;<samp>make clean</samp>&rsquo;.
<a name="index-rm-_0028shell-command_0029-2"></a>
</p>
<a name="index-_002ePHONY"></a>
<p>In this example, the &lsquo;<tt>clean</tt>&rsquo; target will not work properly if a
file named &lsquo;<tt>clean</tt>&rsquo; is ever created in this directory.  Since it
has no prerequisites, &lsquo;<tt>clean</tt>&rsquo; would always be considered up to
date and its recipe would not be executed.  To avoid this problem you
can explicitly declare the target to be phony by making it a
prerequisite of the special target <code>.PHONY</code>
(see section <a href="#Special-Targets">Special Built-in Target Names</a>) as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.PHONY: clean
clean:
        rm *.o temp
</pre></td></tr></table>

<p>Once this is done, &lsquo;<samp>make clean</samp>&rsquo; will run the recipe regardless of
whether there is a file named &lsquo;<tt>clean</tt>&rsquo;.
</p>
<p>Phony targets are also useful in conjunction with recursive
invocations of <code>make</code> (see section <a href="#Recursion">Recursive Use of <code>make</code></a>).
In this situation the makefile will often contain a variable which
lists a number of sub-directories to be built.  A simplistic way to
handle this is to define one rule with a recipe that loops over the
sub-directories, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SUBDIRS = foo bar baz

subdirs:
        for dir in $(SUBDIRS); do \
          $(MAKE) -C $$dir; \
        done
</pre></td></tr></table>

<p>There are problems with this method, however.  First, any error
detected in a sub-make is ignored by this rule, so it will continue
to build the rest of the directories even when one fails.  This can be
overcome by adding shell commands to note the error and exit, but then
it will do so even if <code>make</code> is invoked with the <code>-k</code>
option, which is unfortunate.  Second, and perhaps more importantly,
you cannot take advantage of <code>make</code>&rsquo;s ability to build targets in
parallel (see section <a href="#Parallel">Parallel Execution</a>), since there is only
one rule.
</p>
<p>By declaring the sub-directories as <code>.PHONY</code> targets (you must do
this as the sub-directory obviously always exists; otherwise it won&rsquo;t
be built) you can remove these problems:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">SUBDIRS = foo bar baz

.PHONY: subdirs $(SUBDIRS)

subdirs: $(SUBDIRS)

$(SUBDIRS):
        $(MAKE) -C $@

foo: baz
</pre></td></tr></table>

<p>Here we&rsquo;ve also declared that the &lsquo;<tt>foo</tt>&rsquo; sub-directory cannot be
built until after the &lsquo;<tt>baz</tt>&rsquo; sub-directory is complete; this kind of
relationship declaration is particularly important when attempting
parallel builds.
</p>
<p>The implicit rule search (see section <a href="#Implicit-Rules">Using Implicit Rules</a>) is skipped for
<code>.PHONY</code> targets.  This is why declaring a target as
<code>.PHONY</code> is good for performance, even if you are not worried
about the actual file existing.
</p>
<p>A phony target should not be a prerequisite of a real target file; if it
is, its recipe will be run every time <code>make</code> goes to update that
file.  As long as a phony target is never a prerequisite of a real
target, the phony target recipe will be executed only when the phony
target is a specified goal (see section <a href="#Goals">Arguments to Specify the Goals</a>).
</p>
<p>Phony targets can have prerequisites.  When one directory contains multiple
programs, it is most convenient to describe all of the programs in one
makefile &lsquo;<tt>./Makefile</tt>&rsquo;.  Since the target remade by default will be the
first one in the makefile, it is common to make this a phony target named
&lsquo;<samp>all</samp>&rsquo; and give it, as prerequisites, all the individual programs.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">all : prog1 prog2 prog3
.PHONY : all

prog1 : prog1.o utils.o
        cc -o prog1 prog1.o utils.o

prog2 : prog2.o
        cc -o prog2 prog2.o

prog3 : prog3.o sort.o utils.o
        cc -o prog3 prog3.o sort.o utils.o
</pre></td></tr></table>

<p>Now you can say just &lsquo;<samp>make</samp>&rsquo; to remake all three programs, or
specify as arguments the ones to remake (as in &lsquo;<samp>make prog1
prog3</samp>&rsquo;).  Phoniness is not inherited: the prerequisites of a phony
target are not themselves phony, unless explicitly declared to be so.
</p>
<p>When one phony target is a prerequisite of another, it serves as a subroutine
of the other.  For example, here &lsquo;<samp>make cleanall</samp>&rsquo; will delete the
object files, the difference files, and the file &lsquo;<tt>program</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.PHONY: cleanall cleanobj cleandiff

cleanall : cleanobj cleandiff
        rm program

cleanobj :
        rm *.o

cleandiff :
        rm *.diff
</pre></td></tr></table>

<hr size="6">
<a name="Force-Targets"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Phony-Targets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Empty-Targets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Rules-without-Recipes-or-Prerequisites"></a>
<h2 class="section">4.7 Rules without Recipes or Prerequisites</h2>
<a name="index-force-targets"></a>
<a name="index-targets_002c-force"></a>
<a name="index-FORCE"></a>
<a name="index-rule_002c-no-recipe-or-prerequisites"></a>

<p>If a rule has no prerequisites or recipe, and the target of the rule
is a nonexistent file, then <code>make</code> imagines this target to have
been updated whenever its rule is run.  This implies that all targets
depending on this one will always have their recipe run.
</p>
<p>An example will illustrate this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">clean: FORCE
        rm $(objects)
FORCE:
</pre></td></tr></table>

<p>Here the target &lsquo;<samp>FORCE</samp>&rsquo; satisfies the special conditions, so the
target &lsquo;<tt>clean</tt>&rsquo; that depends on it is forced to run its recipe.
There is nothing special about the name &lsquo;<samp>FORCE</samp>&rsquo;, but that is one
name commonly used this way.
</p>
<p>As you can see, using &lsquo;<samp>FORCE</samp>&rsquo; this way has the same results as using
&lsquo;<samp>.PHONY: clean</samp>&rsquo;.
</p>
<p>Using &lsquo;<samp>.PHONY</samp>&rsquo; is more explicit and more efficient.  However,
other versions of <code>make</code> do not support &lsquo;<samp>.PHONY</samp>&rsquo;; thus
&lsquo;<samp>FORCE</samp>&rsquo; appears in many makefiles.  See section <a href="#Phony-Targets">Phony Targets</a>.
</p>
<hr size="6">
<a name="Empty-Targets"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Force-Targets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Special-Targets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Empty-Target-Files-to-Record-Events"></a>
<h2 class="section">4.8 Empty Target Files to Record Events</h2>
<a name="index-empty-targets"></a>
<a name="index-targets_002c-empty"></a>
<a name="index-recording-events-with-empty-targets"></a>

<p>The <em>empty target</em> is a variant of the phony target; it is used to hold
recipes for an action that you request explicitly from time to time.
Unlike a phony target, this target file can really exist; but the file&rsquo;s
contents do not matter, and usually are empty.
</p>
<p>The purpose of the empty target file is to record, with its
last-modification time, when the rule&rsquo;s recipe was last executed.  It
does so because one of the commands in the recipe is a <code>touch</code>
command to update the target file.
</p>
<p>The empty target file should have some prerequisites (otherwise it
doesn&rsquo;t make sense).  When you ask to remake the empty target, the
recipe is executed if any prerequisite is more recent than the target;
in other words, if a prerequisite has changed since the last time you
remade the target.  Here is an example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">print: foo.c bar.c
        lpr -p $?
        touch print
</pre></td></tr></table>
<a name="index-print-target-1"></a>
<a name="index-lpr-_0028shell-command_0029-1"></a>
<a name="index-touch-_0028shell-command_0029-1"></a>

<p>With this rule, &lsquo;<samp>make print</samp>&rsquo; will execute the <code>lpr</code> command if
either source file has changed since the last &lsquo;<samp>make print</samp>&rsquo;.  The
automatic variable &lsquo;<samp>$?</samp>&rsquo; is used to print only those files that have
changed (see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<hr size="6">
<a name="Special-Targets"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Empty-Targets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multiple-Targets" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Special-Built_002din-Target-Names"></a>
<h2 class="section">4.9 Special Built-in Target Names</h2>
<a name="index-special-targets"></a>
<a name="index-built_002din-special-targets"></a>
<a name="index-targets_002c-built_002din-special"></a>

<p>Certain names have special meanings if they appear as targets.
</p>
<dl compact="compact">
<dd><a name="index-_002ePHONY-1"></a>
</dd>
<dt> <code>.PHONY</code></dt>
<dd>
<p>The prerequisites of the special target <code>.PHONY</code> are considered to
be phony targets.  When it is time to consider such a target,
<code>make</code> will run its recipe unconditionally, regardless of
whether a file with that name exists or what its last-modification
time is.  See section <a href="#Phony-Targets">Phony Targets</a>.
</p>
<a name="index-_002eSUFFIXES"></a>
</dd>
<dt> <code>.SUFFIXES</code></dt>
<dd>
<p>The prerequisites of the special target <code>.SUFFIXES</code> are the list
of suffixes to be used in checking for suffix rules.
See section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>.
</p>
<a name="index-_002eDEFAULT"></a>
</dd>
<dt> <code>.DEFAULT</code></dt>
<dd>
<p>The recipe specified for <code>.DEFAULT</code> is used for any target for
which no rules are found (either explicit rules or implicit rules).
See section <a href="#Last-Resort">Defining Last-Resort Default Rules</a>.  If a <code>.DEFAULT</code> recipe is specified, every
file mentioned as a prerequisite, but not as a target in a rule, will have
that recipe executed on its behalf.  See section <a href="#Implicit-Rule-Search">Implicit Rule Search Algorithm</a>.
</p>
<a name="index-_002ePRECIOUS"></a>
</dd>
<dt> <code>.PRECIOUS</code></dt>
<dd><a name="index-precious-targets"></a>
<a name="index-preserving-with-_002ePRECIOUS"></a>

<p>The targets which <code>.PRECIOUS</code> depends on are given the following
special treatment: if <code>make</code> is killed or interrupted during the
execution of their recipes, the target is not deleted.
See section <a href="#Interrupts">Interrupting or Killing <code>make</code></a>.  Also, if the
target is an intermediate file, it will not be deleted after it is no
longer needed, as is normally done.  See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.  In this latter respect it overlaps with the
<code>.SECONDARY</code> special target.
</p>
<p>You can also list the target pattern of an implicit rule (such as
&lsquo;<samp>%.o</samp>&rsquo;) as a prerequisite file of the special target <code>.PRECIOUS</code>
to preserve intermediate files created by rules whose target patterns
match that file&rsquo;s name.
</p>
<a name="index-_002eINTERMEDIATE"></a>
</dd>
<dt> <code>.INTERMEDIATE</code></dt>
<dd><a name="index-intermediate-targets_002c-explicit"></a>

<p>The targets which <code>.INTERMEDIATE</code> depends on are treated as
intermediate files.  See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
<code>.INTERMEDIATE</code> with no prerequisites has no effect.
</p>
<a name="index-_002eSECONDARY"></a>
</dd>
<dt> <code>.SECONDARY</code></dt>
<dd><a name="index-secondary-targets"></a>
<a name="index-preserving-with-_002eSECONDARY"></a>

<p>The targets which <code>.SECONDARY</code> depends on are treated as
intermediate files, except that they are never automatically deleted.
See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
</p>
<p><code>.SECONDARY</code> with no prerequisites causes all targets to be treated
as secondary (i.e., no target is removed because it is considered
intermediate).
</p>
<a name="index-_002eSECONDEXPANSION-1"></a>
</dd>
<dt> <code>.SECONDEXPANSION</code></dt>
<dd>
<p>If <code>.SECONDEXPANSION</code> is mentioned as a target anywhere in the
makefile, then all prerequisite lists defined <em>after</em> it appears
will be expanded a second time after all makefiles have been read in.
See section <a href="#Secondary-Expansion">Secondary Expansion</a>.
</p>
<a name="index-_002eDELETE_005fON_005fERROR"></a>
</dd>
<dt> <code>.DELETE_ON_ERROR</code></dt>
<dd><a name="index-removing-targets-on-failure"></a>

<p>If <code>.DELETE_ON_ERROR</code> is mentioned as a target anywhere in the
makefile, then <code>make</code> will delete the target of a rule if it has
changed and its recipe exits with a nonzero exit status, just as it
does when it receives a signal.  See section <a href="#Errors">Errors in Recipes</a>.
</p>
<a name="index-_002eIGNORE"></a>
</dd>
<dt> <code>.IGNORE</code></dt>
<dd>
<p>If you specify prerequisites for <code>.IGNORE</code>, then <code>make</code> will
ignore errors in execution of the recipe for those particular files.
The recipe for <code>.IGNORE</code> (if any) is ignored.
</p>
<p>If mentioned as a target with no prerequisites, <code>.IGNORE</code> says to
ignore errors in execution of recipes for all files.  This usage of
&lsquo;<samp>.IGNORE</samp>&rsquo; is supported only for historical compatibility.  Since
this affects every recipe in the makefile, it is not very useful; we
recommend you use the more selective ways to ignore errors in specific
recipes.  See section <a href="#Errors">Errors in Recipes</a>.
</p>
<a name="index-_002eLOW_005fRESOLUTION_005fTIME"></a>
</dd>
<dt> <code>.LOW_RESOLUTION_TIME</code></dt>
<dd>
<p>If you specify prerequisites for <code>.LOW_RESOLUTION_TIME</code>,
<code>make</code> assumes that these files are created by commands that
generate low resolution time stamps.  The recipe for the
<code>.LOW_RESOLUTION_TIME</code> target are ignored.
</p>
<p>The high resolution file time stamps of many modern file systems
lessen the chance of <code>make</code> incorrectly concluding that a file
is up to date.  Unfortunately, some hosts do not provide a way to set a
high resolution file time stamp, so commands like &lsquo;<samp>cp -p</samp>&rsquo; that
explicitly set a file&rsquo;s time stamp must discard its sub-second part.
If a file is created by such a command, you should list it as a
prerequisite of <code>.LOW_RESOLUTION_TIME</code> so that <code>make</code>
does not mistakenly conclude that the file is out of date.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.LOW_RESOLUTION_TIME: dst
dst: src
        cp -p src dst
</pre></td></tr></table>

<p>Since &lsquo;<samp>cp -p</samp>&rsquo; discards the sub-second part of &lsquo;<tt>src</tt>&rsquo;&rsquo;s time
stamp, &lsquo;<tt>dst</tt>&rsquo; is typically slightly older than &lsquo;<tt>src</tt>&rsquo; even when
it is up to date.  The <code>.LOW_RESOLUTION_TIME</code> line causes
<code>make</code> to consider &lsquo;<tt>dst</tt>&rsquo; to be up to date if its time stamp
is at the start of the same second that &lsquo;<tt>src</tt>&rsquo;&rsquo;s time stamp is in.
</p>
<p>Due to a limitation of the archive format, archive member time stamps
are always low resolution.  You need not list archive members as
prerequisites of <code>.LOW_RESOLUTION_TIME</code>, as <code>make</code> does this
automatically.
</p>
<a name="index-_002eSILENT"></a>
</dd>
<dt> <code>.SILENT</code></dt>
<dd>
<p>If you specify prerequisites for <code>.SILENT</code>, then <code>make</code> will
not print the recipe used to remake those particular files before
executing them.  The recipe for <code>.SILENT</code> is ignored.
</p>
<p>If mentioned as a target with no prerequisites, <code>.SILENT</code> says
not to print any recipes before executing them.  You may also use more
selective ways to silence specific recipe command lines.
See section <a href="#Echoing">Recipe Echoing</a>.  If you want to silence all recipes
for a particular run of <code>make</code>, use the &lsquo;<samp>-s</samp>&rsquo; or
&lsquo;<samp>--silent</samp>&rsquo; option (see section <a href="#Options-Summary">Summary of Options</a>).
</p>
<a name="index-_002eEXPORT_005fALL_005fVARIABLES"></a>
</dd>
<dt> <code>.EXPORT_ALL_VARIABLES</code></dt>
<dd>
<p>Simply by being mentioned as a target, this tells <code>make</code> to
export all variables to child processes by default.
See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>.
</p>
<a name="index-_002eNOTPARALLEL"></a>
</dd>
<dt> <code>.NOTPARALLEL</code></dt>
<dd><a name="index-parallel-execution_002c-overriding"></a>

<p>If <code>.NOTPARALLEL</code> is mentioned as a target, then this invocation
of <code>make</code> will be run serially, even if the &lsquo;<samp>-j</samp>&rsquo; option is
given.  Any recursively invoked <code>make</code> command will still run
recipes in parallel (unless its makefile also contains this target).
Any prerequisites on this target are ignored.
</p>
<a name="index-_002eONESHELL"></a>
</dd>
<dt> <code>.ONESHELL</code></dt>
<dd><a name="index-recipe-execution_002c-single-invocation"></a>

<p>If <code>.ONESHELL</code> is mentioned as a target, then when a target is
built all lines of the recipe will be given to a single invocation of
the shell rather than each line being invoked separately
(see section <a href="#Execution">Recipe Execution</a>).
</p>
<a name="index-_002ePOSIX"></a>
</dd>
<dt> <code>.POSIX</code></dt>
<dd><a name="index-POSIX_002dconforming-mode_002c-setting"></a>

<p>If <code>.POSIX</code> is mentioned as a target, then the makefile will be
parsed and run in POSIX-conforming mode.  This does <em>not</em> mean
that only POSIX-conforming makefiles will be accepted: all advanced
GNU <code>make</code> features are still available.  Rather, this target
causes <code>make</code> to behave as required by POSIX in those areas
where <code>make</code>&rsquo;s default behavior differs.
</p>
<p>In particular, if this target is mentioned then recipes will be
invoked as if the shell had been passed the <code>-e</code> flag: the first
failing command in a recipe will cause the recipe to fail immediately.
</p></dd>
</dl>

<p>Any defined implicit rule suffix also counts as a special target if it
appears as a target, and so does the concatenation of two suffixes, such
as &lsquo;<samp>.c.o</samp>&rsquo;.  These targets are suffix rules, an obsolete way of
defining implicit rules (but a way still widely used).  In principle, any
target name could be special in this way if you break it in two and add
both pieces to the suffix list.  In practice, suffixes normally begin with
&lsquo;<samp>.</samp>&rsquo;, so these special target names also begin with &lsquo;<samp>.</samp>&rsquo;.
See section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>.
</p>
<hr size="6">
<a name="Multiple-Targets"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Special-Targets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multiple-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Multiple-Targets-in-a-Rule"></a>
<h2 class="section">4.10 Multiple Targets in a Rule</h2>
<a name="index-multiple-targets"></a>
<a name="index-several-targets-in-a-rule"></a>
<a name="index-targets_002c-multiple"></a>
<a name="index-rule_002c-with-multiple-targets"></a>

<p>When an explicit rule has multiple targets they can be treated in one
of two possible ways: as independent targets or as grouped targets.
The manner in which they are treated is determined by the separator that
appears after the list of targets.
</p>
<a name="Rules-with-Independent-Targets"></a>
<h4 class="subsubheading">Rules with Independent Targets</h4>
<a name="index-independent-targets"></a>
<a name="index-targets_002c-independent"></a>

<p>Rules that use the standard target separator, <code>:</code>, define
independent targets.  This is equivalent to writing the same rule once
for each target, with duplicated prerequisites and recipes.  Typically,
the recipe would use automatic variables such as &lsquo;<samp>$@</samp>&rsquo; to specify
which target is being built.
</p>
<p>Rules with independent targets are useful in two cases:
</p>
<ul>
<li>
You want just prerequisites, no recipe.  For example:

<table><tr><td>&nbsp;</td><td><pre class="example">kbd.o command.o files.o: command.h
</pre></td></tr></table>

<p>gives an additional prerequisite to each of the three object files
mentioned.  It is equivalent to writing:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">kbd.o: command.h
command.o: command.h
files.o: command.h
</pre></td></tr></table>

</li><li>
Similar recipes work for all the targets.  The automatic variable
&lsquo;<samp>$@</samp>&rsquo; can be used to substitute the particular target to be
remade into the commands (see section <a href="#Automatic-Variables">Automatic Variables</a>).  For example:

<table><tr><td>&nbsp;</td><td><pre class="example">bigoutput littleoutput : text.g
        generate text.g -$(subst output,,$@) &gt; $@
</pre></td></tr></table>
<a name="index-subst"></a>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">bigoutput : text.g
        generate text.g -big &gt; bigoutput
littleoutput : text.g
        generate text.g -little &gt; littleoutput
</pre></td></tr></table>

<p>Here we assume the hypothetical program <code>generate</code> makes two
types of output, one if given &lsquo;<samp>-big</samp>&rsquo; and one if given
&lsquo;<samp>-little</samp>&rsquo;.
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>,
for an explanation of the <code>subst</code> function.
</p></li></ul>

<p>Suppose you would like to vary the prerequisites according to the
target, much as the variable &lsquo;<samp>$@</samp>&rsquo; allows you to vary the recipe.
You cannot do this with multiple targets in an ordinary rule, but you
can do it with a <em>static pattern rule</em>.  See section <a href="#Static-Pattern">Static Pattern Rules</a>.
</p>
<a name="Rules-with-Grouped-Targets"></a>
<h4 class="subsubheading">Rules with Grouped Targets</h4>
<a name="index-grouped-targets"></a>
<a name="index-targets_002c-grouped"></a>

<p>If instead of independent targets you have a recipe that generates
multiple files from a single invocation, you can express that
relationship by declaring your rule to use <em>grouped targets</em>.  A
grouped target rule uses the separator <code>&amp;:</code> (the &lsquo;<samp>&amp;</samp>&rsquo; here is
used to imply &ldquo;all&rdquo;).
</p>
<p>When <code>make</code> builds any one of the grouped targets, it understands
that all the other targets in the group are also created as a result
of the invocation of the recipe.  Furthermore, if only some of the
grouped targets are out of date or missing <code>make</code> will realize
that running the recipe will update all of the targets.
</p>
<p>As an example, this rule defines a grouped target:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo bar biz &amp;: baz boz
        echo $^ &gt; foo
        echo $^ &gt; bar
        echo $^ &gt; biz
</pre></td></tr></table>

<p>During the execution of a grouped target&rsquo;s recipe, the automatic
variable &lsquo;<samp>$@</samp>&rsquo; is set to the name of the particular target in the
group which triggered the rule.  Caution must be used if relying on
this variable in the recipe of a grouped target rule.
</p>
<p>Unlike independent targets, a grouped target rule <em>must</em> include
a recipe.  However, targets that are members of a grouped target may
also appear in independent target rule definitions that do not have
recipes.
</p>
<p>Each target may have only one recipe associated with it.  If a grouped
target appears in either an independent target rule or in another
grouped target rule with a recipe, you will get a warning and the
latter recipe will replace the former recipe.  Additionally the target
will be removed from the previous group and appear only in the new
group.
</p>
<p>If you would like a target to appear in multiple groups, then you must
use the double-colon grouped target separator, <code>&amp;::</code> when
declaring all of the groups containing that target.  Grouped
double-colon targets are each considered independently, and each
grouped double-colon rule&rsquo;s recipe is executed at most once, if at
least one of its multiple targets requires updating.
</p>
<hr size="6">
<a name="Multiple-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multiple-Targets" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Static-Pattern" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Multiple-Rules-for-One-Target"></a>
<h2 class="section">4.11 Multiple Rules for One Target</h2>
<a name="index-multiple-rules-for-one-target"></a>
<a name="index-several-rules-for-one-target"></a>
<a name="index-rule_002c-multiple-for-one-target"></a>
<a name="index-target_002c-multiple-rules-for-one"></a>

<p>One file can be the target of several rules.  All the prerequisites
mentioned in all the rules are merged into one list of prerequisites for
the target.  If the target is older than any prerequisite from any rule,
the recipe is executed.
</p>
<p>There can only be one recipe to be executed for a file.  If more than
one rule gives a recipe for the same file, <code>make</code> uses the last
one given and prints an error message.  (As a special case, if the
file&rsquo;s name begins with a dot, no error message is printed.  This odd
behavior is only for compatibility with other implementations of
<code>make</code>&hellip; you should avoid using it).  Occasionally it is
useful to have the same target invoke multiple recipes which are
defined in different parts of your makefile; you can use
<em>double-colon rules</em> (see section <a href="#Double_002dColon">Double-Colon Rules</a>) for this.
</p>
<p>An extra rule with just prerequisites can be used to give a few extra
prerequisites to many files at once.  For example, makefiles often
have a variable, such as <code>objects</code>, containing a list of all the
compiler output files in the system being made.  An easy way to say
that all of them must be recompiled if &lsquo;<tt>config.h</tt>&rsquo; changes is to
write the following:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = foo.o bar.o
foo.o : defs.h
bar.o : defs.h test.h
$(objects) : config.h
</pre></td></tr></table>

<p>This could be inserted or taken out without changing the rules that really
specify how to make the object files, making it a convenient form to use if
you wish to add the additional prerequisite intermittently.
</p>
<p>Another wrinkle is that the additional prerequisites could be
specified with a variable that you set with a command line argument to
<code>make</code> (see section <a href="#Overriding">Overriding Variables</a>).  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">extradeps=
$(objects) : $(extradeps)
</pre></td></tr></table>

<p>means that the command &lsquo;<samp>make extradeps=foo.h</samp>&rsquo; will consider
&lsquo;<tt>foo.h</tt>&rsquo; as a prerequisite of each object file, but plain &lsquo;<samp>make</samp>&rsquo;
will not.
</p>
<p>If none of the explicit rules for a target has a recipe, then <code>make</code>
searches for an applicable implicit rule to find one
see section <a href="#Implicit-Rules">Using Implicit Rules</a>).
</p>
<hr size="6">
<a name="Static-Pattern"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multiple-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Static-Usage" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Static-Pattern-Rules"></a>
<h2 class="section">4.12 Static Pattern Rules</h2>
<a name="index-static-pattern-rule"></a>
<a name="index-rule_002c-static-pattern"></a>
<a name="index-pattern-rules_002c-static-_0028not-implicit_0029"></a>
<a name="index-varying-prerequisites"></a>
<a name="index-prerequisites_002c-varying-_0028static-pattern_0029"></a>

<p><em>Static pattern rules</em> are rules which specify multiple targets and
construct the prerequisite names for each target based on the target name.
They are more general than ordinary rules with multiple targets because the
targets do not have to have identical prerequisites.  Their prerequisites must
be <em>analogous</em>, but not necessarily <em>identical</em>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                The syntax of static pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Static-versus-Implicit">4.12.2 Static Pattern Rules versus Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      When are they better than implicit rules?
</td></tr>
</table>

<hr size="6">
<a name="Static-Usage"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Static-Pattern" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Static-versus-Implicit" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Static-Pattern" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Syntax-of-Static-Pattern-Rules"></a>
<h3 class="subsection">4.12.1 Syntax of Static Pattern Rules</h3>
<a name="index-static-pattern-rule_002c-syntax-of"></a>
<a name="index-pattern-rules_002c-static_002c-syntax-of"></a>

<p>Here is the syntax of a static pattern rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>targets</var> &hellip;: <var>target-pattern</var>: <var>prereq-patterns</var> &hellip;
        <var>recipe</var>
        &hellip;
</pre></td></tr></table>

<p>The <var>targets</var> list specifies the targets that the rule applies to.
The targets can contain wildcard characters, just like the targets of
ordinary rules (see section <a href="#Wildcards">Using Wildcard Characters in File Names</a>).
</p>
<a name="index-target-pattern_002c-static-_0028not-implicit_0029"></a>
<a name="index-stem"></a>
<p>The <var>target-pattern</var> and <var>prereq-patterns</var> say how to compute the
prerequisites of each target.  Each target is matched against the
<var>target-pattern</var> to extract a part of the target name, called the
<em>stem</em>.  This stem is substituted into each of the <var>prereq-patterns</var>
to make the prerequisite names (one from each <var>prereq-pattern</var>).
</p>
<p>Each pattern normally contains the character &lsquo;<samp>%</samp>&rsquo; just once.  When the
<var>target-pattern</var> matches a target, the &lsquo;<samp>%</samp>&rsquo; can match any part of
the target name; this part is called the <em>stem</em>.  The rest of the
pattern must match exactly.  For example, the target &lsquo;<tt>foo.o</tt>&rsquo; matches
the pattern &lsquo;<samp>%.o</samp>&rsquo;, with &lsquo;<samp>foo</samp>&rsquo; as the stem.  The targets
&lsquo;<tt>foo.c</tt>&rsquo; and &lsquo;<tt>foo.out</tt>&rsquo; do not match that pattern.
</p>
<a name="index-prerequisite-pattern_002c-static-_0028not-implicit_0029"></a>
<p>The prerequisite names for each target are made by substituting the stem
for the &lsquo;<samp>%</samp>&rsquo; in each prerequisite pattern.  For example, if one
prerequisite pattern is &lsquo;<tt>%.c</tt>&rsquo;, then substitution of the stem
&lsquo;<samp>foo</samp>&rsquo; gives the prerequisite name &lsquo;<tt>foo.c</tt>&rsquo;.  It is legitimate
to write a prerequisite pattern that does not contain &lsquo;<samp>%</samp>&rsquo;; then this
prerequisite is the same for all targets.
</p>
<a name="index-_0025_002c-quoting-in-static-pattern"></a>
<a name="index-_0025_002c-quoting-with-_005c-_0028backslash_0029-1"></a>
<a name="index-_005c-_0028backslash_0029_002c-to-quote-_0025-1"></a>
<a name="index-backslash-_0028_005c_0029_002c-to-quote-_0025-1"></a>
<a name="index-quoting-_0025_002c-in-static-pattern"></a>
<p>&lsquo;<samp>%</samp>&rsquo; characters in pattern rules can be quoted with preceding
backslashes (&lsquo;<samp>\</samp>&rsquo;).  Backslashes that would otherwise quote &lsquo;<samp>%</samp>&rsquo;
characters can be quoted with more backslashes.  Backslashes that quote
&lsquo;<samp>%</samp>&rsquo; characters or other backslashes are removed from the pattern
before it is compared to file names or has a stem substituted into it.
Backslashes that are not in danger of quoting &lsquo;<samp>%</samp>&rsquo; characters go
unmolested.  For example, the pattern &lsquo;<tt>the\%weird\\%pattern\\</tt>&rsquo; has
&lsquo;<samp>the%weird\</samp>&rsquo; preceding the operative &lsquo;<samp>%</samp>&rsquo; character, and
&lsquo;<samp>pattern\\</samp>&rsquo; following it.  The final two backslashes are left alone
because they cannot affect any &lsquo;<samp>%</samp>&rsquo; character.
</p>
<p>Here is an example, which compiles each of &lsquo;<tt>foo.o</tt>&rsquo; and &lsquo;<tt>bar.o</tt>&rsquo;
from the corresponding &lsquo;<tt>.c</tt>&rsquo; file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = foo.o bar.o

all: $(objects)

$(objects): %.o: %.c
        $(CC) -c $(CFLAGS) $&lt; -o $@
</pre></td></tr></table>

<p>Here &lsquo;<samp>$&lt;</samp>&rsquo; is the automatic variable that holds the name of the
prerequisite and &lsquo;<samp>$@</samp>&rsquo; is the automatic variable that holds the name
of the target; see <a href="#Automatic-Variables">Automatic Variables</a>.
</p>
<p>Each target specified must match the target pattern; a warning is issued
for each target that does not.  If you have a list of files, only some of
which will match the pattern, you can use the <code>filter</code> function to
remove non-matching file names (see section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">files = foo.elc bar.o lose.o

$(filter %.o,$(files)): %.o: %.c
        $(CC) -c $(CFLAGS) $&lt; -o $@
$(filter %.elc,$(files)): %.elc: %.el
        emacs -f batch-byte-compile $&lt;
</pre></td></tr></table>

<p>In this example the result of &lsquo;<samp>$(filter %.o,$(files))</samp>&rsquo; is
&lsquo;<tt>bar.o lose.o</tt>&rsquo;, and the first static pattern rule causes each of
these object files to be updated by compiling the corresponding C source
file.  The result of &lsquo;<samp>$(filter %.elc,$(files))</samp>&rsquo; is
&lsquo;<tt>foo.elc</tt>&rsquo;, so that file is made from &lsquo;<tt>foo.el</tt>&rsquo;.
</p>
<p>Another example shows how to use <code>$*</code> in static pattern rules:
<a name="index-_0024_002a_002c-and-static-pattern"></a>
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">bigoutput littleoutput : %output : text.g
        generate text.g -$* &gt; $@
</pre></td></tr></table>

<p>When the <code>generate</code> command is run, <code>$*</code> will expand to the
stem, either &lsquo;<samp>big</samp>&rsquo; or &lsquo;<samp>little</samp>&rsquo;.
</p>
<hr size="6">
<a name="Static-versus-Implicit"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Static-Usage" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Double_002dColon" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Static-Pattern" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Static-Pattern-Rules-versus-Implicit-Rules"></a>
<h3 class="subsection">4.12.2 Static Pattern Rules versus Implicit Rules</h3>
<a name="index-rule_002c-static-pattern-versus-implicit"></a>
<a name="index-static-pattern-rule_002c-versus-implicit"></a>

<p>A static pattern rule has much in common with an implicit rule defined as a
pattern rule (see section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>).
Both have a pattern for the target and patterns for constructing the
names of prerequisites.  The difference is in how <code>make</code> decides
<em>when</em> the rule applies.
</p>
<p>An implicit rule <em>can</em> apply to any target that matches its pattern,
but it <em>does</em> apply only when the target has no recipe otherwise
specified, and only when the prerequisites can be found.  If more than one
implicit rule appears applicable, only one applies; the choice depends on
the order of rules.
</p>
<p>By contrast, a static pattern rule applies to the precise list of targets
that you specify in the rule.  It cannot apply to any other target and it
invariably does apply to each of the targets specified.  If two conflicting
rules apply, and both have recipes, that&rsquo;s an error.
</p>
<p>The static pattern rule can be better than an implicit rule for these
reasons:
</p>
<ul>
<li>
You may wish to override the usual implicit rule for a few
files whose names cannot be categorized syntactically but
can be given in an explicit list.

</li><li>
If you cannot be sure of the precise contents of the directories
you are using, you may not be sure which other irrelevant files
might lead <code>make</code> to use the wrong implicit rule.  The choice
might depend on the order in which the implicit rule search is done.
With static pattern rules, there is no uncertainty: each rule applies
to precisely the targets specified.
</li></ul>

<hr size="6">
<a name="Double_002dColon"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Static-versus-Implicit" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Automatic-Prerequisites" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Double_002dColon-Rules"></a>
<h2 class="section">4.13 Double-Colon Rules</h2>
<a name="index-double_002dcolon-rules"></a>
<a name="index-rule_002c-double_002dcolon-_0028_003a_003a_0029"></a>
<a name="index-multiple-rules-for-one-target-_0028_003a_003a_0029"></a>
<a name="index-_003a_003a-rules-_0028double_002dcolon_0029"></a>

<p><em>Double-colon</em> rules are explicit rules written with &lsquo;<samp>::</samp>&rsquo;
instead of &lsquo;<samp>:</samp>&rsquo; after the target names.  They are handled
differently from ordinary rules when the same target appears in more
than one rule.  Pattern rules with double-colons have an entirely
different meaning (see section <a href="#Match_002dAnything-Rules">Match-Anything Pattern Rules</a>).
</p>
<p>When a target appears in multiple rules, all the rules must be the same
type: all ordinary, or all double-colon.  If they are double-colon, each
of them is independent of the others.  Each double-colon rule&rsquo;s recipe
is executed if the target is older than any prerequisites of that rule.
If there are no prerequisites for that rule, its recipe is always
executed (even if the target already exists).  This can result in
executing none, any, or all of the double-colon rules.
</p>
<p>Double-colon rules with the same target are in fact completely separate
from one another.  Each double-colon rule is processed individually, just
as rules with different targets are processed.
</p>
<p>The double-colon rules for a target are executed in the order they appear
in the makefile.  However, the cases where double-colon rules really make
sense are those where the order of executing the recipes would not matter.
</p>
<p>Double-colon rules are somewhat obscure and not often very useful; they
provide a mechanism for cases in which the method used to update a target
differs depending on which prerequisite files caused the update, and such
cases are rare.
</p>
<p>Each double-colon rule should specify a recipe; if it does not, an
implicit rule will be used if one applies.
See section <a href="#Implicit-Rules">Using Implicit Rules</a>.
</p>
<hr size="6">
<a name="Automatic-Prerequisites"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Double_002dColon" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Generating-Prerequisites-Automatically"></a>
<h2 class="section">4.14 Generating Prerequisites Automatically</h2>
<a name="index-prerequisites_002c-automatic-generation-1"></a>
<a name="index-automatic-generation-of-prerequisites-1"></a>
<a name="index-generating-prerequisites-automatically-1"></a>

<p>In the makefile for a program, many of the rules you need to write often
say only that some object file depends on some header
file.  For example, if &lsquo;<tt>main.c</tt>&rsquo; uses &lsquo;<tt>defs.h</tt>&rsquo; via an
<code>#include</code>, you would write:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main.o: defs.h
</pre></td></tr></table>

<p>You need this rule so that <code>make</code> knows that it must remake
&lsquo;<tt>main.o</tt>&rsquo; whenever &lsquo;<tt>defs.h</tt>&rsquo; changes.  You can see that for a
large program you would have to write dozens of such rules in your
makefile.  And, you must always be very careful to update the makefile
every time you add or remove an <code>#include</code>.
<a name="index-_0023include"></a>
</p>
<a name="index-_002dM-_0028to-compiler_0029"></a>
<p>To avoid this hassle, most modern C compilers can write these rules for
you, by looking at the <code>#include</code> lines in the source files.
Usually this is done with the &lsquo;<samp>-M</samp>&rsquo; option to the compiler.
For example, the command:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -M main.c
</pre></td></tr></table>

<p>generates the output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main.o : main.c defs.h
</pre></td></tr></table>

<p>Thus you no longer have to write all those rules yourself.
The compiler will do it for you.
</p>
<p>Note that such a rule constitutes mentioning &lsquo;<tt>main.o</tt>&rsquo; in a
makefile, so it can never be considered an intermediate file by
implicit rule search.  This means that <code>make</code> won&rsquo;t ever remove
the file after using it; see section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
</p>
<a name="index-make-depend"></a>
<p>With old <code>make</code> programs, it was traditional practice to use this
compiler feature to generate prerequisites on demand with a command like
&lsquo;<samp>make depend</samp>&rsquo;.  That command would create a file &lsquo;<tt>depend</tt>&rsquo;
containing all the automatically-generated prerequisites; then the
makefile could use <code>include</code> to read them in (see section <a href="#Include">Including Other Makefiles</a>).
</p>
<p>In GNU <code>make</code>, the feature of remaking makefiles makes this
practice obsolete&mdash;you need never tell <code>make</code> explicitly to
regenerate the prerequisites, because it always regenerates any makefile
that is out of date.  See section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>.
</p>
<p>The practice we recommend for automatic prerequisite generation is to have
one makefile corresponding to each source file.  For each source file
&lsquo;<tt><var>name</var>.c</tt>&rsquo; there is a makefile &lsquo;<tt><var>name</var>.d</tt>&rsquo; which lists
what files the object file &lsquo;<tt><var>name</var>.o</tt>&rsquo; depends on.  That way
only the source files that have changed need to be rescanned to produce
the new prerequisites.
</p>
<p>Here is the pattern rule to generate a file of prerequisites (i.e., a makefile)
called &lsquo;<tt><var>name</var>.d</tt>&rsquo; from a C source file called &lsquo;<tt><var>name</var>.c</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">%.d: %.c
        @set -e; rm -f $@; \
         $(CC) -M $(CPPFLAGS) $&lt; &gt; $@.$$$$; \
         sed 's,\($*\)\.o[ :]*,\1.o $@ : ,g' &lt; $@.$$$$ &gt; $@; \
         rm -f $@.$$$$
</pre></td></tr></table>

<p>See section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>, for information on defining pattern rules.  The
&lsquo;<samp>-e</samp>&rsquo; flag to the shell causes it to exit immediately if the
<code>$(CC)</code> command (or any other command) fails (exits with a
nonzero status).
<a name="index-_002de-_0028shell-flag_0029"></a>
</p>
<a name="index-_002dMM-_0028to-GNU-compiler_0029"></a>
<p>With the GNU C compiler, you may wish to use the &lsquo;<samp>-MM</samp>&rsquo; flag instead
of &lsquo;<samp>-M</samp>&rsquo;.  This omits prerequisites on system header files.
See <a href="gcc.html#Preprocessor-Options">(gcc)Preprocessor Options</a> section &lsquo;Options Controlling the Preprocessor&rsquo; in <cite>Using GNU CC</cite>, for details.
</p>
<a name="index-sed-_0028shell-command_0029"></a>
<p>The purpose of the <code>sed</code> command is to translate (for example):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main.o : main.c defs.h
</pre></td></tr></table>

<p>into:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">main.o main.d : main.c defs.h
</pre></td></tr></table>

<a name="index-_002ed"></a>
<p>This makes each &lsquo;<samp>.d</samp>&rsquo; file depend on all the source and header files
that the corresponding &lsquo;<samp>.o</samp>&rsquo; file depends on.  <code>make</code> then
knows it must regenerate the prerequisites whenever any of the source or
header files changes.
</p>
<p>Once you&rsquo;ve defined the rule to remake the &lsquo;<samp>.d</samp>&rsquo; files,
you then use the <code>include</code> directive to read them all in.
See section <a href="#Include">Including Other Makefiles</a>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">sources = foo.c bar.c

include $(sources:.c=.d)
</pre></td></tr></table>

<p>(This example uses a substitution variable reference to translate the
list of source files &lsquo;<samp>foo.c bar.c</samp>&rsquo; into a list of prerequisite
makefiles, &lsquo;<samp>foo.d bar.d</samp>&rsquo;.  See section <a href="#Substitution-Refs">Substitution References</a>, for full
information on substitution references.)  Since the &lsquo;<samp>.d</samp>&rsquo; files are
makefiles like any others, <code>make</code> will remake them as necessary
with no further work from you.  See section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>.
</p>
<p>Note that the &lsquo;<samp>.d</samp>&rsquo; files contain target definitions; you should
be sure to place the <code>include</code> directive <em>after</em> the first,
default goal in your makefiles or run the risk of having a random
object file become the default goal.
See section <a href="#How-Make-Works">How <code>make</code> Processes a Makefile</a>.
</p>
<hr size="6">
<a name="Recipes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Automatic-Prerequisites" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipe-Syntax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Writing-Recipes-in-Rules"></a>
<h1 class="chapter">5. Writing Recipes in Rules</h1>
<a name="index-recipes-1"></a>
<a name="index-recipes_002c-how-to-write"></a>
<a name="index-writing-recipes"></a>

<p>The recipe of a rule consists of one or more shell command lines to
be executed, one at a time, in the order they appear.  Typically, the
result of executing these commands is that the target of the rule is
brought up to date.
</p>
<p>Users use many different shell programs, but recipes in makefiles are
always interpreted by &lsquo;<tt>/bin/sh</tt>&rsquo; unless the makefile specifies
otherwise.  See section <a href="#Execution">Recipe Execution</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Recipe syntax features and pitfalls.
</td></tr>
<tr><td align="left" valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to control when recipes are echoed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Execution">5.3 Recipe Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How recipes are executed.
</td></tr>
<tr><td align="left" valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    How recipes can be executed in parallel.
</td></tr>
<tr><td align="left" valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      What happens after a recipe execution error.
</td></tr>
<tr><td align="left" valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  What happens when a recipe is interrupted.
</td></tr>
<tr><td align="left" valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Invoking <code>make</code> from makefiles.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Defining canned recipes.
</td></tr>
<tr><td align="left" valign="top"><a href="#Empty-Recipes">5.9 Using Empty Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Defining useful, do-nothing recipes.
</td></tr>
</table>

<hr size="6">
<a name="Recipe-Syntax"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Recipes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Splitting-Recipe-Lines" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Recipe-Syntax-1"></a>
<h2 class="section">5.1 Recipe Syntax</h2>
<a name="index-recipe-syntax"></a>
<a name="index-syntax-of-recipe"></a>

<p>Makefiles have the unusual property that there are really two distinct
syntaxes in one file.  Most of the makefile uses <code>make</code> syntax
(see section <a href="#Makefiles">Writing Makefiles</a>).  However, recipes are meant
to be interpreted by the shell and so they are written using shell
syntax.  The <code>make</code> program does not try to understand shell
syntax: it performs only a very few specific translations on the
content of the recipe before handing it to the shell.
</p>
<p>Each line in the recipe must start with a tab (or the first character
in the value of the <code>.RECIPEPREFIX</code> variable; see section <a href="#Special-Variables">Other Special Variables</a>), except that the first recipe line may be attached to the
target-and-prerequisites line with a semicolon in between.  <em>Any</em>
line in the makefile that begins with a tab and appears in a &ldquo;rule
context&rdquo; (that is, after a rule has been started until another rule
or variable definition) will be considered part of a recipe for that
rule.  Blank lines and lines of just comments may appear among the
recipe lines; they are ignored.
</p>
<p>Some consequences of these rules include:
</p>
<ul>
<li>
A blank line that begins with a tab is not blank: it&rsquo;s an empty
recipe (see section <a href="#Empty-Recipes">Using Empty Recipes</a>).

<a name="index-comments_002c-in-recipes"></a>
<a name="index-recipes_002c-comments-in"></a>
<a name="index-_0023-_0028comments_0029_002c-in-recipes"></a>
</li><li>
A comment in a recipe is not a <code>make</code> comment; it will be
passed to the shell as-is.  Whether the shell treats it as a comment
or not depends on your shell.

</li><li>
A variable definition in a &ldquo;rule context&rdquo; which is indented by a tab
as the first character on the line, will be considered part of a
recipe, not a <code>make</code> variable definition, and passed to the
shell.

</li><li>
A conditional expression (<code>ifdef</code>, <code>ifeq</code>,
etc. see section <a href="#Conditional-Syntax">Syntax of Conditionals</a>) in a &ldquo;rule
context&rdquo; which is indented by a tab as the first character on the
line, will be considered part of a recipe and be passed to the shell.

</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Breaking long recipe lines for readability.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables-in-Recipes">5.1.2 Using Variables in Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Using <code>make</code> variables in recipes.
</td></tr>
</table>

<hr size="6">
<a name="Splitting-Recipe-Lines"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Recipe-Syntax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Variables-in-Recipes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipe-Syntax" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Splitting-Recipe-Lines-1"></a>
<h3 class="subsection">5.1.1 Splitting Recipe Lines</h3>
<a name="index-recipes_002c-splitting"></a>
<a name="index-splitting-recipes"></a>
<a name="index-recipes_002c-backslash-_0028_005c_0029-in"></a>
<a name="index-recipes_002c-quoting-newlines-in"></a>
<a name="index-backslash-_0028_005c_0029_002c-in-recipes"></a>
<a name="index-_005c-_0028backslash_0029_002c-in-recipes"></a>
<a name="index-quoting-newline_002c-in-recipes"></a>
<a name="index-newline_002c-quoting_002c-in-recipes"></a>

<p>One of the few ways in which <code>make</code> does interpret recipes is
checking for a backslash just before the newline.  As in normal
makefile syntax, a single logical recipe line can be split into
multiple physical lines in the makefile by placing a backslash before
each newline.  A sequence of lines like this is considered a single
recipe line, and one instance of the shell will be invoked to run it.
</p>
<p>However, in contrast to how they are treated in other places in a
makefile (see section <a href="#Splitting-Lines">Splitting Long Lines</a>),
backslash/newline pairs are <em>not</em> removed from the recipe.  Both
the backslash and the newline characters are preserved and passed to
the shell.  How the backslash/newline is interpreted depends on your
shell.  If the first character of the next line after the
backslash/newline is the recipe prefix character (a tab by default;
see section <a href="#Special-Variables">Other Special Variables</a>), then that character (and only that
character) is removed.  Whitespace is never added to the recipe.
</p>
<p>For example, the recipe for the all target in this makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">all :
        @echo no\
space
        @echo no\
        space
        @echo one \
        space
        @echo one\
         space
</pre></td></tr></table>

<p>consists of four separate shell commands where the output is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">nospace
nospace
one space
one space
</pre></td></tr></table>

<p>As a more complex example, this makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">all : ; @echo 'hello \
        world' ; echo &quot;hello \
    world&quot;
</pre></td></tr></table>

<p>will invoke one shell with a command of:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">echo 'hello \
world' ; echo &quot;hello \
    world&quot;
</pre></td></tr></table>

<p>which, according to shell quoting rules, will yield the following output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">hello \
world
hello     world
</pre></td></tr></table>

<p>Notice how the backslash/newline pair was removed inside the string
quoted with double quotes (<code>&quot;&hellip;&quot;</code>), but not from the string
quoted with single quotes (<code>'&hellip;'</code>).  This is the way the
default shell (&lsquo;<tt>/bin/sh</tt>&rsquo;) handles backslash/newline pairs.  If
you specify a different shell in your makefiles it may treat them
differently.
</p>
<p>Sometimes you want to split a long line inside of single quotes, but
you don&rsquo;t want the backslash/newline to appear in the quoted content.
This is often the case when passing scripts to languages such as Perl,
where extraneous backslashes inside the script can change its meaning
or even be a syntax error.  One simple way of handling this is to
place the quoted string, or even the entire command, into a
<code>make</code> variable then use the variable in the recipe.  In this
situation the newline quoting rules for makefiles will be used, and
the backslash/newline will be removed.  If we rewrite our example
above using this method:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">HELLO = 'hello \
world'

all : ; @echo $(HELLO)
</pre></td></tr></table>

<p>we will get output like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">hello world
</pre></td></tr></table>

<p>If you like, you can also use target-specific variables
(see section <a href="#Target_002dspecific">Target-specific Variable Values</a>) to obtain
a tighter correspondence between the variable and the recipe that
uses it.
</p>
<hr size="6">
<a name="Variables-in-Recipes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Splitting-Recipe-Lines" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Echoing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipe-Syntax" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Variables-in-Recipes"></a>
<h3 class="subsection">5.1.2 Using Variables in Recipes</h3>
<a name="index-variable-references-in-recipes"></a>
<a name="index-recipes_002c-using-variables-in"></a>

<p>The other way in which <code>make</code> processes recipes is by expanding
any variable references in them (see section <a href="#Reference">Basics of Variable References</a>).  This occurs after make has finished reading all the
makefiles and the target is determined to be out of date; so, the
recipes for targets which are not rebuilt are never expanded.
</p>
<p>Variable and function references in recipes have identical syntax and
semantics to references elsewhere in the makefile.  They also have the
same quoting rules: if you want a dollar sign to appear in your
recipe, you must double it (&lsquo;<samp>$$</samp>&rsquo;).  For shells like the default
shell, that use dollar signs to introduce variables, it&rsquo;s important to
keep clear in your mind whether the variable you want to reference is
a <code>make</code> variable (use a single dollar sign) or a shell variable
(use two dollar signs).  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">LIST = one two three
all:
        for i in $(LIST); do \
            echo $$i; \
        done
</pre></td></tr></table>

<p>results in the following command being passed to the shell:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">for i in one two three; do \
    echo $i; \
done
</pre></td></tr></table>

<p>which generates the expected result:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">one
two
three
</pre></td></tr></table>

<hr size="6">
<a name="Echoing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Variables-in-Recipes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Execution" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Recipe-Echoing"></a>
<h2 class="section">5.2 Recipe Echoing</h2>
<a name="index-echoing-of-recipes"></a>
<a name="index-silent-operation"></a>
<a name="index-_0040-_0028in-recipes_0029"></a>
<a name="index-recipes_002c-echoing"></a>
<a name="index-printing-of-recipes"></a>

<p>Normally <code>make</code> prints each line of the recipe before it is
executed.  We call this <em>echoing</em> because it gives the appearance
that you are typing the lines yourself.
</p>
<p>When a line starts with &lsquo;<samp>@</samp>&rsquo;, the echoing of that line is suppressed.
The &lsquo;<samp>@</samp>&rsquo; is discarded before the line is passed to the shell.
Typically you would use this for a command whose only effect is to print
something, such as an <code>echo</code> command to indicate progress through
the makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">@echo About to make distribution files
</pre></td></tr></table>

<a name="index-_002dn"></a>
<a name="index-_002d_002djust_002dprint"></a>
<a name="index-_002d_002ddry_002drun"></a>
<a name="index-_002d_002drecon"></a>
<p>When <code>make</code> is given the flag &lsquo;<samp>-n</samp>&rsquo; or &lsquo;<samp>--just-print</samp>&rsquo; it
only echoes most recipes, without executing them.  See section <a href="#Options-Summary">Summary of Options</a>.  In this case even the recipe lines
starting with &lsquo;<samp>@</samp>&rsquo; are printed.  This flag is useful for finding
out which recipes <code>make</code> thinks are necessary without actually
doing them.
</p>
<a name="index-_002ds"></a>
<a name="index-_002d_002dsilent"></a>
<a name="index-_002d_002dquiet"></a>
<a name="index-_002eSILENT-1"></a>
<p>The &lsquo;<samp>-s</samp>&rsquo; or &lsquo;<samp>--silent</samp>&rsquo;
flag to <code>make</code> prevents all echoing, as if all recipes
started with &lsquo;<samp>@</samp>&rsquo;.  A rule in the makefile for the special target
<code>.SILENT</code> without prerequisites has the same effect
(see section <a href="#Special-Targets">Special Built-in Target Names</a>).
</p>
<hr size="6">
<a name="Execution"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Echoing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#One-Shell" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Recipe-Execution"></a>
<h2 class="section">5.3 Recipe Execution</h2>
<a name="index-recipe_002c-execution"></a>
<a name="index-execution_002c-of-recipes"></a>
<a name="index-SHELL-_0028recipe-execution_0029"></a>

<p>When it is time to execute recipes to update a target, they are
executed by invoking a new sub-shell for each line of the recipe,
unless the <code>.ONESHELL</code> special target is in effect
(see section <a href="#One-Shell">Using One Shell</a>)  (In practice, <code>make</code> may
take shortcuts that do not affect the results.)
</p>
<a name="index-cd-_0028shell-command_0029"></a>
<a name="index-shell-variables_002c-setting-in-recipes"></a>
<a name="index-recipes-setting-shell-variables"></a>
<p><strong>Please note:</strong> this implies that setting shell variables and
invoking shell commands such as <code>cd</code> that set a context local to
each process will not affect the following lines in the recipe.<a name="DOCF2" href="#FOOT2">(2)</a>  If you want to use <code>cd</code> to affect the next statement,
put both statements in a single recipe line.  Then <code>make</code> will
invoke one shell to run the entire line, and the shell will execute
the statements in sequence.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo : bar/lose
        cd $(&lt;D) &amp;&amp; gobble $(&lt;F) &gt; ../$@
</pre></td></tr></table>

<p>Here we use the shell AND operator (<code>&amp;&amp;</code>) so that if the
<code>cd</code> command fails, the script will fail without trying to invoke
the <code>gobble</code> command in the wrong directory, which could cause
problems (in this case it would certainly cause &lsquo;<tt>../foo</tt>&rsquo; to be
truncated, at least).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#One-Shell">5.3.1 Using One Shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   One shell for all lines in a recipe.
</td></tr>
<tr><td align="left" valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How <code>make</code> chooses the shell used
                                  to run recipes.
</td></tr>
</table>

<hr size="6">
<a name="One-Shell"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Execution" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Choosing-the-Shell" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Execution" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-One-Shell"></a>
<h3 class="subsection">5.3.1 Using One Shell</h3>
<a name="index-recipe-lines_002c-single-shell"></a>
<a name="index-_002eONESHELL_002c-use-of"></a>
<a name="index-_002eONESHELL-1"></a>

<p>Sometimes you would prefer that all the lines in the recipe be passed
to a single invocation of the shell.  There are generally two
situations where this is useful: first, it can improve performance in
makefiles where recipes consist of many command lines, by avoiding
extra processes.  Second, you might want newlines to be included in
your recipe command (for example perhaps you are using a very
different interpreter as your <code>SHELL</code>).  If the <code>.ONESHELL</code>
special target appears anywhere in the makefile then <em>all</em>
recipe lines for each target will be provided to a single invocation
of the shell.  Newlines between recipe lines will be preserved.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.ONESHELL:
foo : bar/lose
        cd $(@D)
        gobble $(@F) &gt; ../$@
</pre></td></tr></table>

<p>would now work as expected even though the commands are on different
recipe lines.
</p>
<p>If <code>.ONESHELL</code> is provided, then only the first line of the
recipe will be checked for the special prefix characters (&lsquo;<samp>@</samp>&rsquo;,
&lsquo;<samp>-</samp>&rsquo;, and &lsquo;<samp>+</samp>&rsquo;).  Subsequent lines will include the special
characters in the recipe line when the <code>SHELL</code> is invoked.  If
you want your recipe to start with one of these special characters
you&rsquo;ll need to arrange for them to not be the first characters on the
first line, perhaps by adding a comment or similar.  For example, this
would be a syntax error in Perl because the first &lsquo;<samp>@</samp>&rsquo; is removed
by make:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.ONESHELL:
SHELL = /usr/bin/perl
.SHELLFLAGS = -e
show :
        @f = qw(a b c);
        print &quot;@f\n&quot;;
</pre></td></tr></table>

<p>However, either of these alternatives would work properly:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.ONESHELL:
SHELL = /usr/bin/perl
.SHELLFLAGS = -e
show :
        # Make sure &quot;@&quot; is not the first character on the first line
        @f = qw(a b c);
        print &quot;@f\n&quot;;
</pre></td></tr></table>

<p>or
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.ONESHELL:
SHELL = /usr/bin/perl
.SHELLFLAGS = -e
show :
        my @f = qw(a b c);
        print &quot;@f\n&quot;;
</pre></td></tr></table>

<p>As a special feature, if <code>SHELL</code> is determined to be a
POSIX-style shell, the special prefix characters in &ldquo;internal&rdquo;
recipe lines will be <em>removed</em> before the recipe is processed.
This feature is intended to allow existing makefiles to add the
<code>.ONESHELL</code> special target and still run properly without
extensive modifications.  Since the special prefix characters are not
legal at the beginning of a line in a POSIX shell script this is not a
loss in functionality.  For example, this works as expected:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.ONESHELL:
foo : bar/lose
        @cd $(@D)
        @gobble $(@F) &gt; ../$@
</pre></td></tr></table>

<p>Even with this special feature, however, makefiles with
<code>.ONESHELL</code> will behave differently in ways that could be
noticeable.  For example, normally if any line in the recipe fails,
that causes the rule to fail and no more recipe lines are processed.
Under <code>.ONESHELL</code> a failure of any but the final recipe line will
not be noticed by <code>make</code>.  You can modify <code>.SHELLFLAGS</code> to
add the <code>-e</code> option to the shell which will cause any failure
anywhere in the command line to cause the shell to fail, but this
could itself cause your recipe to behave differently.  Ultimately you
may need to harden your recipe lines to allow them to work with
<code>.ONESHELL</code>.
</p>
<hr size="6">
<a name="Choosing-the-Shell"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#One-Shell" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallel" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Execution" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Choosing-the-Shell-1"></a>
<h3 class="subsection">5.3.2 Choosing the Shell</h3>
<a name="index-shell_002c-choosing-the"></a>
<a name="index-SHELL_002c-value-of"></a>
<a name="index-_002eSHELLFLAGS_002c-value-of"></a>

<a name="index-SHELL"></a>
<a name="index-_002eSHELLFLAGS"></a>
<p>The program used as the shell is taken from the variable <code>SHELL</code>.
If this variable is not set in your makefile, the program
&lsquo;<tt>/bin/sh</tt>&rsquo; is used as the shell.  The argument(s) passed to the
shell are taken from the variable <code>.SHELLFLAGS</code>.  The default
value of <code>.SHELLFLAGS</code> is <code>-c</code> normally, or <code>-ec</code> in
POSIX-conforming mode.
</p>
<a name="index-environment_002c-SHELL-in"></a>
<p>Unlike most variables, the variable <code>SHELL</code> is never set from the
environment.  This is because the <code>SHELL</code> environment variable is
used to specify your personal choice of shell program for interactive
use.  It would be very bad for personal choices like this to affect the
functioning of makefiles.  See section <a href="#Environment">Variables from the Environment</a>.
</p>
<p>Furthermore, when you do set <code>SHELL</code> in your makefile that value
is <em>not</em> exported in the environment to recipe lines that
<code>make</code> invokes.  Instead, the value inherited from the user&rsquo;s
environment, if any, is exported.  You can override this behavior by
explicitly exporting <code>SHELL</code> (see section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>), forcing it to be
passed in the environment to recipe lines.
</p>
<a name="index-MAKESHELL-_0028MS_002dDOS-alternative-to-SHELL_0029"></a>
<p>However, on MS-DOS and MS-Windows the value of <code>SHELL</code> in the
environment <strong>is</strong> used, since on those systems most users do not
set this variable, and therefore it is most likely set specifically to
be used by <code>make</code>.  On MS-DOS, if the setting of <code>SHELL</code> is
not suitable for <code>make</code>, you can set the variable
<code>MAKESHELL</code> to the shell that <code>make</code> should use; if set it
will be used as the shell instead of the value of <code>SHELL</code>.
</p>
<a name="Choosing-a-Shell-in-DOS-and-Windows"></a>
<h4 class="subsubheading">Choosing a Shell in DOS and Windows</h4>
<a name="index-shell_002c-in-DOS-and-Windows"></a>
<a name="index-DOS_002c-choosing-a-shell-in"></a>
<a name="index-Windows_002c-choosing-a-shell-in"></a>

<p>Choosing a shell in MS-DOS and MS-Windows is much more complex than on
other systems.
</p>
<a name="index-COMSPEC"></a>
<p>On MS-DOS, if <code>SHELL</code> is not set, the value of the variable
<code>COMSPEC</code> (which is always set) is used instead.
</p>
<a name="index-SHELL_002c-MS_002dDOS-specifics"></a>
<p>The processing of lines that set the variable <code>SHELL</code> in Makefiles
is different on MS-DOS.  The stock shell, &lsquo;<tt>command.com</tt>&rsquo;, is
ridiculously limited in its functionality and many users of <code>make</code>
tend to install a replacement shell.  Therefore, on MS-DOS, <code>make</code>
examines the value of <code>SHELL</code>, and changes its behavior based on
whether it points to a Unix-style or DOS-style shell.  This allows
reasonable functionality even if <code>SHELL</code> points to
&lsquo;<tt>command.com</tt>&rsquo;.
</p>
<p>If <code>SHELL</code> points to a Unix-style shell, <code>make</code> on MS-DOS
additionally checks whether that shell can indeed be found; if not, it
ignores the line that sets <code>SHELL</code>.  In MS-DOS, GNU <code>make</code>
searches for the shell in the following places:
</p>
<ol>
<li>
In the precise place pointed to by the value of <code>SHELL</code>.  For
example, if the makefile specifies &lsquo;<samp>SHELL = /bin/sh</samp>&rsquo;, <code>make</code>
will look in the directory &lsquo;<tt>/bin</tt>&rsquo; on the current drive.

</li><li>
In the current directory.

</li><li>
In each of the directories in the <code>PATH</code> variable, in order.

</li></ol>

<p>In every directory it examines, <code>make</code> will first look for the
specific file (&lsquo;<tt>sh</tt>&rsquo; in the example above).  If this is not found,
it will also look in that directory for that file with one of the known
extensions which identify executable files.  For example &lsquo;<tt>.exe</tt>&rsquo;,
&lsquo;<tt>.com</tt>&rsquo;, &lsquo;<tt>.bat</tt>&rsquo;, &lsquo;<tt>.btm</tt>&rsquo;, &lsquo;<tt>.sh</tt>&rsquo;, and some others.
</p>
<p>If any of these attempts is successful, the value of <code>SHELL</code> will
be set to the full pathname of the shell as found.  However, if none of
these is found, the value of <code>SHELL</code> will not be changed, and thus
the line that sets it will be effectively ignored.  This is so
<code>make</code> will only support features specific to a Unix-style shell if
such a shell is actually installed on the system where <code>make</code> runs.
</p>
<p>Note that this extended search for the shell is limited to the cases
where <code>SHELL</code> is set from the Makefile; if it is set in the
environment or command line, you are expected to set it to the full
pathname of the shell, exactly as things are on Unix.
</p>
<p>The effect of the above DOS-specific processing is that a Makefile that
contains &lsquo;<samp>SHELL = /bin/sh</samp>&rsquo; (as many Unix makefiles do), will work
on MS-DOS unaltered if you have e.g. &lsquo;<tt>sh.exe</tt>&rsquo; installed in some
directory along your <code>PATH</code>.
</p>
<a name="index-SHELL-1"></a>
<a name="index-_002eSHELLFLAGS-1"></a>

<hr size="6">
<a name="Parallel"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Choosing-the-Shell" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallel-Output" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Parallel-Execution"></a>
<h2 class="section">5.4 Parallel Execution</h2>
<a name="index-recipes_002c-execution-in-parallel"></a>
<a name="index-parallel-execution"></a>
<a name="index-execution_002c-in-parallel"></a>
<a name="index-job-slots"></a>
<a name="index-_002dj"></a>
<a name="index-_002d_002djobs"></a>

<p>GNU <code>make</code> knows how to execute several recipes at once.
Normally, <code>make</code> will execute only one recipe at a time, waiting
for it to finish before executing the next.  However, the &lsquo;<samp>-j</samp>&rsquo; or
&lsquo;<samp>--jobs</samp>&rsquo; option tells <code>make</code> to execute many recipes
simultaneously.  You can inhibit parallelism in a particular makefile
with the <code>.NOTPARALLEL</code> pseudo-target (see section <a href="#Special-Targets">Special Built-in Target Names</a>).
</p>
<p>On MS-DOS, the &lsquo;<samp>-j</samp>&rsquo; option has no effect, since that system doesn&rsquo;t
support multi-processing.
</p>
<p>If the &lsquo;<samp>-j</samp>&rsquo; option is followed by an integer, this is the number of
recipes to execute at once; this is called the number of <em>job slots</em>.
If there is nothing looking like an integer after the &lsquo;<samp>-j</samp>&rsquo; option,
there is no limit on the number of job slots.  The default number of job
slots is one, which means serial execution (one thing at a time).
</p>
<p>Handling recursive <code>make</code> invocations raises issues for parallel
execution.  For more information on this, see <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>.
</p>
<p>If a recipe fails (is killed by a signal or exits with a nonzero
status), and errors are not ignored for that recipe (see section <a href="#Errors">Errors in Recipes</a>), the remaining recipe lines to remake the same
target will not be run.  If a recipe fails and the &lsquo;<samp>-k</samp>&rsquo; or
&lsquo;<samp>--keep-going</samp>&rsquo; option was not given (see section <a href="#Options-Summary">Summary of Options</a>), <code>make</code> aborts execution.  If make
terminates for any reason (including a signal) with child processes
running, it waits for them to finish before actually exiting.
</p>
<a name="index-load-average"></a>
<a name="index-limiting-jobs-based-on-load"></a>
<a name="index-jobs_002c-limiting-based-on-load"></a>
<a name="index-_002dl-_0028load-average_0029"></a>
<a name="index-_002d_002dmax_002dload"></a>
<a name="index-_002d_002dload_002daverage"></a>
<p>When the system is heavily loaded, you will probably want to run fewer jobs
than when it is lightly loaded.  You can use the &lsquo;<samp>-l</samp>&rsquo; option to tell
<code>make</code> to limit the number of jobs to run at once, based on the load
average.  The &lsquo;<samp>-l</samp>&rsquo; or &lsquo;<samp>--max-load</samp>&rsquo;
option is followed by a floating-point number.  For
example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">-l 2.5
</pre></td></tr></table>

<p>will not let <code>make</code> start more than one job if the load average is
above 2.5.  The &lsquo;<samp>-l</samp>&rsquo; option with no following number removes the
load limit, if one was given with a previous &lsquo;<samp>-l</samp>&rsquo; option.
</p>
<p>More precisely, when <code>make</code> goes to start up a job, and it already has
at least one job running, it checks the current load average; if it is not
lower than the limit given with &lsquo;<samp>-l</samp>&rsquo;, <code>make</code> waits until the load
average goes below that limit, or until all the other jobs finish.
</p>
<p>By default, there is no load limit.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Handling output during parallel execution
</td></tr>
<tr><td align="left" valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Handling input during parallel execution
</td></tr>
</table>

<hr size="6">
<a name="Parallel-Output"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Parallel" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallel-Input" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallel" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Output-During-Parallel-Execution"></a>
<h3 class="subsection">5.4.1 Output During Parallel Execution</h3>
<a name="index-output-during-parallel-execution"></a>
<a name="index-parallel-execution_002c-output-during"></a>

<p>When running several recipes in parallel the output from each
recipe appears as soon as it is generated, with the result that
messages from different recipes may be interspersed, sometimes even
appearing on the same line.  This can make reading the output very
difficult.
</p>
<a name="index-_002d_002doutput_002dsync"></a>
<a name="index-_002dO"></a>
<p>To avoid this you can use the &lsquo;<samp>--output-sync</samp>&rsquo; (&lsquo;<samp>-O</samp>&rsquo;) option.
This option instructs <code>make</code> to save the output from the commands
it invokes and print it all once the commands are completed.
Additionally, if there are multiple recursive <code>make</code> invocations
running in parallel, they will communicate so that only one of them is
generating output at a time.
</p>
<p>If working directory printing is enabled (see section <a href="#g_t_002dw-Option">The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a>), the enter/leave messages are
printed around each output grouping.  If you prefer not to see these
messages add the &lsquo;<samp>--no-print-directory</samp>&rsquo; option to <code>MAKEFLAGS</code>.
</p>
<p>There are four levels of granularity when synchronizing output,
specified by giving an argument to the option (e.g.,  &lsquo;<samp>-Oline</samp>&rsquo; or
&lsquo;<samp>--output-sync=recurse</samp>&rsquo;).
</p>
<dl compact="compact">
<dt> <code>none</code></dt>
<dd><p>This is the default: all output is sent directly as it is generated and
no synchronization is performed.
</p>
</dd>
<dt> <code>line</code></dt>
<dd><p>Output from each individual line of the recipe is grouped and printed
as soon as that line is complete.  If a recipe consists of multiple
lines, they may be interspersed with lines from other recipes.
</p>
</dd>
<dt> <code>target</code></dt>
<dd><p>Output from the entire recipe for each target is grouped and printed
once the target is complete.  This is the default if the
<code>--output-sync</code> or <code>-O</code> option is given with no argument.
</p>
</dd>
<dt> <code>recurse</code></dt>
<dd><p>Output from each recursive invocation of <code>make</code> is grouped and
printed once the recursive invocation is complete.
</p>
</dd>
</dl>

<p>Regardless of the mode chosen, the total build time will be the same.
The only difference is in how the output appears.
</p>
<p>The &lsquo;<samp>target</samp>&rsquo; and &lsquo;<samp>recurse</samp>&rsquo; modes both collect the output of
the entire recipe of a target and display it uninterrupted when the
recipe completes.  The difference between them is in how recipes that
contain recursive invocations of <code>make</code> are treated
(see section <a href="#Recursion">Recursive Use of <code>make</code></a>).  For all recipes
which have no recursive lines, the &lsquo;<samp>target</samp>&rsquo; and &lsquo;<samp>recurse</samp>&rsquo;
modes behave identically.
</p>
<p>If the &lsquo;<samp>recurse</samp>&rsquo; mode is chosen, recipes that contain recursive
<code>make</code> invocations are treated the same as other targets: the
output from the recipe, including the output from the recursive
<code>make</code>, is saved and printed after the entire recipe is complete.
This ensures output from all the targets built by a given recursive
<code>make</code> instance are grouped together, which may make the output
easier to understand.  However it also leads to long periods of time
during the build where no output is seen, followed by large bursts of
output.  If you are not watching the build as it proceeds, but instead
viewing a log of the build after the fact, this may be the best option
for you.
</p>
<p>If you are watching the output, the long gaps of quiet during the
build can be frustrating.  The &lsquo;<samp>target</samp>&rsquo; output synchronization
mode detects when <code>make</code> is going to be invoked recursively,
using the standard methods, and it will not synchronize the output of
those lines.  The recursive <code>make</code> will perform the
synchronization for its targets and the output from each will be
displayed immediately when it completes.  Be aware that output from
recursive lines of the recipe are not synchronized (for example if
the recursive line prints a message before running <code>make</code>, that
message will not be synchronized).
</p>
<p>The &lsquo;<samp>line</samp>&rsquo; mode can be useful for front-ends that are watching
the output of <code>make</code> to track when recipes are started and
completed.
</p>
<p>Some programs invoked by <code>make</code> may behave differently if they
determine they&rsquo;re writing output to a terminal versus a file (often
described as &ldquo;interactive&rdquo; vs. &ldquo;non-interactive&rdquo; modes).  For
example, many programs that can display colorized output will not do
so if they determine they are not writing to a terminal.  If your
makefile invokes a program like this then using the output
synchronization options will cause the program to believe it&rsquo;s running
in &ldquo;non-interactive&rdquo; mode even though the output will ultimately go
to the terminal.
</p>
<hr size="6">
<a name="Parallel-Input"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Parallel-Output" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Errors" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Parallel" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Input-During-Parallel-Execution"></a>
<h3 class="subsection">5.4.2 Input During Parallel Execution</h3>
<a name="index-input-during-parallel-execution"></a>
<a name="index-parallel-execution_002c-input-during"></a>
<a name="index-standard-input"></a>

<p>Two processes cannot both take input from the same device at the same
time.  To make sure that only one recipe tries to take input from the
terminal at once, <code>make</code> will invalidate the standard input
streams of all but one running recipe.  If another recipe attempts to
read from standard input it will usually incur a fatal error (a
&lsquo;<samp>Broken pipe</samp>&rsquo; signal).
<a name="index-broken-pipe"></a>
</p>
<p>It is unpredictable which recipe will have a valid standard input stream
(which will come from the terminal, or wherever you redirect the standard
input of <code>make</code>).  The first recipe run will always get it first, and
the first recipe started after that one finishes will get it next, and so
on.
</p>
<p>We will change how this aspect of <code>make</code> works if we find a better
alternative.  In the mean time, you should not rely on any recipe using
standard input at all if you are using the parallel execution feature; but
if you are not using this feature, then standard input works normally in
all recipes.
</p>
<hr size="6">
<a name="Errors"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Parallel-Input" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Interrupts" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Errors-in-Recipes"></a>
<h2 class="section">5.5 Errors in Recipes</h2>
<a name="index-errors-_0028in-recipes_0029"></a>
<a name="index-recipes_002c-errors-in"></a>
<a name="index-exit-status-_0028errors_0029"></a>

<p>After each shell invocation returns, <code>make</code> looks at its exit
status.  If the shell completed successfully (the exit status is
zero), the next line in the recipe is executed in a new shell; after
the last line is finished, the rule is finished.
</p>
<p>If there is an error (the exit status is nonzero), <code>make</code> gives up on
the current rule, and perhaps on all rules.
</p>
<p>Sometimes the failure of a certain recipe line does not indicate a problem.
For example, you may use the <code>mkdir</code> command to ensure that a
directory exists.  If the directory already exists, <code>mkdir</code> will
report an error, but you probably want <code>make</code> to continue regardless.
</p>
<a name="index-_002d-_0028in-recipes_0029"></a>
<p>To ignore errors in a recipe line, write a &lsquo;<samp>-</samp>&rsquo; at the beginning
of the line&rsquo;s text (after the initial tab).  The &lsquo;<samp>-</samp>&rsquo; is discarded
before the line is passed to the shell for execution.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">clean:
        -rm -f *.o
</pre></td></tr></table>
<a name="index-rm-_0028shell-command_0029-3"></a>

<p>This causes <code>make</code> to continue even if <code>rm</code> is unable to
remove a file.
</p>
<a name="index-_002di"></a>
<a name="index-_002d_002dignore_002derrors"></a>
<a name="index-_002eIGNORE-1"></a>
<p>When you run <code>make</code> with the &lsquo;<samp>-i</samp>&rsquo; or &lsquo;<samp>--ignore-errors</samp>&rsquo;
flag, errors are ignored in all recipes of all rules.  A rule in the
makefile for the special target <code>.IGNORE</code> has the same effect, if
there are no prerequisites.  This is less flexible but sometimes useful.
</p>
<p>When errors are to be ignored, because of either a &lsquo;<samp>-</samp>&rsquo; or the
&lsquo;<samp>-i</samp>&rsquo; flag, <code>make</code> treats an error return just like success,
except that it prints out a message that tells you the status code
the shell exited with, and says that the error has been ignored.
</p>
<p>When an error happens that <code>make</code> has not been told to ignore,
it implies that the current target cannot be correctly remade, and neither
can any other that depends on it either directly or indirectly.  No further
recipes will be executed for these targets, since their preconditions
have not been achieved.
</p>

<a name="index-_002dk"></a>
<a name="index-_002d_002dkeep_002dgoing"></a>
<p>Normally <code>make</code> gives up immediately in this circumstance, returning a
nonzero status.  However, if the &lsquo;<samp>-k</samp>&rsquo; or &lsquo;<samp>--keep-going</samp>&rsquo;
flag is specified, <code>make</code>
continues to consider the other prerequisites of the pending targets,
remaking them if necessary, before it gives up and returns nonzero status.
For example, after an error in compiling one object file, &lsquo;<samp>make -k</samp>&rsquo;
will continue compiling other object files even though it already knows
that linking them will be impossible.  See section <a href="#Options-Summary">Summary of Options</a>.
</p>
<p>The usual behavior assumes that your purpose is to get the specified
targets up to date; once <code>make</code> learns that this is impossible, it
might as well report the failure immediately.  The &lsquo;<samp>-k</samp>&rsquo; option says
that the real purpose is to test as many of the changes made in the
program as possible, perhaps to find several independent problems so
that you can correct them all before the next attempt to compile.  This
is why Emacs&rsquo; <code>compile</code> command passes the &lsquo;<samp>-k</samp>&rsquo; flag by
default.
<a name="index-Emacs-_0028M_002dx-compile_0029"></a>
</p>
<a name="index-_002eDELETE_005fON_005fERROR-1"></a>
<a name="index-deletion-of-target-files"></a>
<a name="index-removal-of-target-files"></a>
<a name="index-target_002c-deleting-on-error"></a>
<p>Usually when a recipe line fails, if it has changed the target file at all,
the file is corrupted and cannot be used&mdash;or at least it is not
completely updated.  Yet the file&rsquo;s time stamp says that it is now up to
date, so the next time <code>make</code> runs, it will not try to update that
file.  The situation is just the same as when the shell is killed by a
signal; see section <a href="#Interrupts">Interrupting or Killing <code>make</code></a>.  So generally the right thing to do is to
delete the target file if the recipe fails after beginning to change
the file.  <code>make</code> will do this if <code>.DELETE_ON_ERROR</code> appears
as a target.  This is almost always what you want <code>make</code> to do, but
it is not historical practice; so for compatibility, you must explicitly
request it.
</p>
<hr size="6">
<a name="Interrupts"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Errors" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recursion" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interrupting-or-Killing-make"></a>
<h2 class="section">5.6 Interrupting or Killing <code>make</code></h2>
<a name="index-interrupt"></a>
<a name="index-signal"></a>
<a name="index-deletion-of-target-files-1"></a>
<a name="index-removal-of-target-files-1"></a>
<a name="index-target_002c-deleting-on-interrupt"></a>
<a name="index-killing-_0028interruption_0029"></a>

<p>If <code>make</code> gets a fatal signal while a shell is executing, it may
delete the target file that the recipe was supposed to update.  This is
done if the target file&rsquo;s last-modification time has changed since
<code>make</code> first checked it.
</p>
<p>The purpose of deleting the target is to make sure that it is remade from
scratch when <code>make</code> is next run.  Why is this?  Suppose you type
<kbd>Ctrl-c</kbd> while a compiler is running, and it has begun to write an
object file &lsquo;<tt>foo.o</tt>&rsquo;.  The <kbd>Ctrl-c</kbd> kills the compiler, resulting
in an incomplete file whose last-modification time is newer than the source
file &lsquo;<tt>foo.c</tt>&rsquo;.  But <code>make</code> also receives the <kbd>Ctrl-c</kbd> signal
and deletes this incomplete file.  If <code>make</code> did not do this, the next
invocation of <code>make</code> would think that &lsquo;<tt>foo.o</tt>&rsquo; did not require
updating&mdash;resulting in a strange error message from the linker when it
tries to link an object file half of which is missing.
</p>
<a name="index-_002ePRECIOUS-1"></a>
<p>You can prevent the deletion of a target file in this way by making the
special target <code>.PRECIOUS</code> depend on it.  Before remaking a target,
<code>make</code> checks to see whether it appears on the prerequisites of
<code>.PRECIOUS</code>, and thereby decides whether the target should be deleted
if a signal happens.  Some reasons why you might do this are that the
target is updated in some atomic fashion, or exists only to record a
modification-time (its contents do not matter), or must exist at all
times to prevent other sorts of trouble.
</p>
<hr size="6">
<a name="Recursion"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Interrupts" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#MAKE-Variable" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Recursive-Use-of-make"></a>
<h2 class="section">5.7 Recursive Use of <code>make</code></h2>
<a name="index-recursion"></a>
<a name="index-subdirectories_002c-recursion-for"></a>

<p>Recursive use of <code>make</code> means using <code>make</code> as a command in a
makefile.  This technique is useful when you want separate makefiles for
various subsystems that compose a larger system.  For example, suppose you
have a sub-directory &lsquo;<tt>subdir</tt>&rsquo; which has its own makefile, and you would
like the containing directory&rsquo;s makefile to run <code>make</code> on the
sub-directory.  You can do it by writing this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">subsystem:
        cd subdir &amp;&amp; $(MAKE)
</pre></td></tr></table>

<p>or, equivalently, this (see section <a href="#Options-Summary">Summary of Options</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">subsystem:
        $(MAKE) -C subdir
</pre></td></tr></table>
<a name="index-_002dC"></a>
<a name="index-_002d_002ddirectory"></a>

<p>You can write recursive <code>make</code> commands just by copying this example,
but there are many things to know about how they work and why, and about
how the sub-<code>make</code> relates to the top-level <code>make</code>.  You may
also find it useful to declare targets that invoke recursive
<code>make</code> commands as &lsquo;<samp>.PHONY</samp>&rsquo; (for more discussion on when
this is useful, see <a href="#Phony-Targets">Phony Targets</a>).
</p>
<a name="index-CURDIR"></a>
<p>For your convenience, when GNU <code>make</code> starts (after it has
processed any <code>-C</code> options) it sets the variable <code>CURDIR</code> to
the pathname of the current working directory.  This value is never
touched by <code>make</code> again: in particular note that if you include
files from other directories the value of <code>CURDIR</code> does not
change.  The value has the same precedence it would have if it were
set in the makefile (by default, an environment variable <code>CURDIR</code>
will not override this value).  Note that setting this variable has no
impact on the operation of <code>make</code> (it does not cause <code>make</code>
to change its working directory, for example).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               The special effects of using &lsquo;<samp>$(MAKE)</samp>&rsquo;.
</td></tr>
<tr><td align="left" valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to communicate variables to a sub-<code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           How to communicate options to a sub-<code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How the &lsquo;<samp>-w</samp>&rsquo; or &lsquo;<samp>--print-directory</samp>&rsquo; option
                                  helps debug use of recursive <code>make</code> commands.
</td></tr>
</table>

<hr size="6">
<a name="MAKE-Variable"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Recursion" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Variables_002fRecursion" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recursion" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-the-MAKE-Variable-Works"></a>
<h3 class="subsection">5.7.1 How the <code>MAKE</code> Variable Works</h3>
<a name="index-MAKE"></a>
<a name="index-recursion_002c-and-MAKE-variable"></a>

<p>Recursive <code>make</code> commands should always use the variable <code>MAKE</code>,
not the explicit command name &lsquo;<samp>make</samp>&rsquo;, as shown here:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">subsystem:
        cd subdir &amp;&amp; $(MAKE)
</pre></td></tr></table>

<p>The value of this variable is the file name with which <code>make</code> was
invoked.  If this file name was &lsquo;<tt>/bin/make</tt>&rsquo;, then the recipe executed
is &lsquo;<samp>cd subdir &amp;&amp; /bin/make</samp>&rsquo;.  If you use a special version of
<code>make</code> to run the top-level makefile, the same special version will be
executed for recursive invocations.
<a name="index-cd-_0028shell-command_0029-1"></a>
</p>
<a name="index-_002b_002c-and-recipes"></a>
<p>As a special feature, using the variable <code>MAKE</code> in the recipe of
a rule alters the effects of the &lsquo;<samp>-t</samp>&rsquo; (&lsquo;<samp>--touch</samp>&rsquo;), &lsquo;<samp>-n</samp>&rsquo;
(&lsquo;<samp>--just-print</samp>&rsquo;), or &lsquo;<samp>-q</samp>&rsquo; (&lsquo;<samp>--question</samp>&rsquo;) option.
Using the <code>MAKE</code> variable has the same effect as using a &lsquo;<samp>+</samp>&rsquo;
character at the beginning of the recipe line.  See section <a href="#Instead-of-Execution">Instead of Executing the Recipes</a>.  This special feature
is only enabled if the <code>MAKE</code> variable appears directly in the
recipe: it does not apply if the <code>MAKE</code> variable is referenced
through expansion of another variable.  In the latter case you must
use the &lsquo;<samp>+</samp>&rsquo; token to get these special effects.
</p>
<p>Consider the command &lsquo;<samp>make -t</samp>&rsquo; in the above example.  (The
&lsquo;<samp>-t</samp>&rsquo; option marks targets as up to date without actually running
any recipes; see <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.)  Following the usual
definition of &lsquo;<samp>-t</samp>&rsquo;, a &lsquo;<samp>make -t</samp>&rsquo; command in the example would
create a file named &lsquo;<tt>subsystem</tt>&rsquo; and do nothing else.  What you
really want it to do is run &lsquo;<samp>cd subdir &amp;&amp; make -t</samp>&rsquo;; but
that would require executing the recipe, and &lsquo;<samp>-t</samp>&rsquo; says not to
execute recipes.
<a name="index-_002dt_002c-and-recursion"></a>
<a name="index-recursion_002c-and-_002dt"></a>
<a name="index-_002d_002dtouch_002c-and-recursion"></a>
</p>
<p>The special feature makes this do what you want: whenever a recipe
line of a rule contains the variable <code>MAKE</code>, the flags &lsquo;<samp>-t</samp>&rsquo;,
&lsquo;<samp>-n</samp>&rsquo; and &lsquo;<samp>-q</samp>&rsquo; do not apply to that line.  Recipe lines
containing <code>MAKE</code> are executed normally despite the presence of a
flag that causes most recipes not to be run.  The usual
<code>MAKEFLAGS</code> mechanism passes the flags to the sub-<code>make</code>
(see section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>), so your request to touch the files, or print the
recipes, is propagated to the subsystem.
</p>
<hr size="6">
<a name="Variables_002fRecursion"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#MAKE-Variable" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Options_002fRecursion" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recursion" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Communicating-Variables-to-a-Sub_002dmake"></a>
<h3 class="subsection">5.7.2 Communicating Variables to a Sub-<code>make</code></h3>
<a name="index-sub_002dmake"></a>
<a name="index-environment_002c-and-recursion"></a>
<a name="index-exporting-variables"></a>
<a name="index-variables_002c-environment"></a>
<a name="index-variables_002c-exporting"></a>
<a name="index-recursion_002c-and-environment"></a>
<a name="index-recursion_002c-and-variables"></a>

<p>Variable values of the top-level <code>make</code> can be passed to the
sub-<code>make</code> through the environment by explicit request.  These
variables are defined in the sub-<code>make</code> as defaults, but they do
not override variables defined in the makefile used by
the sub-<code>make</code> unless you use the &lsquo;<samp>-e</samp>&rsquo; switch (see section <a href="#Options-Summary">Summary of Options</a>).
</p>
<p>To pass down, or <em>export</em>, a variable, <code>make</code> adds the
variable and its value to the environment for running each line of the
recipe.  The sub-<code>make</code>, in turn, uses the environment to
initialize its table of variable values.  See section <a href="#Environment">Variables from the Environment</a>.
</p>
<p>Except by explicit request, <code>make</code> exports a variable only if it
is either defined in the environment initially or set on the command
line, and if its name consists only of letters, numbers, and underscores.
Some shells cannot cope with environment variable names consisting of
characters other than letters, numbers, and underscores.
</p>
<a name="index-SHELL_002c-exported-value"></a>
<p>The value of the <code>make</code> variable <code>SHELL</code> is not exported.
Instead, the value of the <code>SHELL</code> variable from the invoking
environment is passed to the sub-<code>make</code>.  You can force
<code>make</code> to export its value for <code>SHELL</code> by using the
<code>export</code> directive, described below.  See section <a href="#Choosing-the-Shell">Choosing the Shell</a>.
</p>
<p>The special variable <code>MAKEFLAGS</code> is always exported (unless you
unexport it).  <code>MAKEFILES</code> is exported if you set it to anything.
</p>
<p><code>make</code> automatically passes down variable values that were defined
on the command line, by putting them in the <code>MAKEFLAGS</code> variable.
See section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>.
</p>
<p>Variables are <em>not</em> normally passed down if they were created by
default by <code>make</code> (see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>).  The sub-<code>make</code> will define these for
itself.
</p>
<a name="index-export"></a>
<p>If you want to export specific variables to a sub-<code>make</code>, use the
<code>export</code> directive, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">export <var>variable</var> &hellip;
</pre></td></tr></table>

<a name="index-unexport"></a>
<p>If you want to <em>prevent</em> a variable from being exported, use the
<code>unexport</code> directive, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">unexport <var>variable</var> &hellip;
</pre></td></tr></table>

<p>In both of these forms, the arguments to <code>export</code> and
<code>unexport</code> are expanded, and so could be variables or functions
which expand to a (list of) variable names to be (un)exported.
</p>
<p>As a convenience, you can define a variable and export it at the same
time by doing:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">export <var>variable</var> = value
</pre></td></tr></table>

<p>has the same result as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>variable</var> = value
export <var>variable</var>
</pre></td></tr></table>

<p>and
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">export <var>variable</var> := value
</pre></td></tr></table>

<p>has the same result as:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>variable</var> := value
export <var>variable</var>
</pre></td></tr></table>

<p>Likewise,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">export <var>variable</var> += value
</pre></td></tr></table>

<p>is just like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>variable</var> += value
export <var>variable</var>
</pre></td></tr></table>

<p>See section <a href="#Appending">Appending More Text to Variables</a>.
</p>
<p>You may notice that the <code>export</code> and <code>unexport</code> directives
work in <code>make</code> in the same way they work in the shell, <code>sh</code>.
</p>
<p>If you want all variables to be exported by default, you can use
<code>export</code> by itself:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">export
</pre></td></tr></table>

<p>This tells <code>make</code> that variables which are not explicitly mentioned
in an <code>export</code> or <code>unexport</code> directive should be exported.
Any variable given in an <code>unexport</code> directive will still <em>not</em>
be exported.  If you use <code>export</code> by itself to export variables by
default, variables whose names contain characters other than
alphanumerics and underscores will not be exported unless specifically
mentioned in an <code>export</code> directive.
</p>
<a name="index-_002eEXPORT_005fALL_005fVARIABLES-1"></a>
<p>The behavior elicited by an <code>export</code> directive by itself was the
default in older versions of GNU <code>make</code>.  If your makefiles depend
on this behavior and you want to be compatible with old versions of
<code>make</code>, you can write a rule for the special target
<code>.EXPORT_ALL_VARIABLES</code> instead of using the <code>export</code> directive.
This will be ignored by old <code>make</code>s, while the <code>export</code>
directive will cause a syntax error.
<a name="index-compatibility-in-exporting"></a>
</p>
<p>Likewise, you can use <code>unexport</code> by itself to tell <code>make</code>
<em>not</em> to export variables by default.  Since this is the default
behavior, you would only need to do this if <code>export</code> had been used
by itself earlier (in an included makefile, perhaps).  You
<strong>cannot</strong> use <code>export</code> and <code>unexport</code> by themselves to
have variables exported for some recipes and not for others.  The last
<code>export</code> or <code>unexport</code> directive that appears by itself
determines the behavior for the entire run of <code>make</code>.
</p>
<a name="index-MAKELEVEL"></a>
<a name="index-recursion_002c-level-of"></a>
<p>As a special feature, the variable <code>MAKELEVEL</code> is changed when it
is passed down from level to level.  This variable&rsquo;s value is a string
which is the depth of the level as a decimal number.  The value is
&lsquo;<samp>0</samp>&rsquo; for the top-level <code>make</code>; &lsquo;<samp>1</samp>&rsquo; for a sub-<code>make</code>,
&lsquo;<samp>2</samp>&rsquo; for a sub-sub-<code>make</code>, and so on.  The incrementation
happens when <code>make</code> sets up the environment for a recipe.
</p>
<p>The main use of <code>MAKELEVEL</code> is to test it in a conditional
directive (see section <a href="#Conditionals">Conditional Parts of Makefiles</a>); this
way you can write a makefile that behaves one way if run recursively and
another way if run directly by you.
</p>
<a name="index-MAKEFILES-1"></a>
<p>You can use the variable <code>MAKEFILES</code> to cause all sub-<code>make</code>
commands to use additional makefiles.  The value of <code>MAKEFILES</code> is
a whitespace-separated list of file names.  This variable, if defined in
the outer-level makefile, is passed down through the environment; then
it serves as a list of extra makefiles for the sub-<code>make</code> to read
before the usual or specified ones.  See section <a href="#MAKEFILES-Variable">The Variable <code>MAKEFILES</code></a>.
</p>
<hr size="6">
<a name="Options_002fRecursion"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Variables_002fRecursion" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#g_t_002dw-Option" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recursion" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Communicating-Options-to-a-Sub_002dmake"></a>
<h3 class="subsection">5.7.3 Communicating Options to a Sub-<code>make</code></h3>
<a name="index-options_002c-and-recursion"></a>
<a name="index-recursion_002c-and-options"></a>

<a name="index-MAKEFLAGS"></a>
<p>Flags such as &lsquo;<samp>-s</samp>&rsquo; and &lsquo;<samp>-k</samp>&rsquo; are passed automatically to the
sub-<code>make</code> through the variable <code>MAKEFLAGS</code>.  This variable is
set up automatically by <code>make</code> to contain the flag letters that
<code>make</code> received.  Thus, if you do &lsquo;<samp>make -ks</samp>&rsquo; then
<code>MAKEFLAGS</code> gets the value &lsquo;<samp>ks</samp>&rsquo;.
</p>
<p>As a consequence, every sub-<code>make</code> gets a value for <code>MAKEFLAGS</code>
in its environment.  In response, it takes the flags from that value and
processes them as if they had been given as arguments.
See section <a href="#Options-Summary">Summary of Options</a>.
</p>
<a name="index-command-line-variable-definitions_002c-and-recursion"></a>
<a name="index-variables_002c-command-line_002c-and-recursion"></a>
<a name="index-recursion_002c-and-command-line-variable-definitions"></a>
<p>Likewise variables defined on the command line are passed to the
sub-<code>make</code> through <code>MAKEFLAGS</code>.  Words in the value of
<code>MAKEFLAGS</code> that contain &lsquo;<samp>=</samp>&rsquo;, <code>make</code> treats as variable
definitions just as if they appeared on the command line.
See section <a href="#Overriding">Overriding Variables</a>.
</p>
<a name="index-_002dC_002c-and-recursion"></a>
<a name="index-_002df_002c-and-recursion"></a>
<a name="index-_002do_002c-and-recursion"></a>
<a name="index-_002dW_002c-and-recursion"></a>
<a name="index-_002d_002ddirectory_002c-and-recursion"></a>
<a name="index-_002d_002dfile_002c-and-recursion"></a>
<a name="index-_002d_002dold_002dfile_002c-and-recursion"></a>
<a name="index-_002d_002dassume_002dold_002c-and-recursion"></a>
<a name="index-_002d_002dassume_002dnew_002c-and-recursion"></a>
<a name="index-_002d_002dnew_002dfile_002c-and-recursion"></a>
<a name="index-recursion_002c-and-_002dC"></a>
<a name="index-recursion_002c-and-_002df"></a>
<a name="index-recursion_002c-and-_002do"></a>
<a name="index-recursion_002c-and-_002dW"></a>
<p>The options &lsquo;<samp>-C</samp>&rsquo;, &lsquo;<samp>-f</samp>&rsquo;, &lsquo;<samp>-o</samp>&rsquo;, and &lsquo;<samp>-W</samp>&rsquo; are not put
into <code>MAKEFLAGS</code>; these options are not passed down.
</p>
<a name="index-_002dj_002c-and-recursion"></a>
<a name="index-_002d_002djobs_002c-and-recursion"></a>
<a name="index-recursion_002c-and-_002dj"></a>
<a name="index-job-slots_002c-and-recursion"></a>
<p>The &lsquo;<samp>-j</samp>&rsquo; option is a special case (see section <a href="#Parallel">Parallel Execution</a>).
If you set it to some numeric value &lsquo;<samp>N</samp>&rsquo; and your operating system
supports it (most any UNIX system will; others typically won&rsquo;t), the
parent <code>make</code> and all the sub-<code>make</code>s will communicate to
ensure that there are only &lsquo;<samp>N</samp>&rsquo; jobs running at the same time
between them all.  Note that any job that is marked recursive
(see section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>)
doesn&rsquo;t count against the total jobs (otherwise we could get &lsquo;<samp>N</samp>&rsquo;
sub-<code>make</code>s running and have no slots left over for any real work!)
</p>
<p>If your operating system doesn&rsquo;t support the above communication, then
no &lsquo;<samp>-j</samp>&rsquo; is added to <code>MAKEFLAGS</code>, so that sub-<code>make</code>s
run in non-parallel mode.  If the &lsquo;<samp>-j</samp>&rsquo; option were passed down
to sub-<code>make</code>s you would get many more jobs running in parallel
than you asked for.  If you give &lsquo;<samp>-j</samp>&rsquo; with no numeric argument,
meaning to run as many jobs as possible in parallel, this is passed
down, since multiple infinities are no more than one.
</p>
<p>If you do not want to pass the other flags down, you must change the
value of <code>MAKEFLAGS</code>, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">subsystem:
        cd subdir &amp;&amp; $(MAKE) MAKEFLAGS=
</pre></td></tr></table>

<a name="index-MAKEOVERRIDES"></a>
<p>The command line variable definitions really appear in the variable
<code>MAKEOVERRIDES</code>, and <code>MAKEFLAGS</code> contains a reference to this
variable.  If you do want to pass flags down normally, but don&rsquo;t want to
pass down the command line variable definitions, you can reset
<code>MAKEOVERRIDES</code> to empty, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">MAKEOVERRIDES =
</pre></td></tr></table>

<a name="index-Arg-list-too-long"></a>
<a name="index-E2BIG"></a>
<p>This is not usually useful to do.  However, some systems have a small
fixed limit on the size of the environment, and putting so much
information into the value of <code>MAKEFLAGS</code> can exceed it.  If you
see the error message &lsquo;<samp>Arg list too long</samp>&rsquo;, this may be the problem.
<a name="index-_002ePOSIX-1"></a>
<a name="index-POSIX-1"></a>
(For strict compliance with POSIX.2, changing <code>MAKEOVERRIDES</code> does
not affect <code>MAKEFLAGS</code> if the special target &lsquo;<samp>.POSIX</samp>&rsquo; appears
in the makefile.  You probably do not care about this.)
</p>
<a name="index-MFLAGS"></a>
<p>A similar variable <code>MFLAGS</code> exists also, for historical
compatibility.  It has the same value as <code>MAKEFLAGS</code> except that it
does not contain the command line variable definitions, and it always
begins with a hyphen unless it is empty (<code>MAKEFLAGS</code> begins with a
hyphen only when it begins with an option that has no single-letter
version, such as &lsquo;<samp>--warn-undefined-variables</samp>&rsquo;).  <code>MFLAGS</code> was
traditionally used explicitly in the recursive <code>make</code> command, like
this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">subsystem:
        cd subdir &amp;&amp; $(MAKE) $(MFLAGS)
</pre></td></tr></table>

<p>but now <code>MAKEFLAGS</code> makes this usage redundant.  If you want your
makefiles to be compatible with old <code>make</code> programs, use this
technique; it will work fine with more modern <code>make</code> versions too.
</p>
<a name="index-setting-options-from-environment"></a>
<a name="index-options_002c-setting-from-environment"></a>
<a name="index-setting-options-in-makefiles"></a>
<a name="index-options_002c-setting-in-makefiles"></a>
<p>The <code>MAKEFLAGS</code> variable can also be useful if you want to have
certain options, such as &lsquo;<samp>-k</samp>&rsquo; (see section <a href="#Options-Summary">Summary of Options</a>), set each time you run <code>make</code>.  You simply put a value for
<code>MAKEFLAGS</code> in your environment.  You can also set <code>MAKEFLAGS</code> in
a makefile, to specify additional flags that should also be in effect for
that makefile.  (Note that you cannot use <code>MFLAGS</code> this way.  That
variable is set only for compatibility; <code>make</code> does not interpret a
value you set for it in any way.)
</p>
<p>When <code>make</code> interprets the value of <code>MAKEFLAGS</code> (either from the
environment or from a makefile), it first prepends a hyphen if the value
does not already begin with one.  Then it chops the value into words
separated by blanks, and parses these words as if they were options given
on the command line (except that &lsquo;<samp>-C</samp>&rsquo;, &lsquo;<samp>-f</samp>&rsquo;, &lsquo;<samp>-h</samp>&rsquo;,
&lsquo;<samp>-o</samp>&rsquo;, &lsquo;<samp>-W</samp>&rsquo;, and their long-named versions are ignored; and there
is no error for an invalid option).
</p>
<p>If you do put <code>MAKEFLAGS</code> in your environment, you should be sure not
to include any options that will drastically affect the actions of
<code>make</code> and undermine the purpose of makefiles and of <code>make</code>
itself.  For instance, the &lsquo;<samp>-t</samp>&rsquo;, &lsquo;<samp>-n</samp>&rsquo;, and &lsquo;<samp>-q</samp>&rsquo; options, if
put in one of these variables, could have disastrous consequences and would
certainly have at least surprising and probably annoying effects.
</p>
<p>If you&rsquo;d like to run other implementations of <code>make</code> in addition
to GNU <code>make</code>, and hence do not want to add GNU
<code>make</code>-specific flags to the <code>MAKEFLAGS</code> variable, you can
add them to the <code>GNUMAKEFLAGS</code> variable instead.  This variable
is parsed just before <code>MAKEFLAGS</code>, in the same way as
<code>MAKEFLAGS</code>.  When <code>make</code> constructs <code>MAKEFLAGS</code> to
pass to a recursive <code>make</code> it will include all flags, even those
taken from <code>GNUMAKEFLAGS</code>.  As a result, after parsing
<code>GNUMAKEFLAGS</code> GNU <code>make</code> sets this variable to the empty
string to avoid duplicating flags during recursion.
</p>
<p>It&rsquo;s best to use <code>GNUMAKEFLAGS</code> only with flags which won&rsquo;t
materially change the behavior of your makefiles.  If your makefiles
require GNU make anyway then simply use <code>MAKEFLAGS</code>.  Flags such
as &lsquo;<samp>--no-print-directory</samp>&rsquo; or &lsquo;<samp>--output-sync</samp>&rsquo; may be
appropriate for <code>GNUMAKEFLAGS</code>.
</p>
<hr size="6">
<a name="g_t_002dw-Option"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Options_002fRecursion" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Canned-Recipes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recursion" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-_002d_002dprint_002ddirectory-Option"></a>
<h3 class="subsection">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</h3>
<a name="index-directories_002c-printing-them"></a>
<a name="index-printing-directories"></a>
<a name="index-recursion_002c-and-printing-directories"></a>

<p>If you use several levels of recursive <code>make</code> invocations, the
&lsquo;<samp>-w</samp>&rsquo; or &lsquo;<samp>--print-directory</samp>&rsquo; option can make the output a
lot easier to understand by showing each directory as <code>make</code>
starts processing it and as <code>make</code> finishes processing it.  For
example, if &lsquo;<samp>make -w</samp>&rsquo; is run in the directory &lsquo;<tt>/u/gnu/make</tt>&rsquo;,
<code>make</code> will print a line of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make: Entering directory `/u/gnu/make'.
</pre></td></tr></table>

<p>before doing anything else, and a line of the form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">make: Leaving directory `/u/gnu/make'.
</pre></td></tr></table>

<p>when processing is completed.
</p>
<a name="index-_002dC_002c-and-_002dw"></a>
<a name="index-_002d_002ddirectory_002c-and-_002d_002dprint_002ddirectory"></a>
<a name="index-recursion_002c-and-_002dw"></a>
<a name="index-_002dw_002c-and-_002dC"></a>
<a name="index-_002dw_002c-and-recursion"></a>
<a name="index-_002d_002dprint_002ddirectory_002c-and-_002d_002ddirectory"></a>
<a name="index-_002d_002dprint_002ddirectory_002c-and-recursion"></a>
<a name="index-_002d_002dno_002dprint_002ddirectory"></a>
<a name="index-_002d_002dprint_002ddirectory_002c-disabling"></a>
<a name="index-_002dw_002c-disabling"></a>
<p>Normally, you do not need to specify this option because &lsquo;<samp>make</samp>&rsquo;
does it for you: &lsquo;<samp>-w</samp>&rsquo; is turned on automatically when you use the
&lsquo;<samp>-C</samp>&rsquo; option, and in sub-<code>make</code>s.  <code>make</code> will not
automatically turn on &lsquo;<samp>-w</samp>&rsquo; if you also use &lsquo;<samp>-s</samp>&rsquo;, which says to
be silent, or if you use &lsquo;<samp>--no-print-directory</samp>&rsquo; to explicitly
disable it.
</p>
<hr size="6">
<a name="Canned-Recipes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#g_t_002dw-Option" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Empty-Recipes" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Defining-Canned-Recipes"></a>
<h2 class="section">5.8 Defining Canned Recipes</h2>
<a name="index-canned-recipes"></a>
<a name="index-recipes_002c-canned"></a>
<a name="index-sequences-of-commands"></a>
<a name="index-commands_002c-sequences-of"></a>

<p>When the same sequence of commands is useful in making various
targets, you can define it as a canned sequence with the <code>define</code>
directive, and refer to the canned sequence from the recipes for those
targets.  The canned sequence is actually a variable, so the name must
not conflict with other variable names.
</p>
<p>Here is an example of defining a canned recipe:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define run-yacc =
yacc $(firstword $^)
mv y.tab.c $@
endef
</pre></td></tr></table>
<a name="index-yacc"></a>

<p>Here <code>run-yacc</code> is the name of the variable being defined;
<code>endef</code> marks the end of the definition; the lines in between are the
commands.  The <code>define</code> directive does not expand variable references
and function calls in the canned sequence; the &lsquo;<samp>$</samp>&rsquo; characters,
parentheses, variable names, and so on, all become part of the value of the
variable you are defining.
See section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>,
for a complete explanation of <code>define</code>.
</p>
<p>The first command in this example runs Yacc on the first prerequisite of
whichever rule uses the canned sequence.  The output file from Yacc is
always named &lsquo;<tt>y.tab.c</tt>&rsquo;.  The second command moves the output to the
rule&rsquo;s target file name.
</p>
<p>To use the canned sequence, substitute the variable into the recipe of a
rule.  You can substitute it like any other variable
(see section <a href="#Reference">Basics of Variable References</a>).
Because variables defined by <code>define</code> are recursively expanded
variables, all the variable references you wrote inside the <code>define</code>
are expanded now.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.c : foo.y
        $(run-yacc)
</pre></td></tr></table>

<p>&lsquo;<samp>foo.y</samp>&rsquo; will be substituted for the variable &lsquo;<samp>$^</samp>&rsquo; when it occurs in
<code>run-yacc</code>&rsquo;s value, and &lsquo;<samp>foo.c</samp>&rsquo; for &lsquo;<samp>$@</samp>&rsquo;.
</p>
<p>This is a realistic example, but this particular one is not needed in
practice because <code>make</code> has an implicit rule to figure out these
commands based on the file names involved
(see section <a href="#Implicit-Rules">Using Implicit Rules</a>).
</p>
<a name="index-_0040_002c-and-define"></a>
<a name="index-_002d_002c-and-define"></a>
<a name="index-_002b_002c-and-define"></a>
<p>In recipe execution, each line of a canned sequence is treated just as
if the line appeared on its own in the rule, preceded by a tab.  In
particular, <code>make</code> invokes a separate sub-shell for each line.  You
can use the special prefix characters that affect command lines
(&lsquo;<samp>@</samp>&rsquo;, &lsquo;<samp>-</samp>&rsquo;, and &lsquo;<samp>+</samp>&rsquo;) on each line of a canned sequence.
See section <a href="#Recipes">Writing Recipes in Rules</a>.
For example, using this canned sequence:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define frobnicate =
@echo &quot;frobnicating target $@&quot;
frob-step-1 $&lt; -o $@-step-1
frob-step-2 $@-step-1 -o $@
endef
</pre></td></tr></table>

<p><code>make</code> will not echo the first line, the <code>echo</code> command.
But it <em>will</em> echo the following two recipe lines.
</p>
<p>On the other hand, prefix characters on the recipe line that refers to
a canned sequence apply to every line in the sequence.  So the rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">frob.out: frob.in
        @$(frobnicate)
</pre></td></tr></table>

<p>does not echo <em>any</em> recipe lines.
(See section <a href="#Echoing">Recipe Echoing</a>, for a full explanation of &lsquo;<samp>@</samp>&rsquo;.)
</p>
<hr size="6">
<a name="Empty-Recipes"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Canned-Recipes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Recipes" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Empty-Recipes"></a>
<h2 class="section">5.9 Using Empty Recipes</h2>
<a name="index-empty-recipes"></a>
<a name="index-recipes_002c-empty"></a>

<p>It is sometimes useful to define recipes which do nothing.  This is done
simply by giving a recipe that consists of nothing but whitespace.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">target: ;
</pre></td></tr></table>

<p>defines an empty recipe for &lsquo;<tt>target</tt>&rsquo;.  You could also use a line
beginning with a recipe prefix character to define an empty recipe,
but this would be confusing because such a line looks empty.
</p>
<a name="index-_002eDEFAULT_002c-and-empty-recipes"></a>
<p>You may be wondering why you would want to define a recipe that does
nothing.  One reason this is useful is to prevent a target from
getting implicit recipes (from implicit rules or the <code>.DEFAULT</code>
special target; see section <a href="#Implicit-Rules">Using Implicit Rules</a> and see section <a href="#Last-Resort">Defining Last-Resort Default Rules</a>).
</p>
<p>Empty recipes can also be used to avoid errors for targets that will
be created as a side-effect of another recipe: if the target does not
exist the empty recipe ensures that <code>make</code> won&rsquo;t complain that it
doesn&rsquo;t know how to build the target, and <code>make</code> will assume the
target is out of date.
</p>
<p>You may be inclined to define empty recipes for targets that are not
actual files, but only exist so that their prerequisites can be
remade.  However, this is not the best way to do that, because the
prerequisites may not be remade properly if the target file actually
does exist.  See section <a href="#Phony-Targets">Phony Targets</a>, for a better way to
do this.
</p>
<hr size="6">
<a name="Using-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Empty-Recipes" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Reference" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Recipes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-to-Use-Variables"></a>
<h1 class="chapter">6. How to Use Variables</h1>
<a name="index-variable"></a>
<a name="index-value"></a>
<a name="index-recursive-variable-expansion"></a>
<a name="index-simple-variable-expansion"></a>

<p>A <em>variable</em> is a name defined in a makefile to represent a string
of text, called the variable&rsquo;s <em>value</em>.  These values are
substituted by explicit request into targets, prerequisites, recipes,
and other parts of the makefile.  (In some other versions of <code>make</code>,
variables are called <em>macros</em>.)
<a name="index-macro"></a>
</p>
<p>Variables and functions in all parts of a makefile are expanded when
read, except for in recipes, the right-hand sides of variable
definitions using &lsquo;<samp>=</samp>&rsquo;, and the bodies of variable definitions
using the <code>define</code> directive.
</p>
<p>Variables can represent lists of file names, options to pass to compilers,
programs to run, directories to look in for source files, directories to
write output in, or anything else you can imagine.
</p>
<p>A variable name may be any sequence of characters not containing
&lsquo;<samp>:</samp>&rsquo;, &lsquo;<samp>#</samp>&rsquo;, &lsquo;<samp>=</samp>&rsquo;, or whitespace.  However, variable names
containing characters other than letters, numbers, and underscores
should be considered carefully, as in some shells they cannot be
passed through the environment to a sub-<code>make</code>
(see section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>).  Variable names beginning with &lsquo;<samp>.</samp>&rsquo; and an
uppercase letter may be given special meaning in future versions of
<code>make</code>.
</p>
<p>Variable names are case-sensitive.  The names &lsquo;<samp>foo</samp>&rsquo;, &lsquo;<samp>FOO</samp>&rsquo;,
and &lsquo;<samp>Foo</samp>&rsquo; all refer to different variables.
</p>
<p>It is traditional to use upper case letters in variable names, but we
recommend using lower case letters for variable names that serve internal
purposes in the makefile, and reserving upper case for parameters that
control implicit rules or for parameters that the user should override with
command options (see section <a href="#Overriding">Overriding Variables</a>).
</p>
<p>A few variables have names that are a single punctuation character or
just a few characters.  These are the <em>automatic variables</em>, and
they have particular specialized uses.  See section <a href="#Automatic-Variables">Automatic Variables</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How to use the value of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     Variables come in two flavors.
</td></tr>
<tr><td align="left" valign="top"><a href="#Advanced">6.3 Advanced Features for Reference to Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                    Advanced features for referencing a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Values">6.4 How Variables Get Their Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                      All the ways variables get their values.
</td></tr>
<tr><td align="left" valign="top"><a href="#Setting">6.5 Setting Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to set a variable in the makefile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Appending">6.6 Appending More Text to Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   How to append more text to the old value
                                  of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Override-Directive">6.7 The <code>override</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to set a variable in the makefile even if
                                  the user has set it with a command argument.
</td></tr>
<tr><td align="left" valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  An alternate way to set a variable
                                  to a multi-line string.
</td></tr>
<tr><td align="left" valign="top"><a href="#Undefine-Directive">6.9 Undefining Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to undefine a variable so that it appears
                                  as if it was never set.
</td></tr>
<tr><td align="left" valign="top"><a href="#Environment">6.10 Variables from the Environment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Variable values can come from the environment.
</td></tr>
<tr><td align="left" valign="top"><a href="#Target_002dspecific">6.11 Target-specific Variable Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Variable values can be defined on a per-target
                                  basis.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern_002dspecific">6.12 Pattern-specific Variable Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Target-specific variable values can be applied
                                  to a group of targets that match a pattern.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     Suppress inheritance of variables.
</td></tr>
<tr><td align="left" valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Variables with special meaning or behavior.
</td></tr>
</table>

<hr size="6">
<a name="Reference"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Flavors" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Basics-of-Variable-References"></a>
<h2 class="section">6.1 Basics of Variable References</h2>
<a name="index-variables_002c-how-to-reference"></a>
<a name="index-reference-to-variables"></a>
<a name="index-_0024_002c-in-variable-reference"></a>
<a name="index-dollar-sign-_0028_0024_0029_002c-in-variable-reference"></a>

<p>To substitute a variable&rsquo;s value, write a dollar sign followed by the name
of the variable in parentheses or braces: either &lsquo;<samp>$(foo)</samp>&rsquo; or
&lsquo;<samp>${foo}</samp>&rsquo; is a valid reference to the variable <code>foo</code>.  This
special significance of &lsquo;<samp>$</samp>&rsquo; is why you must write &lsquo;<samp>$$</samp>&rsquo; to have
the effect of a single dollar sign in a file name or recipe.
</p>
<p>Variable references can be used in any context: targets, prerequisites,
recipes, most directives, and new variable values.  Here is an
example of a common case, where a variable holds the names of all the
object files in a program:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = program.o foo.o utils.o
program : $(objects)
        cc -o program $(objects)

$(objects) : defs.h
</pre></td></tr></table>

<p>Variable references work by strict textual substitution.  Thus, the rule
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo = c
prog.o : prog.$(foo)
        $(foo)$(foo) -$(foo) prog.$(foo)
</pre></td></tr></table>

<p>could be used to compile a C program &lsquo;<tt>prog.c</tt>&rsquo;.  Since spaces before
the variable value are ignored in variable assignments, the value of
<code>foo</code> is precisely &lsquo;<samp>c</samp>&rsquo;.  (Don&rsquo;t actually write your makefiles
this way!)
</p>
<p>A dollar sign followed by a character other than a dollar sign,
open-parenthesis or open-brace treats that single character as the
variable name.  Thus, you could reference the variable <code>x</code> with
&lsquo;<samp>$x</samp>&rsquo;.  However, this practice can lead to confusion (e.g.,
&lsquo;<samp>$foo</samp>&rsquo; refers to the variable <code>f</code> followed by the string
<code>oo</code>) so we recommend using parentheses or braces around all
variables, even single-letter variables, unless omitting them gives
significant readability improvements.  One place where readability is
often improved is automatic variables (see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<hr size="6">
<a name="Flavors"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Reference" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Advanced" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-Two-Flavors-of-Variables"></a>
<h2 class="section">6.2 The Two Flavors of Variables</h2>
<a name="index-flavors-of-variables"></a>
<a name="index-recursive-variable-expansion-1"></a>
<a name="index-variables_002c-flavors"></a>
<a name="index-recursively-expanded-variables"></a>
<a name="index-variables_002c-recursively-expanded"></a>

<p>There are two ways that a variable in GNU <code>make</code> can have a value;
we call them the two <em>flavors</em> of variables.  The two flavors are
distinguished in how they are defined and in what they do when expanded.
</p>
<a name="index-_003d"></a>
<p>The first flavor of variable is a <em>recursively expanded</em> variable.
Variables of this sort are defined by lines using &lsquo;<samp>=</samp>&rsquo;
(see section <a href="#Setting">Setting Variables</a>) or by the <code>define</code> directive
(see section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>).  The value you specify
is installed verbatim; if it contains references to other variables,
these references are expanded whenever this variable is substituted (in
the course of expanding some other string).  When this happens, it is
called <em>recursive expansion</em>.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo = $(bar)
bar = $(ugh)
ugh = Huh?

all:;echo $(foo)
</pre></td></tr></table>

<p>will echo &lsquo;<samp>Huh?</samp>&rsquo;: &lsquo;<samp>$(foo)</samp>&rsquo; expands to &lsquo;<samp>$(bar)</samp>&rsquo; which
expands to &lsquo;<samp>$(ugh)</samp>&rsquo; which finally expands to &lsquo;<samp>Huh?</samp>&rsquo;.
</p>
<p>This flavor of variable is the only sort supported by most other
versions of <code>make</code>.  It has its advantages and its disadvantages.
An advantage (most would say) is that:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CFLAGS = $(include_dirs) -O
include_dirs = -Ifoo -Ibar
</pre></td></tr></table>

<p>will do what was intended: when &lsquo;<samp>CFLAGS</samp>&rsquo; is expanded in a recipe,
it will expand to &lsquo;<samp>-Ifoo -Ibar -O</samp>&rsquo;.  A major disadvantage is that you
cannot append something on the end of a variable, as in
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CFLAGS = $(CFLAGS) -O
</pre></td></tr></table>

<p>because it will cause an infinite loop in the variable expansion.
(Actually <code>make</code> detects the infinite loop and reports an error.)
<a name="index-loops-in-variable-expansion"></a>
<a name="index-variables_002c-loops-in-expansion"></a>
</p>
<p>Another disadvantage is that any functions
(see section <a href="#Functions">Functions for Transforming Text</a>)
referenced in the definition will be executed every time the variable is
expanded.  This makes <code>make</code> run slower; worse, it causes the
<code>wildcard</code> and <code>shell</code> functions to give unpredictable results
because you cannot easily control when they are called, or even how many
times.
</p>
<p>To avoid all the problems and inconveniences of recursively expanded
variables, there is another flavor: simply expanded variables.
</p>
<a name="index-simply-expanded-variables"></a>
<a name="index-variables_002c-simply-expanded"></a>
<a name="index-_003a_003d"></a>
<a name="index-_003a_003a_003d"></a>
<p><em>Simply expanded variables</em> are defined by lines using &lsquo;<samp>:=</samp>&rsquo;
or &lsquo;<samp>::=</samp>&rsquo; (see section <a href="#Setting">Setting Variables</a>).  Both forms are
equivalent in GNU <code>make</code>; however only the &lsquo;<samp>::=</samp>&rsquo; form is
described by the POSIX standard (support for &lsquo;<samp>::=</samp>&rsquo; was added to
the POSIX standard in 2012, so older versions of <code>make</code> won&rsquo;t
accept this form either).
</p>
<p>The value of a simply expanded variable is scanned
once and for all, expanding any references to other variables and
functions, when the variable is defined.  The actual value of the simply
expanded variable is the result of expanding the text that you write.
It does not contain any references to other variables; it contains their
values <em>as of the time this variable was defined</em>.  Therefore,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x := foo
y := $(x) bar
x := later
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">y := foo bar
x := later
</pre></td></tr></table>

<p>When a simply expanded variable is referenced, its value is substituted
verbatim.
</p>
<p>Here is a somewhat more complicated example, illustrating the use of
&lsquo;<samp>:=</samp>&rsquo; in conjunction with the <code>shell</code> function.
(See section <a href="#Shell-Function">The <code>shell</code> Function</a>.)  This example
also shows use of the variable <code>MAKELEVEL</code>, which is changed
when it is passed down from level to level.
(See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>, for information about <code>MAKELEVEL</code>.)
</p>
<a name="index-MAKELEVEL-1"></a>
<a name="index-MAKE-1"></a>
<table><tr><td>&nbsp;</td><td><pre class="example">ifeq (0,${MAKELEVEL})
whoami    := $(shell whoami)
host-type := $(shell arch)
MAKE := ${MAKE} host-type=${host-type} whoami=${whoami}
endif
</pre></td></tr></table>

<p>An advantage of this use of &lsquo;<samp>:=</samp>&rsquo; is that a typical
&lsquo;descend into a directory&rsquo; recipe then looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">${subdirs}:
        ${MAKE} -C $@ all
</pre></td></tr></table>

<p>Simply expanded variables generally make complicated makefile programming
more predictable because they work like variables in most programming
languages.  They allow you to redefine a variable using its own value (or
its value processed in some way by one of the expansion functions) and to
use the expansion functions much more efficiently
(see section <a href="#Functions">Functions for Transforming Text</a>).
</p>
<a name="index-spaces_002c-in-variable-values"></a>
<a name="index-whitespace_002c-in-variable-values"></a>
<a name="index-variables_002c-spaces-in-values"></a>
<p>You can also use them to introduce controlled leading whitespace into
variable values.  Leading whitespace characters are discarded from your
input before substitution of variable references and function calls;
this means you can include leading spaces in a variable value by
protecting them with variable references, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">nullstring :=
space := $(nullstring) # end of the line
</pre></td></tr></table>

<p>Here the value of the variable <code>space</code> is precisely one space.  The
comment &lsquo;<samp># end of the line</samp>&rsquo; is included here just for clarity.
Since trailing space characters are <em>not</em> stripped from variable
values, just a space at the end of the line would have the same effect
(but be rather hard to read).  If you put whitespace at the end of a
variable value, it is a good idea to put a comment like that at the end
of the line to make your intent clear.  Conversely, if you do <em>not</em>
want any whitespace characters at the end of your variable value, you
must remember not to put a random comment on the end of the line after
some whitespace, such as this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">dir := /foo/bar    # directory to put the frobs in
</pre></td></tr></table>

<p>Here the value of the variable <code>dir</code> is &lsquo;<samp>/foo/bar    </samp>&rsquo;
(with four trailing spaces), which was probably not the intention.
(Imagine something like &lsquo;<samp>$(dir)/file</samp>&rsquo; with this definition!)
</p>
<a name="index-conditional-variable-assignment"></a>
<a name="index-variables_002c-conditional-assignment"></a>
<a name="index-_003f_003d"></a>
<p>There is another assignment operator for variables, &lsquo;<samp>?=</samp>&rsquo;.  This
is called a conditional variable assignment operator, because it only
has an effect if the variable is not yet defined.  This statement:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">FOO ?= bar
</pre></td></tr></table>

<p>is exactly equivalent to this
(see section <a href="#Origin-Function">The <code>origin</code> Function</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifeq ($(origin FOO), undefined)
  FOO = bar
endif
</pre></td></tr></table>

<p>Note that a variable set to an empty value is still defined, so
&lsquo;<samp>?=</samp>&rsquo; will not set that variable.
</p>
<hr size="6">
<a name="Advanced"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Flavors" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Substitution-Refs" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Advanced-Features-for-Reference-to-Variables"></a>
<h2 class="section">6.3 Advanced Features for Reference to Variables</h2>
<a name="index-reference-to-variables-1"></a>

<p>This section describes some advanced features you can use to reference
variables in more flexible ways.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Referencing a variable with
                                  substitutions on the value.
</td></tr>
<tr><td align="left" valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Computing the name of the variable to refer to.
</td></tr>
</table>

<hr size="6">
<a name="Substitution-Refs"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Advanced" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Computed-Names" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Advanced" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Substitution-References"></a>
<h3 class="subsection">6.3.1 Substitution References</h3>
<a name="index-modified-variable-reference"></a>
<a name="index-substitution-variable-reference"></a>
<a name="index-variables_002c-modified-reference"></a>
<a name="index-variables_002c-substitution-reference"></a>

<a name="index-variables_002c-substituting-suffix-in"></a>
<a name="index-suffix_002c-substituting-in-variables"></a>
<p>A <em>substitution reference</em> substitutes the value of a variable with
alterations that you specify.  It has the form
&lsquo;<samp>$(<var>var</var>:<var>a</var>=<var>b</var>)</samp>&rsquo; (or
&lsquo;<samp>${<var>var</var>:<var>a</var>=<var>b</var>}</samp>&rsquo;) and its meaning is to take the value
of the variable <var>var</var>, replace every <var>a</var> at the end of a word with
<var>b</var> in that value, and substitute the resulting string.
</p>
<p>When we say &ldquo;at the end of a word&rdquo;, we mean that <var>a</var> must appear
either followed by whitespace or at the end of the value in order to be
replaced; other occurrences of <var>a</var> in the value are unaltered.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo := a.o b.o l.a c.o
bar := $(foo:.o=.c)
</pre></td></tr></table>

<p>sets &lsquo;<samp>bar</samp>&rsquo; to &lsquo;<samp>a.c b.c l.a c.c</samp>&rsquo;.  See section <a href="#Setting">Setting Variables</a>.
</p>
<p>A substitution reference is shorthand for the <code>patsubst</code>
expansion function (see section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>):
&lsquo;<samp>$(<var>var</var>:<var>a</var>=<var>b</var>)</samp>&rsquo; is equivalent to
&lsquo;<samp>$(patsubst %<var>a</var>,%<var>b</var>,<var>var</var>)</samp>&rsquo;.  We provide
substitution references as well as <code>patsubst</code> for compatibility
with other implementations of <code>make</code>.
</p>
<a name="index-patsubst"></a>
<p>Another type of substitution reference lets you use the full power of
the <code>patsubst</code> function.  It has the same form
&lsquo;<samp>$(<var>var</var>:<var>a</var>=<var>b</var>)</samp>&rsquo; described above, except that now
<var>a</var> must contain a single &lsquo;<samp>%</samp>&rsquo; character.  This case is
equivalent to &lsquo;<samp>$(patsubst <var>a</var>,<var>b</var>,$(<var>var</var>))</samp>&rsquo;.
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>,
for a description of the <code>patsubst</code> function.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">For example:

foo := a.o b.o l.a c.o
bar := $(foo:%.o=%.c)
</pre></td></tr></table>

<p>sets &lsquo;<samp>bar</samp>&rsquo; to &lsquo;<samp>a.c b.c l.a c.c</samp>&rsquo;.
</p>
<hr size="6">
<a name="Computed-Names"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Substitution-Refs" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Values" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Advanced" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Computed-Variable-Names"></a>
<h3 class="subsection">6.3.2 Computed Variable Names</h3>
<a name="index-nested-variable-reference"></a>
<a name="index-computed-variable-name"></a>
<a name="index-variables_002c-computed-names"></a>
<a name="index-variables_002c-nested-references"></a>
<a name="index-variables_002c-_0024-in-name"></a>
<a name="index-_0024_002c-in-variable-name"></a>
<a name="index-dollar-sign-_0028_0024_0029_002c-in-variable-name"></a>

<p>Computed variable names are a complicated concept needed only for
sophisticated makefile programming.  For most purposes you need not
consider them, except to know that making a variable with a dollar sign
in its name might have strange results.  However, if you are the type
that wants to understand everything, or you are actually interested in
what they do, read on.
</p>
<p>Variables may be referenced inside the name of a variable.  This is
called a <em>computed variable name</em> or a <em>nested variable
reference</em>.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x = y
y = z
a := $($(x))
</pre></td></tr></table>

<p>defines <code>a</code> as &lsquo;<samp>z</samp>&rsquo;: the &lsquo;<samp>$(x)</samp>&rsquo; inside &lsquo;<samp>$($(x))</samp>&rsquo; expands
to &lsquo;<samp>y</samp>&rsquo;, so &lsquo;<samp>$($(x))</samp>&rsquo; expands to &lsquo;<samp>$(y)</samp>&rsquo; which in turn expands
to &lsquo;<samp>z</samp>&rsquo;.  Here the name of the variable to reference is not stated
explicitly; it is computed by expansion of &lsquo;<samp>$(x)</samp>&rsquo;.  The reference
&lsquo;<samp>$(x)</samp>&rsquo; here is nested within the outer variable reference.
</p>
<p>The previous example shows two levels of nesting, but any number of levels
is possible.  For example, here are three levels:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x = y
y = z
z = u
a := $($($(x)))
</pre></td></tr></table>

<p>Here the innermost &lsquo;<samp>$(x)</samp>&rsquo; expands to &lsquo;<samp>y</samp>&rsquo;, so &lsquo;<samp>$($(x))</samp>&rsquo;
expands to &lsquo;<samp>$(y)</samp>&rsquo; which in turn expands to &lsquo;<samp>z</samp>&rsquo;; now we have
&lsquo;<samp>$(z)</samp>&rsquo;, which becomes &lsquo;<samp>u</samp>&rsquo;.
</p>
<p>References to recursively-expanded variables within a variable name are
re-expanded in the usual fashion.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x = $(y)
y = z
z = Hello
a := $($(x))
</pre></td></tr></table>

<p>defines <code>a</code> as &lsquo;<samp>Hello</samp>&rsquo;: &lsquo;<samp>$($(x))</samp>&rsquo; becomes &lsquo;<samp>$($(y))</samp>&rsquo;
which becomes &lsquo;<samp>$(z)</samp>&rsquo; which becomes &lsquo;<samp>Hello</samp>&rsquo;.
</p>
<p>Nested variable references can also contain modified references and
function invocations (see section <a href="#Functions">Functions for Transforming Text</a>),
just like any other reference.
For example, using the <code>subst</code> function
(see section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x = variable1
variable2 := Hello
y = $(subst 1,2,$(x))
z = y
a := $($($(z)))
</pre></td></tr></table>

<p>eventually defines <code>a</code> as &lsquo;<samp>Hello</samp>&rsquo;.  It is doubtful that anyone
would ever want to write a nested reference as convoluted as this one, but
it works: &lsquo;<samp>$($($(z)))</samp>&rsquo; expands to &lsquo;<samp>$($(y))</samp>&rsquo; which becomes
&lsquo;<samp>$($(subst 1,2,$(x)))</samp>&rsquo;.  This gets the value &lsquo;<samp>variable1</samp>&rsquo; from
<code>x</code> and changes it by substitution to &lsquo;<samp>variable2</samp>&rsquo;, so that the
entire string becomes &lsquo;<samp>$(variable2)</samp>&rsquo;, a simple variable reference
whose value is &lsquo;<samp>Hello</samp>&rsquo;.
</p>
<p>A computed variable name need not consist entirely of a single variable
reference.  It can contain several variable references, as well as some
invariant text.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">a_dirs := dira dirb
1_dirs := dir1 dir2
</pre><pre class="example">
</pre><pre class="example">a_files := filea fileb
1_files := file1 file2
</pre><pre class="example">
</pre><pre class="example">ifeq &quot;$(use_a)&quot; &quot;yes&quot;
a1 := a
else
a1 := 1
endif
</pre><pre class="example">
</pre><pre class="example">ifeq &quot;$(use_dirs)&quot; &quot;yes&quot;
df := dirs
else
df := files
endif

dirs := $($(a1)_$(df))
</pre></td></tr></table>

<p>will give <code>dirs</code> the same value as <code>a_dirs</code>, <code>1_dirs</code>,
<code>a_files</code> or <code>1_files</code> depending on the settings of <code>use_a</code>
and <code>use_dirs</code>.
</p>
<p>Computed variable names can also be used in substitution references:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">a_objects := a.o b.o c.o
1_objects := 1.o 2.o 3.o

sources := $($(a1)_objects:.o=.c)
</pre></td></tr></table>

<p>defines <code>sources</code> as either &lsquo;<samp>a.c b.c c.c</samp>&rsquo; or &lsquo;<samp>1.c 2.c 3.c</samp>&rsquo;,
depending on the value of <code>a1</code>.
</p>
<p>The only restriction on this sort of use of nested variable references
is that they cannot specify part of the name of a function to be called.
This is because the test for a recognized function name is done before
the expansion of nested references.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifdef do_sort
func := sort
else
func := strip
endif
</pre><pre class="example">
</pre><pre class="example">bar := a d b g q c
</pre><pre class="example">
</pre><pre class="example">foo := $($(func) $(bar))
</pre></td></tr></table>

<p>attempts to give &lsquo;<samp>foo</samp>&rsquo; the value of the variable &lsquo;<samp>sort a d b g
q c</samp>&rsquo; or &lsquo;<samp>strip a d b g q c</samp>&rsquo;, rather than giving &lsquo;<samp>a d b g q c</samp>&rsquo;
as the argument to either the <code>sort</code> or the <code>strip</code> function.
This restriction could be removed in the future if that change is shown
to be a good idea.
</p>
<p>You can also use computed variable names in the left-hand side of a
variable assignment, or in a <code>define</code> directive, as in:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">dir = foo
$(dir)_sources := $(wildcard $(dir)/*.c)
define $(dir)_print =
lpr $($(dir)_sources)
endef
</pre></td></tr></table>

<p>This example defines the variables &lsquo;<samp>dir</samp>&rsquo;, &lsquo;<samp>foo_sources</samp>&rsquo;, and
&lsquo;<samp>foo_print</samp>&rsquo;.
</p>
<p>Note that <em>nested variable references</em> are quite different from
<em>recursively expanded variables</em>
(see section <a href="#Flavors">The Two Flavors of Variables</a>), though both are
used together in complex ways when doing makefile programming.
</p>
<hr size="6">
<a name="Values"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Computed-Names" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Setting" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Variables-Get-Their-Values"></a>
<h2 class="section">6.4 How Variables Get Their Values</h2>
<a name="index-variables_002c-how-they-get-their-values"></a>
<a name="index-value_002c-how-a-variable-gets-it"></a>

<p>Variables can get values in several different ways:
</p>
<ul>
<li>
You can specify an overriding value when you run <code>make</code>.
See section <a href="#Overriding">Overriding Variables</a>.

</li><li>
You can specify a value in the makefile, either
with an assignment (see section <a href="#Setting">Setting Variables</a>) or with a
verbatim definition (see section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>).

</li><li>
Variables in the environment become <code>make</code> variables.
See section <a href="#Environment">Variables from the Environment</a>.

</li><li>
Several <em>automatic</em> variables are given new values for each rule.
Each of these has a single conventional use.
See section <a href="#Automatic-Variables">Automatic Variables</a>.

</li><li>
Several variables have constant initial values.
See section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>.
</li></ul>

<hr size="6">
<a name="Setting"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Values" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Appending" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Setting-Variables"></a>
<h2 class="section">6.5 Setting Variables</h2>
<a name="index-setting-variables"></a>
<a name="index-variables_002c-setting"></a>
<a name="index-_003d-1"></a>
<a name="index-_003a_003d-1"></a>
<a name="index-_003a_003a_003d-1"></a>
<a name="index-_003f_003d-1"></a>
<a name="index-_0021_003d"></a>

<p>To set a variable from the makefile, write a line starting with the
variable name followed by &lsquo;<samp>=</samp>&rsquo;, &lsquo;<samp>:=</samp>&rsquo;, or &lsquo;<samp>::=</samp>&rsquo;.  Whatever
follows the &lsquo;<samp>=</samp>&rsquo;, &lsquo;<samp>:=</samp>&rsquo;, or &lsquo;<samp>::=</samp>&rsquo; on the line becomes the
value.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o foo.o bar.o utils.o
</pre></td></tr></table>

<p>defines a variable named <code>objects</code>.  Whitespace around the variable
name and immediately after the &lsquo;<samp>=</samp>&rsquo; is ignored.
</p>
<p>Variables defined with &lsquo;<samp>=</samp>&rsquo; are <em>recursively expanded</em>
variables.  Variables defined with &lsquo;<samp>:=</samp>&rsquo; or &lsquo;<samp>::=</samp>&rsquo; are
<em>simply expanded</em> variables; these definitions can contain
variable references which will be expanded before the definition is
made.  See section <a href="#Flavors">The Two Flavors of Variables</a>.
</p>
<p>The variable name may contain function and variable references, which
are expanded when the line is read to find the actual variable name to use.
</p>
<p>There is no limit on the length of the value of a variable except the
amount of memory on the computer.  You can split the value of a
variable into multiple physical lines for readability
(see section <a href="#Splitting-Lines">Splitting Long Lines</a>).
</p>
<p>Most variable names are considered to have the empty string as a value if
you have never set them.  Several variables have built-in initial values
that are not empty, but you can set them in the usual ways
(see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>).
Several special variables are set
automatically to a new value for each rule; these are called the
<em>automatic</em> variables (see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<p>If you&rsquo;d like a variable to be set to a value only if it&rsquo;s not already
set, then you can use the shorthand operator &lsquo;<samp>?=</samp>&rsquo; instead of
&lsquo;<samp>=</samp>&rsquo;.  These two settings of the variable &lsquo;<samp>FOO</samp>&rsquo; are identical
(see section <a href="#Origin-Function">The <code>origin</code> Function</a>):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">FOO ?= bar
</pre></td></tr></table>

<p>and
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifeq ($(origin FOO), undefined)
FOO = bar
endif
</pre></td></tr></table>

<p>The shell assignment operator &lsquo;<samp>!=</samp>&rsquo; can be used to execute a
shell script and set a variable to its output.  This operator first
evaluates the right-hand side, then passes that result to the shell
for execution.  If the result of the execution ends in a newline, that
one newline is removed; all other newlines are replaced by spaces.
The resulting string is then placed into the named
recursively-expanded variable.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">hash != printf '\043'
file_list != find . -name '*.c'
</pre></td></tr></table>

<p>If the result of the execution could produce a <code>$</code>, and you don&rsquo;t
intend what follows that to be interpreted as a make variable or
function reference, then you must replace every <code>$</code> with
<code>$$</code> as part of the execution.  Alternatively, you can set a
simply expanded variable to the result of running a program using the
<code>shell</code> function call.  See section <a href="#Shell-Function">The <code>shell</code> Function</a>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">hash := $(shell printf '\043')
var := $(shell find . -name &quot;*.c&quot;)
</pre></td></tr></table>

<p>As with the <code>shell</code> function, the exit status of the just-invoked
shell script is stored in the <code>.SHELLSTATUS</code> variable.
</p>

<hr size="6">
<a name="Appending"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Setting" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Override-Directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Appending-More-Text-to-Variables"></a>
<h2 class="section">6.6 Appending More Text to Variables</h2>
<a name="index-_002b_003d"></a>
<a name="index-appending-to-variables"></a>
<a name="index-variables_002c-appending-to"></a>

<p>Often it is useful to add more text to the value of a variable already defined.
You do this with a line containing &lsquo;<samp>+=</samp>&rsquo;, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects += another.o
</pre></td></tr></table>

<p>This takes the value of the variable <code>objects</code>, and adds the text
&lsquo;<samp>another.o</samp>&rsquo; to it (preceded by a single space, if it has a value
already).  Thus:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o foo.o bar.o utils.o
objects += another.o
</pre></td></tr></table>

<p>sets <code>objects</code> to &lsquo;<samp>main.o foo.o bar.o utils.o another.o</samp>&rsquo;.
</p>
<p>Using &lsquo;<samp>+=</samp>&rsquo; is similar to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = main.o foo.o bar.o utils.o
objects := $(objects) another.o
</pre></td></tr></table>

<p>but differs in ways that become important when you use more complex values.
</p>
<p>When the variable in question has not been defined before, &lsquo;<samp>+=</samp>&rsquo;
acts just like normal &lsquo;<samp>=</samp>&rsquo;: it defines a recursively-expanded
variable.  However, when there <em>is</em> a previous definition, exactly
what &lsquo;<samp>+=</samp>&rsquo; does depends on what flavor of variable you defined
originally.  See section <a href="#Flavors">The Two Flavors of Variables</a>, for an
explanation of the two flavors of variables.
</p>
<p>When you add to a variable&rsquo;s value with &lsquo;<samp>+=</samp>&rsquo;, <code>make</code> acts
essentially as if you had included the extra text in the initial
definition of the variable.  If you defined it first with &lsquo;<samp>:=</samp>&rsquo; or
&lsquo;<samp>::=</samp>&rsquo;, making it a simply-expanded variable, &lsquo;<samp>+=</samp>&rsquo; adds to
that simply-expanded definition, and expands the new text before
appending it to the old value just as &lsquo;<samp>:=</samp>&rsquo; does (see
<a href="#Setting">Setting Variables</a>, for a full explanation of
&lsquo;<samp>:=</samp>&rsquo; or &lsquo;<samp>::=</samp>&rsquo;).  In fact,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">variable := value
variable += more
</pre></td></tr></table>

<p>is exactly equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">variable := value
variable := $(variable) more
</pre></td></tr></table>

<p>On the other hand, when you use &lsquo;<samp>+=</samp>&rsquo; with a variable that you defined
first to be recursively-expanded using plain &lsquo;<samp>=</samp>&rsquo;, <code>make</code> does
something a bit different.  Recall that when you define a
recursively-expanded variable, <code>make</code> does not expand the value you set
for variable and function references immediately.  Instead it stores the text
verbatim, and saves these variable and function references to be expanded
later, when you refer to the new variable (see section <a href="#Flavors">The Two Flavors of Variables</a>).  When you use &lsquo;<samp>+=</samp>&rsquo; on a recursively-expanded variable,
it is this unexpanded text to which <code>make</code> appends the new text you
specify.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">variable = value
variable += more
</pre></td></tr></table>

<p>is roughly equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">temp = value
variable = $(temp) more
</pre></td></tr></table>

<p>except that of course it never defines a variable called <code>temp</code>.
The importance of this comes when the variable&rsquo;s old value contains
variable references.  Take this common example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CFLAGS = $(includes) -O
&hellip;
CFLAGS += -pg # enable profiling
</pre></td></tr></table>

<p>The first line defines the <code>CFLAGS</code> variable with a reference to another
variable, <code>includes</code>.  (<code>CFLAGS</code> is used by the rules for C
compilation; see section <a href="#Catalogue-of-Rules">Catalogue of Built-In Rules</a>.)
Using &lsquo;<samp>=</samp>&rsquo; for the definition makes <code>CFLAGS</code> a recursively-expanded
variable, meaning &lsquo;<samp>$(includes) -O</samp>&rsquo; is <em>not</em> expanded when
<code>make</code> processes the definition of <code>CFLAGS</code>.  Thus, <code>includes</code>
need not be defined yet for its value to take effect.  It only has to be
defined before any reference to <code>CFLAGS</code>.  If we tried to append to the
value of <code>CFLAGS</code> without using &lsquo;<samp>+=</samp>&rsquo;, we might do it like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CFLAGS := $(CFLAGS) -pg # enable profiling
</pre></td></tr></table>

<p>This is pretty close, but not quite what we want.  Using &lsquo;<samp>:=</samp>&rsquo;
redefines <code>CFLAGS</code> as a simply-expanded variable; this means
<code>make</code> expands the text &lsquo;<samp>$(CFLAGS) -pg</samp>&rsquo; before setting the
variable.  If <code>includes</code> is not yet defined, we get &lsquo;<samp> -O
-pg</samp>&rsquo;, and a later definition of <code>includes</code> will have no effect.
Conversely, by using &lsquo;<samp>+=</samp>&rsquo; we set <code>CFLAGS</code> to the
<em>unexpanded</em> value &lsquo;<samp>$(includes) -O -pg</samp>&rsquo;.  Thus we preserve
the reference to <code>includes</code>, so if that variable gets defined at
any later point, a reference like &lsquo;<samp>$(CFLAGS)</samp>&rsquo; still uses its
value.
</p>
<hr size="6">
<a name="Override-Directive"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Appending" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Multi_002dLine" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-override-Directive"></a>
<h2 class="section">6.7 The <code>override</code> Directive</h2>
<a name="index-override"></a>
<a name="index-overriding-with-override"></a>
<a name="index-variables_002c-overriding"></a>

<p>If a variable has been set with a command argument
(see section <a href="#Overriding">Overriding Variables</a>),
then ordinary assignments in the makefile are ignored.  If you want to set
the variable in the makefile even though it was set with a command
argument, you can use an <code>override</code> directive, which is a line that
looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override <var>variable</var> = <var>value</var>
</pre></td></tr></table>

<p>or
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override <var>variable</var> := <var>value</var>
</pre></td></tr></table>

<p>To append more text to a variable defined on the command line, use:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override <var>variable</var> += <var>more text</var>
</pre></td></tr></table>

<p>See section <a href="#Appending">Appending More Text to Variables</a>.
</p>
<p>Variable assignments marked with the <code>override</code> flag have a
higher priority than all other assignments, except another
<code>override</code>.  Subsequent assignments or appends to this variable
which are not marked <code>override</code> will be ignored.
</p>
<p>The <code>override</code> directive was not invented for escalation in the war
between makefiles and command arguments.  It was invented so you can alter
and add to values that the user specifies with command arguments.
</p>
<p>For example, suppose you always want the &lsquo;<samp>-g</samp>&rsquo; switch when you run the
C compiler, but you would like to allow the user to specify the other
switches with a command argument just as usual.  You could use this
<code>override</code> directive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override CFLAGS += -g
</pre></td></tr></table>

<p>You can also use <code>override</code> directives with <code>define</code> directives.
This is done as you might expect:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override define foo =
bar
endef
</pre></td></tr></table>

<p>See section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>.
</p>
<hr size="6">
<a name="Multi_002dLine"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Override-Directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Undefine-Directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Defining-Multi_002dLine-Variables"></a>
<h2 class="section">6.8 Defining Multi-Line Variables</h2>
<a name="index-define"></a>
<a name="index-endef"></a>
<a name="index-multi_002dline-variable-definition"></a>
<a name="index-variables_002c-multi_002dline"></a>
<a name="index-verbatim-variable-definition"></a>
<a name="index-defining-variables-verbatim"></a>
<a name="index-variables_002c-defining-verbatim"></a>

<p>Another way to set the value of a variable is to use the <code>define</code>
directive.  This directive has an unusual syntax which allows newline
characters to be included in the value, which is convenient for
defining both canned sequences of commands (see section <a href="#Canned-Recipes">Defining Canned Recipes</a>), and also sections of makefile syntax to
use with <code>eval</code> (see section <a href="#Eval-Function">The <code>eval</code> Function</a>).
</p>
<p>The <code>define</code> directive is followed on the same line by the name
of the variable being defined and an (optional) assignment operator,
and nothing more.  The value to give the variable appears on the
following lines.  The end of the value is marked by a line containing
just the word <code>endef</code>.
</p>
<p>Aside from this difference in syntax, <code>define</code> works just like
any other variable definition.  The variable name may contain function
and variable references, which are expanded when the directive is read
to find the actual variable name to use.
</p>
<p>The final newline before the <code>endef</code> is not included in the
value; if you want your value to contain a trailing newline you must
include a blank line.  For example in order to define a variable that
contains a newline character you must use <em>two</em> empty lines, not one:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define newline


endef
</pre></td></tr></table>

<p>You may omit the variable assignment operator if you prefer.  If
omitted, <code>make</code> assumes it to be &lsquo;<samp>=</samp>&rsquo; and creates a
recursively-expanded variable (see section <a href="#Flavors">The Two Flavors of Variables</a>).
When using a &lsquo;<samp>+=</samp>&rsquo; operator, the value is appended to the previous
value as with any other append operation: with a single space
separating the old and new values.
</p>
<p>You may nest <code>define</code> directives: <code>make</code> will keep track of
nested directives and report an error if they are not all properly
closed with <code>endef</code>.  Note that lines beginning with the recipe
prefix character are considered part of a recipe, so any <code>define</code>
or <code>endef</code> strings appearing on such a line will not be
considered <code>make</code> directives.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define two-lines
echo foo
echo $(bar)
endef
</pre></td></tr></table>

<p>When used in a recipe, the previous example is functionally equivalent
to this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">two-lines = echo foo; echo $(bar)
</pre></td></tr></table>

<p>since two commands separated by semicolon behave much like two separate
shell commands.  However, note that using two separate lines means
<code>make</code> will invoke the shell twice, running an independent sub-shell
for each line.  See section <a href="#Execution">Recipe Execution</a>.
</p>
<p>If you want variable definitions made with <code>define</code> to take
precedence over command-line variable definitions, you can use the
<code>override</code> directive together with <code>define</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override define two-lines =
foo
$(bar)
endef
</pre></td></tr></table>

<p>See section <a href="#Override-Directive">The <code>override</code> Directive</a>.
</p>
<hr size="6">
<a name="Undefine-Directive"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Multi_002dLine" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Environment" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Undefining-Variables"></a>
<h2 class="section">6.9 Undefining Variables</h2>
<a name="index-undefine"></a>
<a name="index-undefining-variable"></a>

<p>If you want to clear a variable, setting its value to empty is usually
sufficient. Expanding such a variable will yield the same result (empty
string) regardless of whether it was set or not. However, if you are
using the <code>flavor</code> (see section <a href="#Flavor-Function">The <code>flavor</code> Function</a>) and
<code>origin</code> (see section <a href="#Origin-Function">The <code>origin</code> Function</a>) functions, there is a difference
between a variable that was never set and a variable with an empty value.
In such situations you may want to use the <code>undefine</code> directive to
make a variable appear as if it was never set. For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo := foo
bar = bar

undefine foo
undefine bar

$(info $(origin foo))
$(info $(flavor bar))
</pre></td></tr></table>

<p>This example will print &ldquo;undefined&rdquo; for both variables.
</p>
<p>If you want to undefine a command-line variable definition, you can use
the <code>override</code> directive together with <code>undefine</code>, similar to
how this is done for variable definitions:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override undefine CFLAGS
</pre></td></tr></table>

<hr size="6">
<a name="Environment"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Undefine-Directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Target_002dspecific" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Variables-from-the-Environment"></a>
<h2 class="section">6.10 Variables from the Environment</h2>

<a name="index-variables_002c-environment-1"></a>
<a name="index-environment"></a>
<p>Variables in <code>make</code> can come from the environment in which
<code>make</code> is run.  Every environment variable that <code>make</code> sees
when it starts up is transformed into a <code>make</code> variable with the
same name and value.  However, an explicit assignment in the makefile,
or with a command argument, overrides the environment.  (If the
&lsquo;<samp>-e</samp>&rsquo; flag is specified, then values from the environment override
assignments in the makefile.  See section <a href="#Options-Summary">Summary of Options</a>.  But this is not recommended practice.)
</p>
<p>Thus, by setting the variable <code>CFLAGS</code> in your environment, you can
cause all C compilations in most makefiles to use the compiler switches you
prefer.  This is safe for variables with standard or conventional meanings
because you know that no makefile will use them for other things.  (Note
this is not totally reliable; some makefiles set <code>CFLAGS</code> explicitly
and therefore are not affected by the value in the environment.)
</p>
<p>When <code>make</code> runs a recipe, variables defined in the
makefile are placed into the environment of each shell.  This allows
you to pass values to sub-<code>make</code> invocations (see section <a href="#Recursion">Recursive Use of <code>make</code></a>).  By default, only variables that came
from the environment or the command line are passed to recursive
invocations.  You can use the <code>export</code> directive to pass other
variables.  See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>, for full details.
</p>
<p>Other use of variables from the environment is not recommended.  It is not
wise for makefiles to depend for their functioning on environment variables
set up outside their control, since this would cause different users to get
different results from the same makefile.  This is against the whole
purpose of most makefiles.
</p>
<a name="index-SHELL_002c-import-from-environment"></a>
<p>Such problems would be especially likely with the variable
<code>SHELL</code>, which is normally present in the environment to specify
the user&rsquo;s choice of interactive shell.  It would be very undesirable
for this choice to affect <code>make</code>; so, <code>make</code> handles the
<code>SHELL</code> environment variable in a special way; see <a href="#Choosing-the-Shell">Choosing the Shell</a>.
</p>
<hr size="6">
<a name="Target_002dspecific"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Environment" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern_002dspecific" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Target_002dspecific-Variable-Values"></a>
<h2 class="section">6.11 Target-specific Variable Values</h2>
<a name="index-target_002dspecific-variables"></a>
<a name="index-variables_002c-target_002dspecific"></a>

<p>Variable values in <code>make</code> are usually global; that is, they are the
same regardless of where they are evaluated (unless they&rsquo;re reset, of
course).  One exception to that is automatic variables
(see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<p>The other exception is <em>target-specific variable values</em>.  This
feature allows you to define different values for the same variable,
based on the target that <code>make</code> is currently building.  As with
automatic variables, these values are only available within the context
of a target&rsquo;s recipe (and in other target-specific assignments).
</p>
<p>Set a target-specific variable value like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>target</var> &hellip; : <var>variable-assignment</var>
</pre></td></tr></table>

<p>Target-specific variable assignments can be prefixed with any or all of the
special keywords <code>export</code>, <code>override</code>, or <code>private</code>;
these apply their normal behavior to this instance of the variable only.
</p>
<p>Multiple <var>target</var> values create a target-specific variable value for
each member of the target list individually.
</p>
<p>The <var>variable-assignment</var> can be any valid form of assignment;
recursive (&lsquo;<samp>=</samp>&rsquo;), simple (&lsquo;<samp>:=</samp>&rsquo; or &lsquo;<samp>::=</samp>&rsquo;), appending
(&lsquo;<samp>+=</samp>&rsquo;), or conditional (&lsquo;<samp>?=</samp>&rsquo;).  All variables that appear
within the <var>variable-assignment</var> are evaluated within the context
of the target: thus, any previously-defined target-specific variable
values will be in effect.  Note that this variable is actually
distinct from any &ldquo;global&rdquo; value: the two variables do not have to
have the same flavor (recursive vs. simple).
</p>
<p>Target-specific variables have the same priority as any other makefile
variable.  Variables provided on the command line (and in the
environment if the &lsquo;<samp>-e</samp>&rsquo; option is in force) will take precedence.
Specifying the <code>override</code> directive will allow the target-specific
variable value to be preferred.
</p>
<p>There is one more special feature of target-specific variables: when
you define a target-specific variable that variable value is also in
effect for all prerequisites of this target, and all their
prerequisites, etc. (unless those prerequisites override that variable
with their own target-specific variable value).  So, for example, a
statement like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">prog : CFLAGS = -g
prog : prog.o foo.o bar.o
</pre></td></tr></table>

<p>will set <code>CFLAGS</code> to &lsquo;<samp>-g</samp>&rsquo; in the recipe for &lsquo;<tt>prog</tt>&rsquo;, but
it will also set <code>CFLAGS</code> to &lsquo;<samp>-g</samp>&rsquo; in the recipes that create
&lsquo;<tt>prog.o</tt>&rsquo;, &lsquo;<tt>foo.o</tt>&rsquo;, and &lsquo;<tt>bar.o</tt>&rsquo;, and any recipes which
create their prerequisites.
</p>
<p>Be aware that a given prerequisite will only be built once per
invocation of make, at most.  If the same file is a prerequisite of
multiple targets, and each of those targets has a different value for
the same target-specific variable, then the first target to be built
will cause that prerequisite to be built and the prerequisite will
inherit the target-specific value from the first target.  It will
ignore the target-specific values from any other targets.
</p>
<hr size="6">
<a name="Pattern_002dspecific"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Target_002dspecific" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Suppressing-Inheritance" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Pattern_002dspecific-Variable-Values"></a>
<h2 class="section">6.12 Pattern-specific Variable Values</h2>
<a name="index-pattern_002dspecific-variables"></a>
<a name="index-variables_002c-pattern_002dspecific"></a>

<p>In addition to target-specific variable values
(see section <a href="#Target_002dspecific">Target-specific Variable Values</a>), GNU
<code>make</code> supports pattern-specific variable values.  In this form,
the variable is defined for any target that matches the pattern
specified.
</p>
<p>Set a pattern-specific variable value like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>pattern</var> &hellip; : <var>variable-assignment</var>
</pre></td></tr></table>
<p>where <var>pattern</var> is a %-pattern.  As with target-specific variable
values, multiple <var>pattern</var> values create a pattern-specific variable
value for each pattern individually.  The <var>variable-assignment</var> can
be any valid form of assignment.  Any command line variable setting will
take precedence, unless <code>override</code> is specified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o : CFLAGS = -O
</pre></td></tr></table>

<p>will assign <code>CFLAGS</code> the value of &lsquo;<samp>-O</samp>&rsquo; for all targets
matching the pattern <code>%.o</code>.
</p>
<p>If a target matches more than one pattern, the matching pattern-specific
variables with longer stems are interpreted first. This results in more
specific variables taking precedence over the more generic ones, for
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o: %.c
        $(CC) -c $(CFLAGS) $(CPPFLAGS) $&lt; -o $@

lib/%.o: CFLAGS := -fPIC -g
%.o: CFLAGS := -g

all: foo.o lib/bar.o
</pre></td></tr></table>

<p>In this example the first definition of the <code>CFLAGS</code> variable
will be used to update &lsquo;<tt>lib/bar.o</tt>&rsquo; even though the second one
also applies to this target. Pattern-specific variables which result
in the same stem length are considered in the order in which they
were defined in the makefile.
</p>
<p>Pattern-specific variables are searched after any target-specific
variables defined explicitly for that target, and before target-specific
variables defined for the parent target.
</p>
<hr size="6">
<a name="Suppressing-Inheritance"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pattern_002dspecific" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Special-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Suppressing-Inheritance-1"></a>
<h2 class="section">6.13 Suppressing Inheritance</h2>
<a name="index-private"></a>
<a name="index-suppressing-inheritance"></a>
<a name="index-inheritance_002c-suppressing"></a>

<p>As described in previous sections, <code>make</code> variables are inherited
by prerequisites.  This capability allows you to modify the behavior
of a prerequisite based on which targets caused it to be rebuilt.  For
example, you might set a target-specific variable on a <code>debug</code>
target, then running &lsquo;<samp>make debug</samp>&rsquo; will cause that variable to be
inherited by all prerequisites of <code>debug</code>, while just running
&lsquo;<samp>make all</samp>&rsquo; (for example) would not have that assignment.
</p>
<p>Sometimes, however, you may not want a variable to be inherited.  For
these situations, <code>make</code> provides the <code>private</code> modifier.
Although this modifier can be used with any variable assignment, it
makes the most sense with target- and pattern-specific variables.  Any
variable marked <code>private</code> will be visible to its local target but
will not be inherited by prerequisites of that target.  A global
variable marked <code>private</code> will be visible in the global scope but
will not be inherited by any target, and hence will not be visible
in any recipe.
</p>
<p>As an example, consider this makefile:
</p><table><tr><td>&nbsp;</td><td><pre class="example">EXTRA_CFLAGS =

prog: private EXTRA_CFLAGS = -L/usr/local/lib
prog: a.o b.o
</pre></td></tr></table>

<p>Due to the <code>private</code> modifier, <code>a.o</code> and <code>b.o</code> will not
inherit the <code>EXTRA_CFLAGS</code> variable assignment from the
<code>prog</code> target.
</p>
<hr size="6">
<a name="Special-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Suppressing-Inheritance" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Other-Special-Variables"></a>
<h2 class="section">6.14 Other Special Variables</h2>
<a name="index-makefiles_002c-and-special-variables"></a>
<a name="index-special-variables"></a>

<p>GNU <code>make</code> supports some variables that have special properties.
</p>
<dl compact="compact">
<dd>
<a name="index-MAKEFILE_005fLIST-_0028list-of-parsed-makefiles_0029"></a>
<a name="index-makefiles_002c-and-MAKEFILE_005fLIST-variable"></a>
<a name="index-including-_0028MAKEFILE_005fLIST-variable_0029"></a>
</dd>
<dt> <code>MAKEFILE_LIST</code></dt>
<dd><p>Contains the name of each makefile that is parsed by <code>make</code>, in
the order in which it was parsed.  The name is appended just
before <code>make</code> begins to parse the makefile.  Thus, if the first
thing a makefile does is examine the last word in this variable, it
will be the name of the current makefile.  Once the current makefile
has used <code>include</code>, however, the last word will be the
just-included makefile.
</p>
<p>If a makefile named <code>Makefile</code> has this content:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">name1 := $(lastword $(MAKEFILE_LIST))

include inc.mk

name2 := $(lastword $(MAKEFILE_LIST))

all:
        @echo name1 = $(name1)
        @echo name2 = $(name2)
</pre></td></tr></table>

<p>then you would expect to see this output:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">name1 = Makefile
name2 = inc.mk
</pre></td></tr></table>

<a name="index-_002eDEFAULT_005fGOAL-_0028define-default-goal_0029"></a>
</dd>
<dt> <code>.DEFAULT_GOAL</code></dt>
<dd><p>Sets the default goal to be used if no targets were specified on the
command line (see section <a href="#Goals">Arguments to Specify the Goals</a>).  The
<code>.DEFAULT_GOAL</code> variable allows you to discover the current
default goal, restart the default goal selection algorithm by clearing
its value, or to explicitly set the default goal.  The following
example illustrates these cases:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"># Query the default goal.
ifeq ($(.DEFAULT_GOAL),)
  $(warning no default goal is set)
endif

.PHONY: foo
foo: ; @echo $@

$(warning default goal is $(.DEFAULT_GOAL))

# Reset the default goal.
.DEFAULT_GOAL :=

.PHONY: bar
bar: ; @echo $@

$(warning default goal is $(.DEFAULT_GOAL))

# Set our own.
.DEFAULT_GOAL := foo
</pre></td></tr></table>

<p>This makefile prints:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">no default goal is set
default goal is foo
default goal is bar
foo
</pre></td></tr></table>

<p>Note that assigning more than one target name to <code>.DEFAULT_GOAL</code> is
invalid and will result in an error.
</p>
<a name="index-MAKE_005fRESTARTS-_0028number-of-times-make-has-restarted_0029"></a>
</dd>
<dt> <code>MAKE_RESTARTS</code></dt>
<dd><p>This variable is set only if this instance of <code>make</code> has
restarted (see section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>): it
will contain the number of times this instance has restarted.  Note
this is not the same as recursion (counted by the <code>MAKELEVEL</code>
variable).  You should not set, modify, or export this variable.
</p>
<a name="index-MAKE_005fTERMOUT-_0028whether-stdout-is-a-terminal_0029"></a>
<a name="index-MAKE_005fTERMERR-_0028whether-stderr-is-a-terminal_0029"></a>
</dd>
<dt> <code>MAKE_TERMOUT</code></dt>
<dt> <code>MAKE_TERMERR</code></dt>
<dd><p>When <code>make</code> starts it will check whether stdout and stderr will
show their output on a terminal.  If so, it will set
<code>MAKE_TERMOUT</code> and <code>MAKE_TERMERR</code>, respectively, to the name
of the terminal device (or <code>true</code> if this cannot be determined).
If set these variables will be marked for export.  These variables
will not be changed by <code>make</code> and they will not be modified if
already set.
</p>
<p>These values can be used (particularly in combination with output
synchronization (see section <a href="#Parallel-Output">Output During Parallel Execution</a>) to determine whether <code>make</code> itself is writing to a
terminal; they can be tested to decide whether to force recipe
commands to generate colorized output for example.
</p>
<p>If you invoke a sub-<code>make</code> and redirect its stdout or stderr it
is your responsibility to reset or unexport these variables as well,
if your makefiles rely on them.
</p>
<a name="index-_002eRECIPEPREFIX-_0028change-the-recipe-prefix-character_0029"></a>
</dd>
<dt> <code>.RECIPEPREFIX</code></dt>
<dd><p>The first character of the value of this variable is used as the
character make assumes is introducing a recipe line.  If the variable
is empty (as it is by default) that character is the standard tab
character.  For example, this is a valid makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.RECIPEPREFIX = &gt;
all:
&gt; @echo Hello, world
</pre></td></tr></table>

<p>The value of <code>.RECIPEPREFIX</code> can be changed multiple times; once set
it stays in effect for all rules parsed until it is modified.
</p>
<a name="index-_002eVARIABLES-_0028list-of-variables_0029"></a>
</dd>
<dt> <code>.VARIABLES</code></dt>
<dd><p>Expands to a list of the <em>names</em> of all global variables defined
so far.  This includes variables which have empty values, as well as
built-in variables (see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>), but does not include any variables which are only
defined in a target-specific context.  Note that any value you assign
to this variable will be ignored; it will always return its special
value.
</p>

<a name="index-_002eFEATURES-_0028list-of-supported-features_0029"></a>
</dd>
<dt> <code>.FEATURES</code></dt>
<dd><p>Expands to a list of special features supported by this version of
<code>make</code>.  Possible values include, but are not limited to:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>archives</samp>&rsquo;</dt>
<dd><p>Supports <code>ar</code> (archive) files using special file name syntax.
See section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>.
</p>
</dd>
<dt> &lsquo;<samp>check-symlink</samp>&rsquo;</dt>
<dd><p>Supports the <code>-L</code> (<code>--check-symlink-times</code>) flag.
See section <a href="#Options-Summary">Summary of Options</a>.
</p>
</dd>
<dt> &lsquo;<samp>else-if</samp>&rsquo;</dt>
<dd><p>Supports &ldquo;else if&rdquo; non-nested conditionals.  See section <a href="#Conditional-Syntax">Syntax of Conditionals</a>.
</p>
</dd>
<dt> &lsquo;<samp>jobserver</samp>&rsquo;</dt>
<dd><p>Supports &ldquo;job server&rdquo; enhanced parallel builds.  See section <a href="#Parallel">Parallel Execution</a>.
</p>
</dd>
<dt> &lsquo;<samp>oneshell</samp>&rsquo;</dt>
<dd><p>Supports the <code>.ONESHELL</code> special target.  See section <a href="#One-Shell">Using One Shell</a>.
</p>
</dd>
<dt> &lsquo;<samp>order-only</samp>&rsquo;</dt>
<dd><p>Supports order-only prerequisites.  See section <a href="#Prerequisite-Types">Types of Prerequisites</a>.
</p>
</dd>
<dt> &lsquo;<samp>second-expansion</samp>&rsquo;</dt>
<dd><p>Supports secondary expansion of prerequisite lists.
</p>
</dd>
<dt> &lsquo;<samp>shortest-stem</samp>&rsquo;</dt>
<dd><p>Uses the &ldquo;shortest stem&rdquo; method of choosing which pattern, of
multiple applicable options, will be used.  See section <a href="#Pattern-Match">How Patterns Match</a>.
</p>
</dd>
<dt> &lsquo;<samp>target-specific</samp>&rsquo;</dt>
<dd><p>Supports target-specific and pattern-specific variable assignments.
See section <a href="#Target_002dspecific">Target-specific Variable Values</a>.
</p>
</dd>
<dt> &lsquo;<samp>undefine</samp>&rsquo;</dt>
<dd><p>Supports the <code>undefine</code> directive.  See section <a href="#Undefine-Directive">Undefining Variables</a>.
</p>
</dd>
<dt> &lsquo;<samp>guile</samp>&rsquo;</dt>
<dd><p>Has GNU Guile available as an embedded extension language.
See section <a href="#Guile-Integration">GNU Guile Integration</a>.
</p>
</dd>
<dt> &lsquo;<samp>load</samp>&rsquo;</dt>
<dd><p>Supports dynamically loadable objects for creating custom extensions.
See section <a href="#Loading-Objects">Loading Dynamic Objects</a>.
</p></dd>
</dl>

<a name="index-_002eINCLUDE_005fDIRS-_0028list-of-include-directories_0029"></a>
</dd>
<dt> <code>.INCLUDE_DIRS</code></dt>
<dd><p>Expands to a list of directories that <code>make</code> searches for
included makefiles (see section <a href="#Include">Including Other Makefiles</a>).
</p>
</dd>
</dl>

<hr size="6">
<a name="Conditionals"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Special-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditional-Example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Using-Variables" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Conditional-Parts-of-Makefiles"></a>
<h1 class="chapter">7. Conditional Parts of Makefiles</h1>

<a name="index-conditionals"></a>
<p>A <em>conditional</em> directive causes part of a makefile to be obeyed
or ignored depending on the values of variables.  Conditionals can
compare the value of one variable to another, or the value of a
variable to a constant string.  Conditionals control what <code>make</code>
actually &ldquo;sees&rdquo; in the makefile, so they <em>cannot</em> be used to
control recipes at the time of execution.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Conditional-Example">7.1 Example of a Conditional</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Example of a conditional
</td></tr>
<tr><td align="left" valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          The syntax of conditionals.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing-Flags">7.3 Conditionals that Test Flags</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Conditionals that test flags.
</td></tr>
</table>

<hr size="6">
<a name="Conditional-Example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Conditionals" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditional-Syntax" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Example-of-a-Conditional"></a>
<h2 class="section">7.1 Example of a Conditional</h2>

<p>The following example of a conditional tells <code>make</code> to use one
set of libraries if the <code>CC</code> variable is &lsquo;<samp>gcc</samp>&rsquo;, and a
different set of libraries otherwise.  It works by controlling which
of two recipe lines will be used for the rule.  The result is that
&lsquo;<samp>CC=gcc</samp>&rsquo; as an argument to <code>make</code> changes not only which
compiler is used but also which libraries are linked.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">libs_for_gcc = -lgnu
normal_libs =

foo: $(objects)
ifeq ($(CC),gcc)
        $(CC) -o foo $(objects) $(libs_for_gcc)
else
        $(CC) -o foo $(objects) $(normal_libs)
endif
</pre></td></tr></table>

<p>This conditional uses three directives: one <code>ifeq</code>, one <code>else</code>
and one <code>endif</code>.
</p>
<p>The <code>ifeq</code> directive begins the conditional, and specifies the
condition.  It contains two arguments, separated by a comma and surrounded
by parentheses.  Variable substitution is performed on both arguments and
then they are compared.  The lines of the makefile following the
<code>ifeq</code> are obeyed if the two arguments match; otherwise they are
ignored.
</p>
<p>The <code>else</code> directive causes the following lines to be obeyed if the
previous conditional failed.  In the example above, this means that the
second alternative linking command is used whenever the first alternative
is not used.  It is optional to have an <code>else</code> in a conditional.
</p>
<p>The <code>endif</code> directive ends the conditional.  Every conditional must
end with an <code>endif</code>.  Unconditional makefile text follows.
</p>
<p>As this example illustrates, conditionals work at the textual level:
the lines of the conditional are treated as part of the makefile, or
ignored, according to the condition.  This is why the larger syntactic
units of the makefile, such as rules, may cross the beginning or the
end of the conditional.
</p>
<p>When the variable <code>CC</code> has the value &lsquo;<samp>gcc</samp>&rsquo;, the above example has
this effect:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo: $(objects)
        $(CC) -o foo $(objects) $(libs_for_gcc)
</pre></td></tr></table>

<p>When the variable <code>CC</code> has any other value, the effect is this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo: $(objects)
        $(CC) -o foo $(objects) $(normal_libs)
</pre></td></tr></table>

<p>Equivalent results can be obtained in another way by conditionalizing a
variable assignment and then using the variable unconditionally:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">libs_for_gcc = -lgnu
normal_libs =

ifeq ($(CC),gcc)
  libs=$(libs_for_gcc)
else
  libs=$(normal_libs)
endif

foo: $(objects)
        $(CC) -o foo $(objects) $(libs)
</pre></td></tr></table>

<hr size="6">
<a name="Conditional-Syntax"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Conditional-Example" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Testing-Flags" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Syntax-of-Conditionals"></a>
<h2 class="section">7.2 Syntax of Conditionals</h2>
<a name="index-ifdef"></a>
<a name="index-ifeq"></a>
<a name="index-ifndef"></a>
<a name="index-ifneq"></a>
<a name="index-else"></a>
<a name="index-endif"></a>

<p>The syntax of a simple conditional with no <code>else</code> is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>conditional-directive</var>
<var>text-if-true</var>
endif
</pre></td></tr></table>

<p>The <var>text-if-true</var> may be any lines of text, to be considered as part
of the makefile if the condition is true.  If the condition is false, no
text is used instead.
</p>
<p>The syntax of a complex conditional is as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>conditional-directive</var>
<var>text-if-true</var>
else
<var>text-if-false</var>
endif
</pre></td></tr></table>

<p>or:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>conditional-directive-one</var>
<var>text-if-one-is-true</var>
else <var>conditional-directive-two</var>
<var>text-if-two-is-true</var>
else
<var>text-if-one-and-two-are-false</var>
endif
</pre></td></tr></table>

<p>There can be as many &ldquo;<code>else</code> <var>conditional-directive</var>&rdquo;
clauses as necessary.  Once a given condition is true,
<var>text-if-true</var> is used and no other clause is used; if no
condition is true then <var>text-if-false</var> is used.  The
<var>text-if-true</var> and <var>text-if-false</var> can be any number of lines
of text.
</p>
<p>The syntax of the <var>conditional-directive</var> is the same whether the
conditional is simple or complex; after an <code>else</code> or not.  There
are four different directives that test different conditions.  Here is
a table of them:
</p>
<dl compact="compact">
<dt> <code>ifeq (<var>arg1</var>, <var>arg2</var>)</code></dt>
<dt> <code>ifeq '<var>arg1</var>' '<var>arg2</var>'</code></dt>
<dt> <code>ifeq &quot;<var>arg1</var>&quot; &quot;<var>arg2</var>&quot;</code></dt>
<dt> <code>ifeq &quot;<var>arg1</var>&quot; '<var>arg2</var>'</code></dt>
<dt> <code>ifeq '<var>arg1</var>' &quot;<var>arg2</var>&quot;</code></dt>
<dd><p>Expand all variable references in <var>arg1</var> and <var>arg2</var> and
compare them.  If they are identical, the <var>text-if-true</var> is
effective; otherwise, the <var>text-if-false</var>, if any, is effective.
</p>
<p>Often you want to test if a variable has a non-empty value.  When the
value results from complex expansions of variables and functions,
expansions you would consider empty may actually contain whitespace
characters and thus are not seen as empty.  However, you can use the
<code>strip</code> function (see section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>) to avoid interpreting
whitespace as a non-empty value.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifeq ($(strip $(foo)),)
<var>text-if-empty</var>
endif
</pre></td></tr></table>

<p>will evaluate <var>text-if-empty</var> even if the expansion of
<code>$(foo)</code> contains whitespace characters.
</p>
</dd>
<dt> <code>ifneq (<var>arg1</var>, <var>arg2</var>)</code></dt>
<dt> <code>ifneq '<var>arg1</var>' '<var>arg2</var>'</code></dt>
<dt> <code>ifneq &quot;<var>arg1</var>&quot; &quot;<var>arg2</var>&quot;</code></dt>
<dt> <code>ifneq &quot;<var>arg1</var>&quot; '<var>arg2</var>'</code></dt>
<dt> <code>ifneq '<var>arg1</var>' &quot;<var>arg2</var>&quot;</code></dt>
<dd><p>Expand all variable references in <var>arg1</var> and <var>arg2</var> and
compare them.  If they are different, the <var>text-if-true</var> is
effective; otherwise, the <var>text-if-false</var>, if any, is effective.
</p>
</dd>
<dt> <code>ifdef <var>variable-name</var></code></dt>
<dd><p>The <code>ifdef</code> form takes the <em>name</em> of a variable as its
argument, not a reference to a variable.  If the value of that
variable has a non-empty value, the <var>text-if-true</var> is effective;
otherwise, the <var>text-if-false</var>, if any, is effective.  Variables
that have never been defined have an empty value.  The text
<var>variable-name</var> is expanded, so it could be a variable or function
that expands to the name of a variable.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">bar = true
foo = bar
ifdef $(foo)
frobozz = yes
endif
</pre></td></tr></table>

<p>The variable reference <code>$(foo)</code> is expanded, yielding <code>bar</code>,
which is considered to be the name of a variable.  The variable
<code>bar</code> is not expanded, but its value is examined to determine if
it is non-empty.
</p>
<p>Note that <code>ifdef</code> only tests whether a variable has a value.  It
does not expand the variable to see if that value is nonempty.
Consequently, tests using <code>ifdef</code> return true for all definitions
except those like <code>foo =</code>.  To test for an empty value, use
<code>ifeq ($(foo),)</code>.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">bar =
foo = $(bar)
ifdef foo
frobozz = yes
else
frobozz = no
endif
</pre></td></tr></table>

<p>sets &lsquo;<samp>frobozz</samp>&rsquo; to &lsquo;<samp>yes</samp>&rsquo;, while:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo =
ifdef foo
frobozz = yes
else
frobozz = no
endif
</pre></td></tr></table>

<p>sets &lsquo;<samp>frobozz</samp>&rsquo; to &lsquo;<samp>no</samp>&rsquo;.
</p>
</dd>
<dt> <code>ifndef <var>variable-name</var></code></dt>
<dd><p>If the variable <var>variable-name</var> has an empty value, the
<var>text-if-true</var> is effective; otherwise, the <var>text-if-false</var>,
if any, is effective.  The rules for expansion and testing of
<var>variable-name</var> are identical to the <code>ifdef</code> directive.
</p></dd>
</dl>

<p>Extra spaces are allowed and ignored at the beginning of the
conditional directive line, but a tab is not allowed.  (If the line
begins with a tab, it will be considered part of a recipe for a rule.)
Aside from this, extra spaces or tabs may be inserted with no effect
anywhere except within the directive name or within an argument.  A
comment starting with &lsquo;<samp>#</samp>&rsquo; may appear at the end of the line.
</p>
<p>The other two directives that play a part in a conditional are <code>else</code>
and <code>endif</code>.  Each of these directives is written as one word, with no
arguments.  Extra spaces are allowed and ignored at the beginning of the
line, and spaces or tabs at the end.  A comment starting with &lsquo;<samp>#</samp>&rsquo; may
appear at the end of the line.
</p>
<p>Conditionals affect which lines of the makefile <code>make</code> uses.  If
the condition is true, <code>make</code> reads the lines of the
<var>text-if-true</var> as part of the makefile; if the condition is false,
<code>make</code> ignores those lines completely.  It follows that syntactic
units of the makefile, such as rules, may safely be split across the
beginning or the end of the conditional.
</p>
<p><code>make</code> evaluates conditionals when it reads a makefile.
Consequently, you cannot use automatic variables in the tests of
conditionals because they are not defined until recipes are run
(see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<p>To prevent intolerable confusion, it is not permitted to start a
conditional in one makefile and end it in another.  However, you may
write an <code>include</code> directive within a conditional, provided you do
not attempt to terminate the conditional inside the included file.
</p>
<hr size="6">
<a name="Testing-Flags"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Conditional-Syntax" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Conditionals-that-Test-Flags"></a>
<h2 class="section">7.3 Conditionals that Test Flags</h2>

<p>You can write a conditional that tests <code>make</code> command flags such as
&lsquo;<samp>-t</samp>&rsquo; by using the variable <code>MAKEFLAGS</code> together with the
<code>findstring</code> function
(see section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>).
This is useful when <code>touch</code> is not enough to make a file appear up
to date.
</p>
<p>The <code>findstring</code> function determines whether one string appears as a
substring of another.  If you want to test for the &lsquo;<samp>-t</samp>&rsquo; flag,
use &lsquo;<samp>t</samp>&rsquo; as the first string and the value of <code>MAKEFLAGS</code> as
the other.
</p>
<p>For example, here is how to arrange to use &lsquo;<samp>ranlib -t</samp>&rsquo; to finish
marking an archive file up to date:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">archive.a: &hellip;
ifneq (,$(findstring t,$(MAKEFLAGS)))
        +touch archive.a
        +ranlib -t archive.a
else
        ranlib archive.a
endif
</pre></td></tr></table>

<p>The &lsquo;<samp>+</samp>&rsquo; prefix marks those recipe lines as &ldquo;recursive&rdquo; so that
they will be executed despite use of the &lsquo;<samp>-t</samp>&rsquo; flag.
See section <a href="#Recursion">Recursive Use of <code>make</code></a>.
</p>
<hr size="6">
<a name="Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Testing-Flags" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Syntax-of-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Conditionals" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Functions-for-Transforming-Text"></a>
<h1 class="chapter">8. Functions for Transforming Text</h1>
<a name="index-functions"></a>

<p><em>Functions</em> allow you to do text processing in the makefile to
compute the files to operate on or the commands to use in recipes.
You use a function in a <em>function call</em>, where you give the name
of the function and some text (the <em>arguments</em>) for the function
to operate on.  The result of the function&rsquo;s processing is substituted
into the makefile at the point of the call, just as a variable might
be substituted.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to write a function call.
</td></tr>
<tr><td align="left" valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              General-purpose text manipulation functions.
</td></tr>
<tr><td align="left" valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         Functions for manipulating file names.
</td></tr>
<tr><td align="left" valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Functions that implement conditions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Foreach-Function">8.5 The <code>foreach</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Repeat some text with controlled variation.
</td></tr>
<tr><td align="left" valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Write text to a file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Call-Function">8.7 The <code>call</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Expand a user-defined function.
</td></tr>
<tr><td align="left" valign="top"><a href="#Value-Function">8.8 The <code>value</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Return the un-expanded value of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Eval-Function">8.9 The <code>eval</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Evaluate the arguments as makefile syntax.
</td></tr>
<tr><td align="left" valign="top"><a href="#Origin-Function">8.10 The <code>origin</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Find where a variable got its value.
</td></tr>
<tr><td align="left" valign="top"><a href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Find out the flavor of a variable.
</td></tr>
<tr><td align="left" valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">      Functions that control how make runs.
</td></tr>
<tr><td align="left" valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Substitute the output of a shell command.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Function">8.14 The <code>guile</code> Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Use GNU Guile embedded scripting language.
</td></tr>
</table>

<hr size="6">
<a name="Syntax-of-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Text-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Function-Call-Syntax"></a>
<h2 class="section">8.1 Function Call Syntax</h2>
<a name="index-_0024_002c-in-function-call"></a>
<a name="index-dollar-sign-_0028_0024_0029_002c-in-function-call"></a>
<a name="index-arguments-of-functions"></a>
<a name="index-functions_002c-syntax-of"></a>

<p>A function call resembles a variable reference.  It can appear
anywhere a variable reference can appear, and it is expanded using the
same rules as variable references.  A function call looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(<var>function</var> <var>arguments</var>)
</pre></td></tr></table>

<p>or like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">${<var>function</var> <var>arguments</var>}
</pre></td></tr></table>

<p>Here <var>function</var> is a function name; one of a short list of names
that are part of <code>make</code>.  You can also essentially create your own
functions by using the <code>call</code> built-in function.
</p>
<p>The <var>arguments</var> are the arguments of the function.  They are
separated from the function name by one or more spaces or tabs, and if
there is more than one argument, then they are separated by commas.
Such whitespace and commas are not part of an argument&rsquo;s value.  The
delimiters which you use to surround the function call, whether
parentheses or braces, can appear in an argument only in matching pairs;
the other kind of delimiters may appear singly.  If the arguments
themselves contain other function calls or variable references, it is
wisest to use the same kind of delimiters for all the references; write
&lsquo;<samp>$(subst a,b,$(x))</samp>&rsquo;, not &lsquo;<samp>$(subst a,b,${x})</samp>&rsquo;.  This
is because it is clearer, and because only one type of delimiter is
matched to find the end of the reference.
</p>
<p>The text written for each argument is processed by substitution of
variables and function calls to produce the argument value, which
is the text on which the function acts.  The substitution is done in the
order in which the arguments appear.
</p>
<p>Commas and unmatched parentheses or braces cannot appear in the text of an
argument as written; leading spaces cannot appear in the text of the first
argument as written.  These characters can be put into the argument value
by variable substitution.  First define variables <code>comma</code> and
<code>space</code> whose values are isolated comma and space characters, then
substitute these variables where such characters are wanted, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">comma:= ,
empty:=
space:= $(empty) $(empty)
foo:= a b c
bar:= $(subst $(space),$(comma),$(foo))
# <span class="roman">bar is now `a,b,c'.</span>
</pre></td></tr></table>

<p>Here the <code>subst</code> function replaces each space with a comma, through
the value of <code>foo</code>, and substitutes the result.
</p>
<hr size="6">
<a name="Text-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Syntax-of-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#File-Name-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Functions-for-String-Substitution-and-Analysis"></a>
<h2 class="section">8.2 Functions for String Substitution and Analysis</h2>
<a name="index-functions_002c-for-text"></a>

<p>Here are some functions that operate on strings:
</p>
<dl compact="compact">
<dt> <code>$(subst <var>from</var>,<var>to</var>,<var>text</var>)</code></dt>
<dd><a name="index-subst-1"></a>
<p>Performs a textual replacement on the text <var>text</var>: each occurrence
of <var>from</var> is replaced by <var>to</var>.  The result is substituted for
the function call.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(subst ee,EE,feet on the street)
</pre></td></tr></table>

<p>produces the value &lsquo;<samp>fEEt on the strEEt</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(patsubst <var>pattern</var>,<var>replacement</var>,<var>text</var>)</code></dt>
<dd><a name="index-patsubst-1"></a>
<p>Finds whitespace-separated words in <var>text</var> that match
<var>pattern</var> and replaces them with <var>replacement</var>.  Here
<var>pattern</var> may contain a &lsquo;<samp>%</samp>&rsquo; which acts as a wildcard,
matching any number of any characters within a word.  If
<var>replacement</var> also contains a &lsquo;<samp>%</samp>&rsquo;, the &lsquo;<samp>%</samp>&rsquo; is replaced
by the text that matched the &lsquo;<samp>%</samp>&rsquo; in <var>pattern</var>.  Only the first
&lsquo;<samp>%</samp>&rsquo; in the <var>pattern</var> and <var>replacement</var> is treated this
way; any subsequent &lsquo;<samp>%</samp>&rsquo; is unchanged.
</p>
<a name="index-_0025_002c-quoting-in-patsubst"></a>
<a name="index-_0025_002c-quoting-with-_005c-_0028backslash_0029-2"></a>
<a name="index-_005c-_0028backslash_0029_002c-to-quote-_0025-2"></a>
<a name="index-backslash-_0028_005c_0029_002c-to-quote-_0025-2"></a>
<a name="index-quoting-_0025_002c-in-patsubst"></a>
<p>&lsquo;<samp>%</samp>&rsquo; characters in <code>patsubst</code> function invocations can be
quoted with preceding backslashes (&lsquo;<samp>\</samp>&rsquo;).  Backslashes that would
otherwise quote &lsquo;<samp>%</samp>&rsquo; characters can be quoted with more backslashes.
Backslashes that quote &lsquo;<samp>%</samp>&rsquo; characters or other backslashes are
removed from the pattern before it is compared file names or has a stem
substituted into it.  Backslashes that are not in danger of quoting
&lsquo;<samp>%</samp>&rsquo; characters go unmolested.  For example, the pattern
&lsquo;<tt>the\%weird\\%pattern\\</tt>&rsquo; has &lsquo;<samp>the%weird\</samp>&rsquo; preceding the
operative &lsquo;<samp>%</samp>&rsquo; character, and &lsquo;<samp>pattern\\</samp>&rsquo; following it.  The
final two backslashes are left alone because they cannot affect any
&lsquo;<samp>%</samp>&rsquo; character.
</p>
<p>Whitespace between words is folded into single space characters;
leading and trailing whitespace is discarded.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(patsubst %.c,%.o,x.c.c bar.c)
</pre></td></tr></table>

<p>produces the value &lsquo;<samp>x.c.o bar.o</samp>&rsquo;.
</p>
<p>Substitution references (see section <a href="#Substitution-Refs">Substitution References</a>) are a simpler way to get the effect of the <code>patsubst</code>
function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(<var>var</var>:<var>pattern</var>=<var>replacement</var>)
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(patsubst <var>pattern</var>,<var>replacement</var>,$(<var>var</var>))
</pre></td></tr></table>

<p>The second shorthand simplifies one of the most common uses of
<code>patsubst</code>: replacing the suffix at the end of file names.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(<var>var</var>:<var>suffix</var>=<var>replacement</var>)
</pre></td></tr></table>

<p>is equivalent to
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(patsubst %<var>suffix</var>,%<var>replacement</var>,$(<var>var</var>))
</pre></td></tr></table>

<p>For example, you might have a list of object files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects = foo.o bar.o baz.o
</pre></td></tr></table>

<p>To get the list of corresponding source files, you could simply write:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(objects:.o=.c)
</pre></td></tr></table>

<p>instead of using the general form:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(patsubst %.o,%.c,$(objects))
</pre></td></tr></table>

</dd>
<dt> <code>$(strip <var>string</var>)</code></dt>
<dd><a name="index-stripping-whitespace"></a>
<a name="index-whitespace_002c-stripping"></a>
<a name="index-spaces_002c-stripping"></a>
<a name="index-strip"></a>
<p>Removes leading and trailing whitespace from <var>string</var> and replaces
each internal sequence of one or more whitespace characters with a
single space.  Thus, &lsquo;<samp>$(strip a b  c )</samp>&rsquo; results in &lsquo;<samp>a b c</samp>&rsquo;.
</p>
<p>The function <code>strip</code> can be very useful when used in conjunction
with conditionals.  When comparing something with the empty string
&lsquo;<samp></samp>&rsquo; using <code>ifeq</code> or <code>ifneq</code>, you usually want a string of
just whitespace to match the empty string (see section <a href="#Conditionals">Conditional Parts of Makefiles</a>).
</p>
<p>Thus, the following may fail to have the desired results:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.PHONY: all
ifneq   &quot;$(needs_made)&quot; &quot;&quot;
all: $(needs_made)
else
all:;@echo 'Nothing to make!'
endif
</pre></td></tr></table>

<p>Replacing the variable reference &lsquo;<samp>$(needs_made)</samp>&rsquo; with the
function call &lsquo;<samp>$(strip $(needs_made))</samp>&rsquo; in the <code>ifneq</code>
directive would make it more robust.
</p>
</dd>
<dt> <code>$(findstring <var>find</var>,<var>in</var>)</code></dt>
<dd><a name="index-findstring"></a>
<a name="index-searching-for-strings"></a>
<a name="index-finding-strings"></a>
<a name="index-strings_002c-searching-for"></a>
<p>Searches <var>in</var> for an occurrence of <var>find</var>.  If it occurs, the
value is <var>find</var>; otherwise, the value is empty.  You can use this
function in a conditional to test for the presence of a specific
substring in a given string.  Thus, the two examples,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(findstring a,a b c)
$(findstring a,b c)
</pre></td></tr></table>

<p>produce the values &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp></samp>&rsquo; (the empty string),
respectively.  See section <a href="#Testing-Flags">Conditionals that Test Flags</a>, for a practical application of
<code>findstring</code>.
</p>
<a name="index-filter"></a>
<a name="index-filtering-words"></a>
<a name="index-words_002c-filtering"></a>
</dd>
<dt> <code>$(filter <var>pattern</var>&hellip;,<var>text</var>)</code></dt>
<dd><p>Returns all whitespace-separated words in <var>text</var> that <em>do</em> match
any of the <var>pattern</var> words, removing any words that <em>do not</em>
match.  The patterns are written using &lsquo;<samp>%</samp>&rsquo;, just like the patterns
used in the <code>patsubst</code> function above.
</p>
<p>The <code>filter</code> function can be used to separate out different types
of strings (such as file names) in a variable.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">sources := foo.c bar.c baz.s ugh.h
foo: $(sources)
        cc $(filter %.c %.s,$(sources)) -o foo
</pre></td></tr></table>

<p>says that &lsquo;<tt>foo</tt>&rsquo; depends of &lsquo;<tt>foo.c</tt>&rsquo;, &lsquo;<tt>bar.c</tt>&rsquo;,
&lsquo;<tt>baz.s</tt>&rsquo; and &lsquo;<tt>ugh.h</tt>&rsquo; but only &lsquo;<tt>foo.c</tt>&rsquo;, &lsquo;<tt>bar.c</tt>&rsquo; and
&lsquo;<tt>baz.s</tt>&rsquo; should be specified in the command to the
compiler.
</p>
</dd>
<dt> <code>$(filter-out <var>pattern</var>&hellip;,<var>text</var>)</code></dt>
<dd><a name="index-filter_002dout"></a>
<a name="index-filtering-out-words"></a>
<a name="index-words_002c-filtering-out"></a>
<p>Returns all whitespace-separated words in <var>text</var> that <em>do not</em>
match any of the <var>pattern</var> words, removing the words that <em>do</em>
match one or more.  This is the exact opposite of the <code>filter</code>
function.
</p>
<p>For example, given:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">objects=main1.o foo.o main2.o bar.o
mains=main1.o main2.o
</pre></td></tr></table>

<p>the following generates a list which contains all the object files not
in &lsquo;<samp>mains</samp>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(filter-out $(mains),$(objects))
</pre></td></tr></table>

<a name="index-sort"></a>
<a name="index-sorting-words"></a>
</dd>
<dt> <code>$(sort <var>list</var>)</code></dt>
<dd><p>Sorts the words of <var>list</var> in lexical order, removing duplicate
words.  The output is a list of words separated by single spaces.
Thus,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(sort foo bar lose)
</pre></td></tr></table>

<p>returns the value &lsquo;<samp>bar foo lose</samp>&rsquo;.
</p>
<a name="index-removing-duplicate-words"></a>
<a name="index-duplicate-words_002c-removing"></a>
<a name="index-words_002c-removing-duplicates"></a>
<p>Incidentally, since <code>sort</code> removes duplicate words, you can use
it for this purpose even if you don&rsquo;t care about the sort order.
</p>
</dd>
<dt> <code>$(word <var>n</var>,<var>text</var>)</code></dt>
<dd><a name="index-word"></a>
<a name="index-word_002c-selecting-a"></a>
<a name="index-selecting-a-word"></a>
<p>Returns the <var>n</var>th word of <var>text</var>.  The legitimate values of
<var>n</var> start from 1.  If <var>n</var> is bigger than the number of words
in <var>text</var>, the value is empty.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(word 2, foo bar baz)
</pre></td></tr></table>

<p>returns &lsquo;<samp>bar</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(wordlist <var>s</var>,<var>e</var>,<var>text</var>)</code></dt>
<dd><a name="index-wordlist"></a>
<a name="index-words_002c-selecting-lists-of"></a>
<a name="index-selecting-word-lists"></a>
<p>Returns the list of words in <var>text</var> starting with word <var>s</var> and
ending with word <var>e</var> (inclusive).  The legitimate values of <var>s</var>
start from 1; <var>e</var> may start from 0.  If <var>s</var> is bigger than the
number of words in <var>text</var>, the value is empty.  If <var>e</var> is
bigger than the number of words in <var>text</var>, words up to the end of
<var>text</var> are returned.  If <var>s</var> is greater than <var>e</var>, nothing
is returned.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(wordlist 2, 3, foo bar baz)
</pre></td></tr></table>

<p>returns &lsquo;<samp>bar baz</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(words <var>text</var>)</code></dt>
<dd><a name="index-words"></a>
<a name="index-words_002c-finding-number"></a>
<p>Returns the number of words in <var>text</var>.
Thus, the last word of <var>text</var> is
<code>$(word $(words <var>text</var>),<var>text</var>)</code>.
</p>
</dd>
<dt> <code>$(firstword <var>names</var>&hellip;)</code></dt>
<dd><a name="index-firstword"></a>
<a name="index-words_002c-extracting-first"></a>
<p>The argument <var>names</var> is regarded as a series of names, separated
by whitespace.  The value is the first name in the series.  The rest
of the names are ignored.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(firstword foo bar)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>foo</samp>&rsquo;.  Although <code>$(firstword
<var>text</var>)</code> is the same as <code>$(word 1,<var>text</var>)</code>, the
<code>firstword</code> function is retained for its simplicity.
</p>

</dd>
<dt> <code>$(lastword <var>names</var>&hellip;)</code></dt>
<dd><a name="index-lastword"></a>
<a name="index-words_002c-extracting-last"></a>
<p>The argument <var>names</var> is regarded as a series of names, separated
by whitespace.  The value is the last name in the series.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(lastword foo bar)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>bar</samp>&rsquo;.  Although <code>$(lastword
<var>text</var>)</code> is the same as <code>$(word $(words <var>text</var>),<var>text</var>)</code>,
the <code>lastword</code> function was added for its simplicity and better
performance.
</p></dd>
</dl>


<p>Here is a realistic example of the use of <code>subst</code> and
<code>patsubst</code>.  Suppose that a makefile uses the <code>VPATH</code> variable
to specify a list of directories that <code>make</code> should search for
prerequisite files
(see section <a href="#General-Search"><code>VPATH</code> Search Path for All Prerequisites</a>).
This example shows how to
tell the C compiler to search for header files in the same list of
directories.
</p>
<p>The value of <code>VPATH</code> is a list of directories separated by colons,
such as &lsquo;<samp>src:../headers</samp>&rsquo;.  First, the <code>subst</code> function is used to
change the colons to spaces:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(subst :, ,$(VPATH))
</pre></td></tr></table>

<p>This produces &lsquo;<samp>src ../headers</samp>&rsquo;.  Then <code>patsubst</code> is used to turn
each directory name into a &lsquo;<samp>-I</samp>&rsquo; flag.  These can be added to the
value of the variable <code>CFLAGS</code>, which is passed automatically to the C
compiler, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">override CFLAGS += $(patsubst %,-I%,$(subst :, ,$(VPATH)))
</pre></td></tr></table>

<p>The effect is to append the text &lsquo;<samp>-Isrc -I../headers</samp>&rsquo; to the
previously given value of <code>CFLAGS</code>.  The <code>override</code> directive is
used so that the new value is assigned even if the previous value of
<code>CFLAGS</code> was specified with a command argument (see section <a href="#Override-Directive">The <code>override</code> Directive</a>).
</p>
<hr size="6">
<a name="File-Name-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Text-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Conditional-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Functions-for-File-Names"></a>
<h2 class="section">8.3 Functions for File Names</h2>
<a name="index-functions_002c-for-file-names"></a>
<a name="index-file-name-functions"></a>

<p>Several of the built-in expansion functions relate specifically to
taking apart file names or lists of file names.
</p>
<p>Each of the following functions performs a specific transformation on a
file name.  The argument of the function is regarded as a series of file
names, separated by whitespace.  (Leading and trailing whitespace is
ignored.)  Each file name in the series is transformed in the same way and
the results are concatenated with single spaces between them.
</p>
<dl compact="compact">
<dt> <code>$(dir <var>names</var>&hellip;)</code></dt>
<dd><a name="index-dir"></a>
<a name="index-directory-part"></a>
<a name="index-file-name_002c-directory-part"></a>
<p>Extracts the directory-part of each file name in <var>names</var>.  The
directory-part of the file name is everything up through (and
including) the last slash in it.  If the file name contains no slash,
the directory part is the string &lsquo;<samp>./</samp>&rsquo;.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(dir src/foo.c hacks)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>src/ ./</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(notdir <var>names</var>&hellip;)</code></dt>
<dd><a name="index-notdir"></a>
<a name="index-file-name_002c-nondirectory-part"></a>
<a name="index-nondirectory-part"></a>
<p>Extracts all but the directory-part of each file name in <var>names</var>.
If the file name contains no slash, it is left unchanged.  Otherwise,
everything through the last slash is removed from it.
</p>
<p>A file name that ends with a slash becomes an empty string.  This is
unfortunate, because it means that the result does not always have the
same number of whitespace-separated file names as the argument had;
but we do not see any other valid alternative.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(notdir src/foo.c hacks)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>foo.c hacks</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(suffix <var>names</var>&hellip;)</code></dt>
<dd><a name="index-suffix"></a>
<a name="index-suffix_002c-function-to-find"></a>
<a name="index-file-name-suffix"></a>
<p>Extracts the suffix of each file name in <var>names</var>.  If the file name
contains a period, the suffix is everything starting with the last
period.  Otherwise, the suffix is the empty string.  This frequently
means that the result will be empty when <var>names</var> is not, and if
<var>names</var> contains multiple file names, the result may contain fewer
file names.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(suffix src/foo.c src-1.0/bar.c hacks)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>.c .c</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(basename <var>names</var>&hellip;)</code></dt>
<dd><a name="index-basename"></a>
<a name="index-basename-1"></a>
<a name="index-file-name_002c-basename-of"></a>
<p>Extracts all but the suffix of each file name in <var>names</var>.  If the
file name contains a period, the basename is everything starting up to
(and not including) the last period.  Periods in the directory part are
ignored.  If there is no period, the basename is the entire file name.
For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(basename src/foo.c src-1.0/bar hacks)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>src/foo src-1.0/bar hacks</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(addsuffix <var>suffix</var>,<var>names</var>&hellip;)</code></dt>
<dd><a name="index-addsuffix"></a>
<a name="index-suffix_002c-adding"></a>
<a name="index-file-name-suffix_002c-adding"></a>
<p>The argument <var>names</var> is regarded as a series of names, separated
by whitespace; <var>suffix</var> is used as a unit.  The value of
<var>suffix</var> is appended to the end of each individual name and the
resulting larger names are concatenated with single spaces between
them.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(addsuffix .c,foo bar)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>foo.c bar.c</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(addprefix <var>prefix</var>,<var>names</var>&hellip;)</code></dt>
<dd><a name="index-addprefix"></a>
<a name="index-prefix_002c-adding"></a>
<a name="index-file-name-prefix_002c-adding"></a>
<p>The argument <var>names</var> is regarded as a series of names, separated
by whitespace; <var>prefix</var> is used as a unit.  The value of
<var>prefix</var> is prepended to the front of each individual name and the
resulting larger names are concatenated with single spaces between
them.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(addprefix src/,foo bar)
</pre></td></tr></table>

<p>produces the result &lsquo;<samp>src/foo src/bar</samp>&rsquo;.
</p>
</dd>
<dt> <code>$(join <var>list1</var>,<var>list2</var>)</code></dt>
<dd><a name="index-join"></a>
<a name="index-joining-lists-of-words"></a>
<a name="index-words_002c-joining-lists"></a>
<p>Concatenates the two arguments word by word: the two first words (one
from each argument) concatenated form the first word of the result, the
two second words form the second word of the result, and so on.  So the
<var>n</var>th word of the result comes from the <var>n</var>th word of each
argument.  If one argument has more words that the other, the extra
words are copied unchanged into the result.
</p>
<p>For example, &lsquo;<samp>$(join a b,.c .o)</samp>&rsquo; produces &lsquo;<samp>a.c b.o</samp>&rsquo;.
</p>
<p>Whitespace between the words in the lists is not preserved; it is
replaced with a single space.
</p>
<p>This function can merge the results of the <code>dir</code> and
<code>notdir</code> functions, to produce the original list of files which
was given to those two functions.
</p>
</dd>
<dt> <code>$(wildcard <var>pattern</var>)</code></dt>
<dd><a name="index-wildcard-2"></a>
<a name="index-wildcard_002c-function"></a>
<p>The argument <var>pattern</var> is a file name pattern, typically containing
wildcard characters (as in shell file name patterns).  The result of
<code>wildcard</code> is a space-separated list of the names of existing files
that match the pattern.
See section <a href="#Wildcards">Using Wildcard Characters in File Names</a>.
</p>
</dd>
<dt> <code>$(realpath <var>names</var>&hellip;)</code></dt>
<dd><a name="index-realpath"></a>
<a name="index-realpath-1"></a>
<a name="index-file-name_002c-realpath-of"></a>
<p>For each file name in <var>names</var> return the canonical absolute name.
A canonical name does not contain any <code>.</code> or <code>..</code> components,
nor any repeated path separators (<code>/</code>) or symlinks.  In case of a
failure the empty string is returned.  Consult the <code>realpath(3)</code>
documentation for a list of possible failure causes.
</p>
</dd>
<dt> <code>$(abspath <var>names</var>&hellip;)</code></dt>
<dd><a name="index-abspath"></a>
<a name="index-abspath-1"></a>
<a name="index-file-name_002c-abspath-of"></a>
<p>For each file name in <var>names</var> return an absolute name that does
not contain any <code>.</code> or <code>..</code> components, nor any repeated path
separators (<code>/</code>).  Note that, in contrast to <code>realpath</code>
function, <code>abspath</code> does not resolve symlinks and does not require
the file names to refer to an existing file or directory.  Use the
<code>wildcard</code> function to test for existence.
</p></dd>
</dl>

<hr size="6">
<a name="Conditional-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#File-Name-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Foreach-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Functions-for-Conditionals"></a>
<h2 class="section">8.4 Functions for Conditionals</h2>
<a name="index-if"></a>
<a name="index-conditional-expansion"></a>
<p>There are three functions that provide conditional expansion.  A key
aspect of these functions is that not all of the arguments are
expanded initially.  Only those arguments which need to be expanded,
will be expanded.
</p>
<dl compact="compact">
<dt> <code>$(if <var>condition</var>,<var>then-part</var>[,<var>else-part</var>])</code></dt>
<dd><a name="index-if-1"></a>
<p>The <code>if</code> function provides support for conditional expansion in a
functional context (as opposed to the GNU <code>make</code> makefile
conditionals such as <code>ifeq</code> (see section <a href="#Conditional-Syntax">Syntax of Conditionals</a>)).
</p>
<p>The first argument, <var>condition</var>, first has all preceding and
trailing whitespace stripped, then is expanded.  If it expands to any
non-empty string, then the condition is considered to be true.  If it
expands to an empty string, the condition is considered to be false.
</p>
<p>If the condition is true then the second argument, <var>then-part</var>, is
evaluated and this is used as the result of the evaluation of the entire
<code>if</code> function.
</p>
<p>If the condition is false then the third argument, <var>else-part</var>, is
evaluated and this is the result of the <code>if</code> function.  If there is
no third argument, the <code>if</code> function evaluates to nothing (the
empty string).
</p>
<p>Note that only one of the <var>then-part</var> or the <var>else-part</var> will be
evaluated, never both.  Thus, either can contain side-effects (such as
<code>shell</code> function calls, etc.)
</p>
</dd>
<dt> <code>$(or <var>condition1</var>[,<var>condition2</var>[,<var>condition3</var>&hellip;]])</code></dt>
<dd><a name="index-or"></a>
<p>The <code>or</code> function provides a &ldquo;short-circuiting&rdquo; OR operation.
Each argument is expanded, in order.  If an argument expands to a
non-empty string the processing stops and the result of the expansion
is that string.  If, after all arguments are expanded, all of them are
false (empty), then the result of the expansion is the empty string.
</p>
</dd>
<dt> <code>$(and <var>condition1</var>[,<var>condition2</var>[,<var>condition3</var>&hellip;]])</code></dt>
<dd><a name="index-and"></a>
<p>The <code>and</code> function provides a &ldquo;short-circuiting&rdquo; AND operation.
Each argument is expanded, in order.  If an argument expands to an
empty string the processing stops and the result of the expansion is
the empty string.  If all arguments expand to a non-empty string then
the result of the expansion is the expansion of the last argument.
</p>
</dd>
</dl>

<hr size="6">
<a name="Foreach-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Conditional-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#File-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-foreach-Function"></a>
<h2 class="section">8.5 The <code>foreach</code> Function</h2>
<a name="index-foreach"></a>
<a name="index-words_002c-iterating-over"></a>

<p>The <code>foreach</code> function is very different from other functions.  It
causes one piece of text to be used repeatedly, each time with a different
substitution performed on it.  It resembles the <code>for</code> command in the
shell <code>sh</code> and the <code>foreach</code> command in the C-shell <code>csh</code>.
</p>
<p>The syntax of the <code>foreach</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(foreach <var>var</var>,<var>list</var>,<var>text</var>)
</pre></td></tr></table>

<p>The first two arguments, <var>var</var> and <var>list</var>, are expanded before
anything else is done; note that the last argument, <var>text</var>, is
<strong>not</strong> expanded at the same time.  Then for each word of the expanded
value of <var>list</var>, the variable named by the expanded value of <var>var</var>
is set to that word, and <var>text</var> is expanded.  Presumably <var>text</var>
contains references to that variable, so its expansion will be different
each time.
</p>
<p>The result is that <var>text</var> is expanded as many times as there are
whitespace-separated words in <var>list</var>.  The multiple expansions of
<var>text</var> are concatenated, with spaces between them, to make the result
of <code>foreach</code>.
</p>
<p>This simple example sets the variable &lsquo;<samp>files</samp>&rsquo; to the list of all files
in the directories in the list &lsquo;<samp>dirs</samp>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">dirs := a b c d
files := $(foreach dir,$(dirs),$(wildcard $(dir)/*))
</pre></td></tr></table>

<p>Here <var>text</var> is &lsquo;<samp>$(wildcard $(dir)/*)</samp>&rsquo;.  The first repetition
finds the value &lsquo;<samp>a</samp>&rsquo; for <code>dir</code>, so it produces the same result
as &lsquo;<samp>$(wildcard a/*)</samp>&rsquo;; the second repetition produces the result
of &lsquo;<samp>$(wildcard b/*)</samp>&rsquo;; and the third, that of &lsquo;<samp>$(wildcard c/*)</samp>&rsquo;.
</p>
<p>This example has the same result (except for setting &lsquo;<samp>dirs</samp>&rsquo;) as
the following example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">files := $(wildcard a/* b/* c/* d/*)
</pre></td></tr></table>

<p>When <var>text</var> is complicated, you can improve readability by giving it
a name, with an additional variable:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">find_files = $(wildcard $(dir)/*)
dirs := a b c d
files := $(foreach dir,$(dirs),$(find_files))
</pre></td></tr></table>

<p>Here we use the variable <code>find_files</code> this way.  We use plain &lsquo;<samp>=</samp>&rsquo;
to define a recursively-expanding variable, so that its value contains an
actual function call to be re-expanded under the control of <code>foreach</code>;
a simply-expanded variable would not do, since <code>wildcard</code> would be
called only once at the time of defining <code>find_files</code>.
</p>
<p>The <code>foreach</code> function has no permanent effect on the variable
<var>var</var>; its value and flavor after the <code>foreach</code> function call are
the same as they were beforehand.  The other values which are taken from
<var>list</var> are in effect only temporarily, during the execution of
<code>foreach</code>.  The variable <var>var</var> is a simply-expanded variable
during the execution of <code>foreach</code>.  If <var>var</var> was undefined
before the <code>foreach</code> function call, it is undefined after the call.
See section <a href="#Flavors">The Two Flavors of Variables</a>.
</p>
<p>You must take care when using complex variable expressions that result in
variable names because many strange things are valid variable names, but
are probably not what you intended.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">files := $(foreach Esta-escrito-en-espanol!,b c ch,$(find_files))
</pre></td></tr></table>

<p>might be useful if the value of <code>find_files</code> references the variable
whose name is &lsquo;<samp>Esta-escrito-en-espanol!</samp>&rsquo; (es un nombre bastante largo,
no?), but it is more likely to be a mistake.
</p>
<hr size="6">
<a name="File-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Foreach-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Call-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-file-Function"></a>
<h2 class="section">8.6 The <code>file</code> Function</h2>
<a name="index-file"></a>
<a name="index-writing-to-a-file"></a>
<a name="index-file_002c-writing-to"></a>
<a name="index-reading-from-a-file"></a>
<a name="index-file_002c-reading-from"></a>

<p>The <code>file</code> function allows the makefile to write to or read from
a file.  Two modes of writing are supported: overwrite, where the text
is written to the beginning of the file and any existing content is
lost, and append, where the text is written to the end of the file,
preserving the existing content.  In both cases the file is created if
it does not exist.  It is a fatal error if the file cannot be opened
for writing, or if the write operation fails.  The <code>file</code>
function expands to the empty string when writing to a file.
</p>
<p>When reading from a file, the <code>file</code> function expands to the
verbatim contents of the file, except that the final newline (if there
is one) will be stripped.  Attempting to read from a non-existent file
expands to the empty string.
</p>
<p>The syntax of the <code>file</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(file <var>op</var> <var>filename</var>[,<var>text</var>])
</pre></td></tr></table>

<p>When the <code>file</code> function is evaluated all its arguments are
expanded first, then the file indicated by <var>filename</var> will be
opened in the mode described by <var>op</var>.
</p>
<p>The operator <var>op</var> can be <code>&gt;</code> to indicate the file will be
overwritten with new content, <code>&gt;&gt;</code> to indicate the current
contents of the file will be appended to, or <code>&lt;</code> to indicate the
contents of the file will be read in.  The <var>filename</var> specifies
the file to be written to or read from.  There may optionally be
whitespace between the operator and the file name.
</p>
<p>When reading files, it is an error to provide a <var>text</var> value.
</p>
<p>When writing files, <var>text</var> will be written to the file.  If
<var>text</var> does not already end in a newline a final newline will be
written (even if <var>text</var> is the empty string).  If the <var>text</var>
argument is not given at all, nothing will be written.
</p>
<p>For example, the <code>file</code> function can be useful if your build
system has a limited command line size and your recipe runs a command
that can accept arguments from a file as well.  Many commands use the
convention that an argument prefixed with an <code>@</code> specifies a
file containing more arguments.  Then you might write your recipe in
this way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">program: $(OBJECTS)
        $(file &gt;$@.in,$^)
        $(CMD) $(CMDFLAGS) @$@.in
        @rm $@.in
</pre></td></tr></table>

<p>If the command required each argument to be on a separate line of the
input file, you might write your recipe like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">program: $(OBJECTS)
        $(file &gt;$@.in) $(foreach O,$^,$(file &gt;&gt;$@.in,$O))
        $(CMD) $(CMDFLAGS) @$@.in
        @rm $@.in
</pre></td></tr></table>

<hr size="6">
<a name="Call-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#File-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Value-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-call-Function"></a>
<h2 class="section">8.7 The <code>call</code> Function</h2>
<a name="index-call"></a>
<a name="index-functions_002c-user-defined"></a>
<a name="index-user-defined-functions"></a>

<p>The <code>call</code> function is unique in that it can be used to create new
parameterized functions.  You can write a complex expression as the
value of a variable, then use <code>call</code> to expand it with different
values.
</p>
<p>The syntax of the <code>call</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(call <var>variable</var>,<var>param</var>,<var>param</var>,&hellip;)
</pre></td></tr></table>

<p>When <code>make</code> expands this function, it assigns each <var>param</var> to
temporary variables <code>$(1)</code>, <code>$(2)</code>, etc.  The variable
<code>$(0)</code> will contain <var>variable</var>.  There is no maximum number of
parameter arguments.  There is no minimum, either, but it doesn&rsquo;t make
sense to use <code>call</code> with no parameters.
</p>
<p>Then <var>variable</var> is expanded as a <code>make</code> variable in the context
of these temporary assignments.  Thus, any reference to <code>$(1)</code> in
the value of <var>variable</var> will resolve to the first <var>param</var> in the
invocation of <code>call</code>.
</p>
<p>Note that <var>variable</var> is the <em>name</em> of a variable, not a
<em>reference</em> to that variable.  Therefore you would not normally use
a &lsquo;<samp>$</samp>&rsquo; or parentheses when writing it.  (You can, however, use a
variable reference in the name if you want the name not to be a
constant.)
</p>
<p>If <var>variable</var> is the name of a built-in function, the built-in function
is always invoked (even if a <code>make</code> variable by that name also
exists).
</p>
<p>The <code>call</code> function expands the <var>param</var> arguments before
assigning them to temporary variables.  This means that <var>variable</var>
values containing references to built-in functions that have special
expansion rules, like <code>foreach</code> or <code>if</code>, may not work as you
expect.
</p>
<p>Some examples may make this clearer.
</p>
<p>This macro simply reverses its arguments:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">reverse = $(2) $(1)

foo = $(call reverse,a,b)
</pre></td></tr></table>

<p>Here <var>foo</var> will contain &lsquo;<samp>b a</samp>&rsquo;.
</p>
<p>This one is slightly more interesting: it defines a macro to search for
the first instance of a program in <code>PATH</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">pathsearch = $(firstword $(wildcard $(addsuffix /$(1),$(subst :, ,$(PATH)))))

LS := $(call pathsearch,ls)
</pre></td></tr></table>

<p>Now the variable LS contains <code>/bin/ls</code> or similar.
</p>
<p>The <code>call</code> function can be nested.  Each recursive invocation gets
its own local values for <code>$(1)</code>, etc. that mask the values of
higher-level <code>call</code>.  For example, here is an implementation of a
<em>map</em> function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">map = $(foreach a,$(2),$(call $(1),$(a)))
</pre></td></tr></table>

<p>Now you can <var>map</var> a function that normally takes only one argument,
such as <code>origin</code>, to multiple values in one step:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">o = $(call map,origin,o map MAKE)
</pre></td></tr></table>

<p>and end up with <var>o</var> containing something like &lsquo;<samp>file file default</samp>&rsquo;.
</p>
<p>A final caution: be careful when adding whitespace to the arguments to
<code>call</code>.  As with other functions, any whitespace contained in the
second and subsequent arguments is kept; this can cause strange
effects.  It&rsquo;s generally safest to remove all extraneous whitespace when
providing parameters to <code>call</code>.
</p>
<hr size="6">
<a name="Value-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Call-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Eval-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-value-Function"></a>
<h2 class="section">8.8 The <code>value</code> Function</h2>
<a name="index-value-1"></a>
<a name="index-variables_002c-unexpanded-value"></a>

<p>The <code>value</code> function provides a way for you to use the value of a
variable <em>without</em> having it expanded.  Please note that this
does not undo expansions which have already occurred; for example if
you create a simply expanded variable its value is expanded during the
definition; in that case the <code>value</code> function will return the
same result as using the variable directly.
</p>
<p>The syntax of the <code>value</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(value <var>variable</var>)
</pre></td></tr></table>

<p>Note that <var>variable</var> is the <em>name</em> of a variable, not a
<em>reference</em> to that variable.  Therefore you would not normally
use a &lsquo;<samp>$</samp>&rsquo; or parentheses when writing it.  (You can, however, use
a variable reference in the name if you want the name not to be a
constant.)
</p>
<p>The result of this function is a string containing the value of
<var>variable</var>, without any expansion occurring.  For example, in this
makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">FOO = $PATH

all:
        @echo $(FOO)
        @echo $(value FOO)
</pre></td></tr></table>

<p>The first output line would be <code>ATH</code>, since the &ldquo;$P&rdquo; would be
expanded as a <code>make</code> variable, while the second output line would
be the current value of your <code>$PATH</code> environment variable, since
the <code>value</code> function avoided the expansion.
</p>
<p>The <code>value</code> function is most often used in conjunction with the
<code>eval</code> function (see section <a href="#Eval-Function">The <code>eval</code> Function</a>).
</p>
<hr size="6">
<a name="Eval-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Value-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Origin-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-eval-Function"></a>
<h2 class="section">8.9 The <code>eval</code> Function</h2>
<a name="index-eval"></a>
<a name="index-evaluating-makefile-syntax"></a>
<a name="index-makefile-syntax_002c-evaluating"></a>

<p>The <code>eval</code> function is very special: it allows you to define new
makefile constructs that are not constant; which are the result of
evaluating other variables and functions.  The argument to the
<code>eval</code> function is expanded, then the results of that expansion
are parsed as makefile syntax.  The expanded results can define new
<code>make</code> variables, targets, implicit or explicit rules, etc.
</p>
<p>The result of the <code>eval</code> function is always the empty string;
thus, it can be placed virtually anywhere in a makefile without
causing syntax errors.
</p>
<p>It&rsquo;s important to realize that the <code>eval</code> argument is expanded
<em>twice</em>; first by the <code>eval</code> function, then the results of
that expansion are expanded again when they are parsed as makefile
syntax.  This means you may need to provide extra levels of escaping
for &ldquo;$&rdquo; characters when using <code>eval</code>.  The <code>value</code>
function (see section <a href="#Value-Function">The <code>value</code> Function</a>) can sometimes be useful in these
situations, to circumvent unwanted expansions.
</p>
<p>Here is an example of how <code>eval</code> can be used; this example
combines a number of concepts and other functions.  Although it might
seem overly complex to use <code>eval</code> in this example, rather than
just writing out the rules, consider two things: first, the template
definition (in <code>PROGRAM_template</code>) could need to be much more
complex than it is here; and second, you might put the complex,
&ldquo;generic&rdquo; part of this example into another makefile, then include
it in all the individual makefiles.  Now your individual makefiles are
quite straightforward.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">PROGRAMS    = server client

server_OBJS = server.o server_priv.o server_access.o
server_LIBS = priv protocol

client_OBJS = client.o client_api.o client_mem.o
client_LIBS = protocol

# Everything after this is generic

.PHONY: all
all: $(PROGRAMS)

define PROGRAM_template =
 $(1): $$($(1)_OBJS) $$($(1)_LIBS:%=-l%)
 ALL_OBJS   += $$($(1)_OBJS)
endef

$(foreach prog,$(PROGRAMS),$(eval $(call PROGRAM_template,$(prog))))

$(PROGRAMS):
        $(LINK.o) $^ $(LDLIBS) -o $@

clean:
        rm -f $(ALL_OBJS) $(PROGRAMS)
</pre></td></tr></table>

<hr size="6">
<a name="Origin-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Eval-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Flavor-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-origin-Function"></a>
<h2 class="section">8.10 The <code>origin</code> Function</h2>
<a name="index-origin"></a>
<a name="index-variables_002c-origin-of"></a>
<a name="index-origin-of-variable"></a>

<p>The <code>origin</code> function is unlike most other functions in that it does
not operate on the values of variables; it tells you something <em>about</em>
a variable.  Specifically, it tells you where it came from.
</p>
<p>The syntax of the <code>origin</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(origin <var>variable</var>)
</pre></td></tr></table>

<p>Note that <var>variable</var> is the <em>name</em> of a variable to inquire about,
not a <em>reference</em> to that variable.  Therefore you would not normally
use a &lsquo;<samp>$</samp>&rsquo; or parentheses when writing it.  (You can, however, use a
variable reference in the name if you want the name not to be a constant.)
</p>
<p>The result of this function is a string telling you how the variable
<var>variable</var> was defined:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>undefined</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was never defined.
</p>
</dd>
<dt> &lsquo;<samp>default</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> has a default definition, as is usual with <code>CC</code>
and so on.  See section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>.
Note that if you have redefined a default variable, the <code>origin</code>
function will return the origin of the later definition.
</p>
</dd>
<dt> &lsquo;<samp>environment</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was inherited from the environment provided to
<code>make</code>.
</p>
</dd>
<dt> &lsquo;<samp>environment override</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was inherited from the environment provided to
<code>make</code>, and is overriding a setting for <var>variable</var> in the
makefile as a result of the &lsquo;<samp>-e</samp>&rsquo; option (see section <a href="#Options-Summary">Summary of Options</a>).
</p>
</dd>
<dt> &lsquo;<samp>file</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was defined in a makefile.
</p>
</dd>
<dt> &lsquo;<samp>command line</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was defined on the command line.
</p>
</dd>
<dt> &lsquo;<samp>override</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was defined with an <code>override</code> directive in a
makefile (see section <a href="#Override-Directive">The <code>override</code> Directive</a>).
</p>
</dd>
<dt> &lsquo;<samp>automatic</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> is an automatic variable defined for the execution
of the recipe for each rule (see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p></dd>
</dl>

<p>This information is primarily useful (other than for your curiosity) to
determine if you want to believe the value of a variable.  For example,
suppose you have a makefile &lsquo;<tt>foo</tt>&rsquo; that includes another makefile
&lsquo;<tt>bar</tt>&rsquo;.  You want a variable <code>bletch</code> to be defined in &lsquo;<tt>bar</tt>&rsquo;
if you run the command &lsquo;<samp>make -f bar</samp>&rsquo;, even if the environment contains
a definition of <code>bletch</code>.  However, if &lsquo;<tt>foo</tt>&rsquo; defined
<code>bletch</code> before including &lsquo;<tt>bar</tt>&rsquo;, you do not want to override that
definition.  This could be done by using an <code>override</code> directive in
&lsquo;<tt>foo</tt>&rsquo;, giving that definition precedence over the later definition in
&lsquo;<tt>bar</tt>&rsquo;; unfortunately, the <code>override</code> directive would also
override any command line definitions.  So, &lsquo;<tt>bar</tt>&rsquo; could
include:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifdef bletch
ifeq &quot;$(origin bletch)&quot; &quot;environment&quot;
bletch = barf, gag, etc.
endif
endif
</pre></td></tr></table>

<p>If <code>bletch</code> has been defined from the environment, this will redefine
it.
</p>
<p>If you want to override a previous definition of <code>bletch</code> if it came
from the environment, even under &lsquo;<samp>-e</samp>&rsquo;, you could instead write:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifneq &quot;$(findstring environment,$(origin bletch))&quot; &quot;&quot;
bletch = barf, gag, etc.
endif
</pre></td></tr></table>

<p>Here the redefinition takes place if &lsquo;<samp>$(origin bletch)</samp>&rsquo; returns either
&lsquo;<samp>environment</samp>&rsquo; or &lsquo;<samp>environment override</samp>&rsquo;.
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
<hr size="6">
<a name="Flavor-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Origin-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Make-Control-Functions" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-flavor-Function"></a>
<h2 class="section">8.11 The <code>flavor</code> Function</h2>
<a name="index-flavor"></a>
<a name="index-variables_002c-flavor-of"></a>
<a name="index-flavor-of-variable"></a>

<p>The <code>flavor</code> function, like the <code>origin</code> function, does not
operate on the values of variables but rather it tells you something
<em>about</em> a variable.  Specifically, it tells you the flavor of a
variable (see section <a href="#Flavors">The Two Flavors of Variables</a>).
</p>
<p>The syntax of the <code>flavor</code> function is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(flavor <var>variable</var>)
</pre></td></tr></table>

<p>Note that <var>variable</var> is the <em>name</em> of a variable to inquire about,
not a <em>reference</em> to that variable.  Therefore you would not normally
use a &lsquo;<samp>$</samp>&rsquo; or parentheses when writing it.  (You can, however, use a
variable reference in the name if you want the name not to be a constant.)
</p>
<p>The result of this function is a string that identifies the flavor of the
variable <var>variable</var>:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>undefined</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> was never defined.
</p>
</dd>
<dt> &lsquo;<samp>recursive</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> is a recursively expanded variable.
</p>
</dd>
<dt> &lsquo;<samp>simple</samp>&rsquo;</dt>
<dd>
<p>if <var>variable</var> is a simply expanded variable.
</p>
</dd>
</dl>

<hr size="6">
<a name="Make-Control-Functions"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Flavor-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Shell-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Functions-That-Control-Make"></a>
<h2 class="section">8.12 Functions That Control Make</h2>
<a name="index-functions_002c-for-controlling-make"></a>
<a name="index-controlling-make"></a>

<p>These functions control the way make runs.  Generally, they are used to
provide information to the user of the makefile or to cause make to stop
if some sort of environmental error is detected.
</p>
<dl compact="compact">
<dt> <code>$(error <var>text</var>&hellip;)</code></dt>
<dd><a name="index-error"></a>
<a name="index-error_002c-stopping-on"></a>
<a name="index-stopping-make"></a>
<p>Generates a fatal error where the message is <var>text</var>.  Note that
the error is generated whenever this function is evaluated.  So, if
you put it inside a recipe or on the right side of a recursive
variable assignment, it won&rsquo;t be evaluated until later.  The
<var>text</var> will be expanded before the error is generated.
</p>
<p>For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ifdef ERROR1
$(error error is $(ERROR1))
endif
</pre></td></tr></table>

<p>will generate a fatal error during the read of the makefile if the
<code>make</code> variable <code>ERROR1</code> is defined.  Or,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ERR = $(error found an error!)

.PHONY: err
err: ; $(ERR)
</pre></td></tr></table>

<p>will generate a fatal error while <code>make</code> is running, if the
<code>err</code> target is invoked.
</p>
</dd>
<dt> <code>$(warning <var>text</var>&hellip;)</code></dt>
<dd><a name="index-warning"></a>
<a name="index-warnings_002c-printing"></a>
<a name="index-printing-user-warnings"></a>
<p>This function works similarly to the <code>error</code> function, above,
except that <code>make</code> doesn&rsquo;t exit.  Instead, <var>text</var> is expanded
and the resulting message is displayed, but processing of the makefile
continues.
</p>
<p>The result of the expansion of this function is the empty string.
</p>
</dd>
<dt> <code>$(info <var>text</var>&hellip;)</code></dt>
<dd><a name="index-info"></a>
<a name="index-printing-messages"></a>
<p>This function does nothing more than print its (expanded) argument(s)
to standard output.  No makefile name or line number is added.  The
result of the expansion of this function is the empty string.
</p></dd>
</dl>

<hr size="6">
<a name="Shell-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Make-Control-Functions" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Function" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-shell-Function"></a>
<h2 class="section">8.13 The <code>shell</code> Function</h2>
<a name="index-shell"></a>
<a name="index-command-expansion"></a>
<a name="index-backquotes"></a>
<a name="index-shell-command_002c-function-for"></a>

<p>The <code>shell</code> function is unlike any other function other than the
<code>wildcard</code> function
(see section <a href="#Wildcard-Function">The Function <code>wildcard</code></a>) in that it
communicates with the world outside of <code>make</code>.
</p>
<p>The <code>shell</code> function performs the same function that backquotes
(&lsquo;<samp>`</samp>&rsquo;) perform in most shells: it does <em>command expansion</em>.
This means that it takes as an argument a shell command and evaluates
to the output of the command.  The only processing <code>make</code> does on
the result is to convert each newline (or carriage-return / newline
pair) to a single space.  If there is a trailing (carriage-return
and) newline it will simply be removed.
</p>
<p>The commands run by calls to the <code>shell</code> function are run when the
function calls are expanded (see section <a href="#Reading-Makefiles">How <code>make</code> Reads a Makefile</a>).  Because this function involves
spawning a new shell, you should carefully consider the performance
implications of using the <code>shell</code> function within recursively
expanded variables vs. simply expanded variables (see section <a href="#Flavors">The Two Flavors of Variables</a>).
</p>
<a name="index-_002eSHELLSTATUS"></a>
<p>After the <code>shell</code> function or &lsquo;<samp>!=</samp>&rsquo; assignment operator is
used, its exit status is placed in the <code>.SHELLSTATUS</code> variable.
</p>
<p>Here are some examples of the use of the <code>shell</code> function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">contents := $(shell cat foo)
</pre></td></tr></table>

<p>sets <code>contents</code> to the contents of the file &lsquo;<tt>foo</tt>&rsquo;, with a space
(rather than a newline) separating each line.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">files := $(shell echo *.c)
</pre></td></tr></table>

<p>sets <code>files</code> to the expansion of &lsquo;<samp>*.c</samp>&rsquo;.  Unless <code>make</code> is
using a very strange shell, this has the same result as
&lsquo;<samp>$(wildcard *.c)</samp>&rsquo; (as long as at least one &lsquo;<samp>.c</samp>&rsquo; file
exists).
</p>
<hr size="6">
<a name="Guile-Function"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Shell-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Functions" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-guile-Function"></a>
<h2 class="section">8.14 The <code>guile</code> Function</h2>
<a name="index-guile"></a>
<a name="index-Guile"></a>

<p>If GNU <code>make</code> is built with support for GNU Guile as an embedded
extension language then the <code>guile</code> function will be available.
The <code>guile</code> function takes one argument which is first expanded
by <code>make</code> in the normal fashion, then passed to the GNU Guile
evaluator.  The result of the evaluator is converted into a string and
used as the expansion of the <code>guile</code> function in the makefile.
See <a href="#Guile-Integration">GNU Guile Integration</a> for details on
writing extensions to <code>make</code> in Guile.
</p>
<p>You can determine whether GNU Guile support is available by checking
the <code>.FEATURES</code> variable for the word <var>guile</var>.
</p>
<hr size="6">
<a name="Running"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guile-Function" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Makefile-Arguments" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Functions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-to-Run-make"></a>
<h1 class="chapter">9. How to Run <code>make</code></h1>

<p>A makefile that says how to recompile a program can be used in more
than one way.  The simplest use is to recompile every file that is out
of date.  Usually, makefiles are written so that if you run
<code>make</code> with no arguments, it does just that.
</p>
<p>But you might want to update only some of the files; you might want to use
a different compiler or different compiler options; you might want just to
find out which files are out of date without changing them.
</p>
<p>By giving arguments when you run <code>make</code>, you can do any of these
things and many others.
</p>
<a name="index-exit-status-of-make"></a>
<p>The exit status of <code>make</code> is always one of three values:
</p><dl compact="compact">
<dt> <code>0</code></dt>
<dd><p>The exit status is zero if <code>make</code> is successful.
</p></dd>
<dt> <code>2</code></dt>
<dd><p>The exit status is two if <code>make</code> encounters any errors.
It will print messages describing the particular errors.
</p></dd>
<dt> <code>1</code></dt>
<dd><p>The exit status is one if you use the &lsquo;<samp>-q</samp>&rsquo; flag and <code>make</code>
determines that some target is not already up to date.
See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.
</p></dd>
</dl>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to specify which makefile to use.
</td></tr>
<tr><td align="left" valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                       How to use goal arguments to specify which
                                  parts of the makefile to use.
</td></tr>
<tr><td align="left" valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to use mode flags to specify what
                                  kind of thing to do with the recipes
                                  in the makefile other than simply
                                  execute them.
</td></tr>
<tr><td align="left" valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        How to avoid recompiling certain files.
</td></tr>
<tr><td align="left" valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                  How to override a variable to specify
                                  an alternate compiler and other things.
</td></tr>
<tr><td align="left" valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                     How to proceed past some errors, to
                                  test compilation.
</td></tr>
<tr><td align="left" valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<hr size="6">
<a name="Makefile-Arguments"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Running" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Goals" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arguments-to-Specify-the-Makefile"></a>
<h2 class="section">9.1 Arguments to Specify the Makefile</h2>
<a name="index-_002d_002dfile-1"></a>
<a name="index-_002d_002dmakefile-1"></a>
<a name="index-_002df-1"></a>

<p>The way to specify the name of the makefile is with the &lsquo;<samp>-f</samp>&rsquo; or
&lsquo;<samp>--file</samp>&rsquo; option (&lsquo;<samp>--makefile</samp>&rsquo; also works).  For example,
&lsquo;<samp>-f altmake</samp>&rsquo; says to use the file &lsquo;<tt>altmake</tt>&rsquo; as the makefile.
</p>
<p>If you use the &lsquo;<samp>-f</samp>&rsquo; flag several times and follow each &lsquo;<samp>-f</samp>&rsquo;
with an argument, all the specified files are used jointly as
makefiles.
</p>
<p>If you do not use the &lsquo;<samp>-f</samp>&rsquo; or &lsquo;<samp>--file</samp>&rsquo; flag, the default is
to try &lsquo;<tt>GNUmakefile</tt>&rsquo;, &lsquo;<tt>makefile</tt>&rsquo;, and &lsquo;<tt>Makefile</tt>&rsquo;, in
that order, and use the first of these three which exists or can be made
(see section <a href="#Makefiles">Writing Makefiles</a>).
</p>
<hr size="6">
<a name="Goals"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Makefile-Arguments" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Instead-of-Execution" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Arguments-to-Specify-the-Goals"></a>
<h2 class="section">9.2 Arguments to Specify the Goals</h2>
<a name="index-goal_002c-how-to-specify"></a>

<p>The <em>goals</em> are the targets that <code>make</code> should strive ultimately
to update.  Other targets are updated as well if they appear as
prerequisites of goals, or prerequisites of prerequisites of goals, etc.
</p>
<p>By default, the goal is the first target in the makefile (not counting
targets that start with a period).  Therefore, makefiles are usually
written so that the first target is for compiling the entire program or
programs they describe.  If the first rule in the makefile has several
targets, only the first target in the rule becomes the default goal, not
the whole list.  You can manage the selection of the default goal from
within your makefile using the <code>.DEFAULT_GOAL</code> variable
(see section <a href="#Special-Variables">Other Special Variables</a>).
</p>
<p>You can also specify a different goal or goals with command line
arguments to <code>make</code>.  Use the name of the goal as an argument.
If you specify several goals, <code>make</code> processes each of them in
turn, in the order you name them.
</p>
<p>Any target in the makefile may be specified as a goal (unless it
starts with &lsquo;<samp>-</samp>&rsquo; or contains an &lsquo;<samp>=</samp>&rsquo;, in which case it will be
parsed as a switch or variable definition, respectively).  Even
targets not in the makefile may be specified, if <code>make</code> can find
implicit rules that say how to make them.
</p>
<a name="index-MAKECMDGOALS"></a>
<p><code>Make</code> will set the special variable <code>MAKECMDGOALS</code> to the
list of goals you specified on the command line.  If no goals were given
on the command line, this variable is empty.  Note that this variable
should be used only in special circumstances.
</p>
<p>An example of appropriate use is to avoid including &lsquo;<tt>.d</tt>&rsquo; files
during <code>clean</code> rules (see section <a href="#Automatic-Prerequisites">Generating Prerequisites Automatically</a>), so
<code>make</code> won&rsquo;t create them only to immediately remove them
again:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">sources = foo.c bar.c

ifneq ($(MAKECMDGOALS),clean)
include $(sources:.c=.d)
endif
</pre></td></tr></table>

<p>One use of specifying a goal is if you want to compile only a part of
the program, or only one of several programs.  Specify as a goal each
file that you wish to remake.  For example, consider a directory containing
several programs, with a makefile that starts like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.PHONY: all
all: size nm ld ar as
</pre></td></tr></table>

<p>If you are working on the program <code>size</code>, you might want to say
&lsquo;<samp>make size</samp>&rsquo; so that only the files of that program are recompiled.
</p>
<p>Another use of specifying a goal is to make files that are not normally
made.  For example, there may be a file of debugging output, or a
version of the program that is compiled specially for testing, which has
a rule in the makefile but is not a prerequisite of the default goal.
</p>
<p>Another use of specifying a goal is to run the recipe associated with
a phony target (see section <a href="#Phony-Targets">Phony Targets</a>) or empty target (see section <a href="#Empty-Targets">Empty Target Files to Record Events</a>).  Many makefiles contain
a phony target named &lsquo;<tt>clean</tt>&rsquo; which deletes everything except source
files.  Naturally, this is done only if you request it explicitly with
&lsquo;<samp>make clean</samp>&rsquo;.  Following is a list of typical phony and empty
target names.  @xref{Standard Targets}, for a detailed list of all the
standard target names which GNU software packages use.
</p>
<dl compact="compact">
<dt> &lsquo;<tt>all</tt>&rsquo;</dt>
<dd><a name="index-all-_0028standard-target_0029"></a>
<p>Make all the top-level targets the makefile knows about.
</p>
</dd>
<dt> &lsquo;<tt>clean</tt>&rsquo;</dt>
<dd><a name="index-clean-_0028standard-target_0029"></a>
<p>Delete all files that are normally created by running <code>make</code>.
</p>
</dd>
<dt> &lsquo;<tt>mostlyclean</tt>&rsquo;</dt>
<dd><a name="index-mostlyclean-_0028standard-target_0029"></a>
<p>Like &lsquo;<samp>clean</samp>&rsquo;, but may refrain from deleting a few files that people
normally don&rsquo;t want to recompile.  For example, the &lsquo;<samp>mostlyclean</samp>&rsquo;
target for GCC does not delete &lsquo;<tt>libgcc.a</tt>&rsquo;, because recompiling it
is rarely necessary and takes a lot of time.
</p>
</dd>
<dt> &lsquo;<tt>distclean</tt>&rsquo;</dt>
<dd><a name="index-distclean-_0028standard-target_0029"></a>
</dd>
<dt> &lsquo;<tt>realclean</tt>&rsquo;</dt>
<dd><a name="index-realclean-_0028standard-target_0029"></a>
</dd>
<dt> &lsquo;<tt>clobber</tt>&rsquo;</dt>
<dd><a name="index-clobber-_0028standard-target_0029"></a>
<p>Any of these targets might be defined to delete <em>more</em> files than
&lsquo;<samp>clean</samp>&rsquo; does.  For example, this would delete configuration files
or links that you would normally create as preparation for compilation,
even if the makefile itself cannot create these files.
</p>
</dd>
<dt> &lsquo;<tt>install</tt>&rsquo;</dt>
<dd><a name="index-install-_0028standard-target_0029"></a>
<p>Copy the executable file into a directory that users typically search
for commands; copy any auxiliary files that the executable uses into
the directories where it will look for them.
</p>
</dd>
<dt> &lsquo;<tt>print</tt>&rsquo;</dt>
<dd><a name="index-print-_0028standard-target_0029"></a>
<p>Print listings of the source files that have changed.
</p>
</dd>
<dt> &lsquo;<tt>tar</tt>&rsquo;</dt>
<dd><a name="index-tar-_0028standard-target_0029"></a>
<p>Create a tar file of the source files.
</p>
</dd>
<dt> &lsquo;<tt>shar</tt>&rsquo;</dt>
<dd><a name="index-shar-_0028standard-target_0029"></a>
<p>Create a shell archive (shar file) of the source files.
</p>
</dd>
<dt> &lsquo;<tt>dist</tt>&rsquo;</dt>
<dd><a name="index-dist-_0028standard-target_0029"></a>
<p>Create a distribution file of the source files.  This might
be a tar file, or a shar file, or a compressed version of one of the
above, or even more than one of the above.
</p>
</dd>
<dt> &lsquo;<tt>TAGS</tt>&rsquo;</dt>
<dd><a name="index-TAGS-_0028standard-target_0029"></a>
<p>Update a tags table for this program.
</p>
</dd>
<dt> &lsquo;<tt>check</tt>&rsquo;</dt>
<dd><a name="index-check-_0028standard-target_0029"></a>
</dd>
<dt> &lsquo;<tt>test</tt>&rsquo;</dt>
<dd><a name="index-test-_0028standard-target_0029"></a>
<p>Perform self tests on the program this makefile builds.
</p></dd>
</dl>

<hr size="6">
<a name="Instead-of-Execution"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Goals" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Avoiding-Compilation" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Instead-of-Executing-Recipes"></a>
<h2 class="section">9.3 Instead of Executing Recipes</h2>
<a name="index-execution_002c-instead-of"></a>
<a name="index-recipes_002c-instead-of-executing"></a>

<p>The makefile tells <code>make</code> how to tell whether a target is up to date,
and how to update each target.  But updating the targets is not always
what you want.  Certain options specify other activities for <code>make</code>.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>-n</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--just-print</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--dry-run</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--recon</samp>&rsquo;</dt>
<dd><a name="index-_002d_002djust_002dprint-1"></a>
<a name="index-_002d_002ddry_002drun-1"></a>
<a name="index-_002d_002drecon-1"></a>
<a name="index-_002dn-1"></a>

<p>&ldquo;No-op&rdquo;.  Causes <code>make</code> to print the recipes that are needed to
make the targets up to date, but not actually execute them.  Note that
some recipes are still executed, even with this flag (see section <a href="#MAKE-Variable">How the <code>MAKE</code> Variable Works</a>).  Also any recipes
needed to update included makefiles are still executed
(see section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>).
</p>
</dd>
<dt> &lsquo;<samp>-t</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--touch</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dtouch"></a>
<a name="index-touching-files"></a>
<a name="index-target_002c-touching"></a>
<a name="index-_002dt"></a>

<p>&ldquo;Touch&rdquo;.  Marks targets as up to date without actually changing
them.  In other words, <code>make</code> pretends to update the targets but
does not really change their contents; instead only their modified
times are updated.
</p>
</dd>
<dt> &lsquo;<samp>-q</samp>&rsquo;</dt>
<dt> &lsquo;<samp>--question</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dquestion"></a>
<a name="index-_002dq"></a>
<a name="index-question-mode"></a>

<p>&ldquo;Question&rdquo;.  Silently check whether the targets are up to date, but
do not execute recipes; the exit code shows whether any updates are
needed.
</p>
</dd>
<dt> &lsquo;<samp>-W <var>file</var></samp>&rsquo;</dt>
<dt> &lsquo;<samp>--what-if=<var>file</var></samp>&rsquo;</dt>
<dt> &lsquo;<samp>--assume-new=<var>file</var></samp>&rsquo;</dt>
<dt> &lsquo;<samp>--new-file=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dwhat_002dif"></a>
<a name="index-_002dW"></a>
<a name="index-_002d_002dassume_002dnew"></a>
<a name="index-_002d_002dnew_002dfile"></a>
<a name="index-what-if"></a>
<a name="index-files_002c-assuming-new"></a>

<p>&ldquo;What if&rdquo;.  Each &lsquo;<samp>-W</samp>&rsquo; flag is followed by a file name.  The given
files&rsquo; modification times are recorded by <code>make</code> as being the present
time, although the actual modification times remain the same.
You can use the &lsquo;<samp>-W</samp>&rsquo; flag in conjunction with the &lsquo;<samp>-n</samp>&rsquo; flag
to see what would happen if you were to modify specific files.
</p></dd>
</dl>

<p>With the &lsquo;<samp>-n</samp>&rsquo; flag, <code>make</code> prints the recipe that it would
normally execute but usually does not execute it.
</p>
<p>With the &lsquo;<samp>-t</samp>&rsquo; flag, <code>make</code> ignores the recipes in the rules
and uses (in effect) the command <code>touch</code> for each target that needs to
be remade.  The <code>touch</code> command is also printed, unless &lsquo;<samp>-s</samp>&rsquo; or
<code>.SILENT</code> is used.  For speed, <code>make</code> does not actually invoke
the program <code>touch</code>.  It does the work directly.
</p>
<p>With the &lsquo;<samp>-q</samp>&rsquo; flag, <code>make</code> prints nothing and executes no
recipes, but the exit status code it returns is zero if and only if the
targets to be considered are already up to date.  If the exit status is
one, then some updating needs to be done.  If <code>make</code> encounters an
error, the exit status is two, so you can distinguish an error from a
target that is not up to date.
</p>
<p>It is an error to use more than one of these three flags in the same
invocation of <code>make</code>.
</p>
<a name="index-_002b_002c-and-recipe-execution"></a>
<p>The &lsquo;<samp>-n</samp>&rsquo;, &lsquo;<samp>-t</samp>&rsquo;, and &lsquo;<samp>-q</samp>&rsquo; options do not affect recipe
lines that begin with &lsquo;<samp>+</samp>&rsquo; characters or contain the strings
&lsquo;<samp>$(MAKE)</samp>&rsquo; or &lsquo;<samp>${MAKE}</samp>&rsquo;.  Note that only the line containing
the &lsquo;<samp>+</samp>&rsquo; character or the strings &lsquo;<samp>$(MAKE)</samp>&rsquo; or &lsquo;<samp>${MAKE}</samp>&rsquo;
is run regardless of these options.  Other lines in the same rule are
not run unless they too begin with &lsquo;<samp>+</samp>&rsquo; or contain &lsquo;<samp>$(MAKE)</samp>&rsquo; or
&lsquo;<samp>${MAKE}</samp>&rsquo; (See section <a href="#MAKE-Variable">How the <code>MAKE</code> Variable Works</a>.)
</p>
<a name="index-phony-targets-and-recipe-execution"></a>
<p>The &lsquo;<samp>-t</samp>&rsquo; flag prevents phony targets (see section <a href="#Phony-Targets">Phony Targets</a>) from
being updated, unless there are recipe lines beginning with &lsquo;<samp>+</samp>&rsquo;
or containing &lsquo;<samp>$(MAKE)</samp>&rsquo; or &lsquo;<samp>${MAKE}</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>-W</samp>&rsquo; flag provides two features:
</p>
<ul>
<li>
If you also use the &lsquo;<samp>-n</samp>&rsquo; or &lsquo;<samp>-q</samp>&rsquo; flag, you can see what
<code>make</code> would do if you were to modify some files.

</li><li>
Without the &lsquo;<samp>-n</samp>&rsquo; or &lsquo;<samp>-q</samp>&rsquo; flag, when <code>make</code> is actually
executing recipes, the &lsquo;<samp>-W</samp>&rsquo; flag can direct <code>make</code> to act as
if some files had been modified, without actually running the recipes
for those files.
</li></ul>

<p>Note that the options &lsquo;<samp>-p</samp>&rsquo; and &lsquo;<samp>-v</samp>&rsquo; allow you to obtain other
information about <code>make</code> or about the makefiles in use
(see section <a href="#Options-Summary">Summary of Options</a>).
</p>
<hr size="6">
<a name="Avoiding-Compilation"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Instead-of-Execution" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Overriding" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Avoiding-Recompilation-of-Some-Files"></a>
<h2 class="section">9.4 Avoiding Recompilation of Some Files</h2>
<a name="index-_002do"></a>
<a name="index-_002d_002dold_002dfile"></a>
<a name="index-_002d_002dassume_002dold"></a>
<a name="index-files_002c-assuming-old"></a>
<a name="index-files_002c-avoiding-recompilation-of"></a>
<a name="index-recompilation_002c-avoiding"></a>

<p>Sometimes you may have changed a source file but you do not want to
recompile all the files that depend on it.  For example, suppose you add
a macro or a declaration to a header file that many other files depend
on.  Being conservative, <code>make</code> assumes that any change in the
header file requires recompilation of all dependent files, but you know
that they do not need to be recompiled and you would rather not waste
the time waiting for them to compile.
</p>
<p>If you anticipate the problem before changing the header file, you can
use the &lsquo;<samp>-t</samp>&rsquo; flag.  This flag tells <code>make</code> not to run the
recipes in the rules, but rather to mark the target up to date by
changing its last-modification date.  You would follow this procedure:
</p>
<ol>
<li>
Use the command &lsquo;<samp>make</samp>&rsquo; to recompile the source files that really
need recompilation, ensuring that the object files are up-to-date
before you begin.

</li><li>
Make the changes in the header files.

</li><li>
Use the command &lsquo;<samp>make -t</samp>&rsquo; to mark all the object files as
up to date.  The next time you run <code>make</code>, the changes in the
header files will not cause any recompilation.
</li></ol>

<p>If you have already changed the header file at a time when some files
do need recompilation, it is too late to do this.  Instead, you can
use the &lsquo;<samp>-o <var>file</var></samp>&rsquo; flag, which marks a specified file as
&ldquo;old&rdquo; (see section <a href="#Options-Summary">Summary of Options</a>).  This means
that the file itself will not be remade, and nothing else will be
remade on its account.  Follow this procedure:
</p>
<ol>
<li>
Recompile the source files that need compilation for reasons independent
of the particular header file, with &lsquo;<samp>make -o <var>headerfile</var></samp>&rsquo;.
If several header files are involved, use a separate &lsquo;<samp>-o</samp>&rsquo; option
for each header file.

</li><li>
Touch all the object files with &lsquo;<samp>make -t</samp>&rsquo;.
</li></ol>

<hr size="6">
<a name="Overriding"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Avoiding-Compilation" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Testing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Overriding-Variables"></a>
<h2 class="section">9.5 Overriding Variables</h2>
<a name="index-overriding-variables-with-arguments"></a>
<a name="index-variables_002c-overriding-with-arguments"></a>
<a name="index-command-line-variables"></a>
<a name="index-variables_002c-command-line"></a>

<p>An argument that contains &lsquo;<samp>=</samp>&rsquo; specifies the value of a variable:
&lsquo;<samp><var>v</var>=<var>x</var></samp>&rsquo; sets the value of the variable <var>v</var> to <var>x</var>.
If you specify a value in this way, all ordinary assignments of the same
variable in the makefile are ignored; we say they have been
<em>overridden</em> by the command line argument.
</p>
<p>The most common way to use this facility is to pass extra flags to
compilers.  For example, in a properly written makefile, the variable
<code>CFLAGS</code> is included in each recipe that runs the C compiler, so a
file &lsquo;<tt>foo.c</tt>&rsquo; would be compiled something like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -c $(CFLAGS) foo.c
</pre></td></tr></table>

<p>Thus, whatever value you set for <code>CFLAGS</code> affects each compilation
that occurs.  The makefile probably specifies the usual value for
<code>CFLAGS</code>, like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">CFLAGS=-g
</pre></td></tr></table>

<p>Each time you run <code>make</code>, you can override this value if you
wish.  For example, if you say &lsquo;<samp>make CFLAGS='-g -O'</samp>&rsquo;, each C
compilation will be done with &lsquo;<samp>cc -c -g -O</samp>&rsquo;.  (This also
illustrates how you can use quoting in the shell to enclose spaces and
other special characters in the value of a variable when you override
it.)
</p>
<p>The variable <code>CFLAGS</code> is only one of many standard variables that
exist just so that you can change them this way.  See section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>, for a complete list.
</p>
<p>You can also program the makefile to look at additional variables of your
own, giving the user the ability to control other aspects of how the
makefile works by changing the variables.
</p>
<p>When you override a variable with a command line argument, you can
define either a recursively-expanded variable or a simply-expanded
variable.  The examples shown above make a recursively-expanded
variable; to make a simply-expanded variable, write &lsquo;<samp>:=</samp>&rsquo; or
&lsquo;<samp>::=</samp>&rsquo; instead of &lsquo;<samp>=</samp>&rsquo;.  But, unless you want to include a
variable reference or function call in the <em>value</em> that you
specify, it makes no difference which kind of variable you create.
</p>
<p>There is one way that the makefile can change a variable that you have
overridden.  This is to use the <code>override</code> directive, which is a line
that looks like this: &lsquo;<samp>override <var>variable</var> = <var>value</var></samp>&rsquo;
(see section <a href="#Override-Directive">The <code>override</code> Directive</a>).
</p>
<hr size="6">
<a name="Testing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Overriding" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Options-Summary" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Testing-the-Compilation-of-a-Program"></a>
<h2 class="section">9.6 Testing the Compilation of a Program</h2>
<a name="index-testing-compilation"></a>
<a name="index-compilation_002c-testing"></a>

<p>Normally, when an error happens in executing a shell command, <code>make</code>
gives up immediately, returning a nonzero status.  No further recipes are
executed for any target.  The error implies that the goal cannot be
correctly remade, and <code>make</code> reports this as soon as it knows.
</p>
<p>When you are compiling a program that you have just changed, this is not
what you want.  Instead, you would rather that <code>make</code> try compiling
every file that can be tried, to show you as many compilation errors
as possible.
</p>
<a name="index-_002dk-1"></a>
<a name="index-_002d_002dkeep_002dgoing-1"></a>
<p>On these occasions, you should use the &lsquo;<samp>-k</samp>&rsquo; or
&lsquo;<samp>--keep-going</samp>&rsquo; flag.  This tells <code>make</code> to continue to
consider the other prerequisites of the pending targets, remaking them
if necessary, before it gives up and returns nonzero status.  For
example, after an error in compiling one object file, &lsquo;<samp>make -k</samp>&rsquo;
will continue compiling other object files even though it already
knows that linking them will be impossible.  In addition to continuing
after failed shell commands, &lsquo;<samp>make -k</samp>&rsquo; will continue as much as
possible after discovering that it does not know how to make a target
or prerequisite file.  This will always cause an error message, but
without &lsquo;<samp>-k</samp>&rsquo;, it is a fatal error (see section <a href="#Options-Summary">Summary of Options</a>).
</p>
<p>The usual behavior of <code>make</code> assumes that your purpose is to get the
goals up to date; once <code>make</code> learns that this is impossible, it might
as well report the failure immediately.  The &lsquo;<samp>-k</samp>&rsquo; flag says that the
real purpose is to test as much as possible of the changes made in the
program, perhaps to find several independent problems so that you can
correct them all before the next attempt to compile.  This is why Emacs&rsquo;
<kbd>M-x compile</kbd> command passes the &lsquo;<samp>-k</samp>&rsquo; flag by default.
</p>
<hr size="6">
<a name="Options-Summary"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Testing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Running" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Summary-of-Options"></a>
<h2 class="section">9.7 Summary of Options</h2>
<a name="index-options"></a>
<a name="index-flags"></a>
<a name="index-switches"></a>

<p>Here is a table of all the options <code>make</code> understands:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>-b</samp>&rsquo;</dt>
<dd><a name="index-_002db"></a>
</dd>
<dt> &lsquo;<samp>-m</samp>&rsquo;</dt>
<dd><a name="index-_002dm"></a>
<p>These options are ignored for compatibility with other versions of <code>make</code>.
</p>
</dd>
<dt> &lsquo;<samp>-B</samp>&rsquo;</dt>
<dd><a name="index-_002dB"></a>
</dd>
<dt> &lsquo;<samp>--always-make</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dalways_002dmake"></a>
<p>Consider all targets out-of-date.  GNU <code>make</code> proceeds to
consider targets and their prerequisites using the normal algorithms;
however, all targets so considered are always remade regardless of the
status of their prerequisites.  To avoid infinite recursion, if
<code>MAKE_RESTARTS</code> (see section <a href="#Special-Variables">Other Special Variables</a>) is set to a number greater than 0 this option is disabled
when considering whether to remake makefiles (see section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>).
</p>
</dd>
<dt> &lsquo;<samp>-C <var>dir</var></samp>&rsquo;</dt>
<dd><a name="index-_002dC-1"></a>
</dd>
<dt> &lsquo;<samp>--directory=<var>dir</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002ddirectory-1"></a>
<p>Change to directory <var>dir</var> before reading the makefiles.  If multiple
&lsquo;<samp>-C</samp>&rsquo; options are specified, each is interpreted relative to the
previous one: &lsquo;<samp>-C / -C etc</samp>&rsquo; is equivalent to &lsquo;<samp>-C /etc</samp>&rsquo;.
This is typically used with recursive invocations of <code>make</code>
(see section <a href="#Recursion">Recursive Use of <code>make</code></a>).
</p>
</dd>
<dt> &lsquo;<samp>-d</samp>&rsquo;</dt>
<dd><a name="index-_002dd"></a>

<p>Print debugging information in addition to normal processing.  The
debugging information says which files are being considered for
remaking, which file-times are being compared and with what results,
which files actually need to be remade, which implicit rules are
considered and which are applied&mdash;everything interesting about how
<code>make</code> decides what to do.  The <code>-d</code> option is equivalent to
&lsquo;<samp>--debug=a</samp>&rsquo; (see below).
</p>
</dd>
<dt> &lsquo;<samp>--debug[=<var>options</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002d_002ddebug"></a>

<p>Print debugging information in addition to normal processing.  Various
levels and types of output can be chosen.  With no arguments, print the
&ldquo;basic&rdquo; level of debugging.  Possible arguments are below; only the
first character is considered, and values must be comma- or
space-separated.
</p>
<dl compact="compact">
<dt> <code>a (<i>all</i>)</code></dt>
<dd><p>All types of debugging output are enabled.  This is equivalent to using
&lsquo;<samp>-d</samp>&rsquo;.
</p>
</dd>
<dt> <code>b (<i>basic</i>)</code></dt>
<dd><p>Basic debugging prints each target that was found to be out-of-date, and
whether the build was successful or not.
</p>
</dd>
<dt> <code>v (<i>verbose</i>)</code></dt>
<dd><p>A level above &lsquo;<samp>basic</samp>&rsquo;; includes messages about which makefiles were
parsed, prerequisites that did not need to be rebuilt, etc.  This option
also enables &lsquo;<samp>basic</samp>&rsquo; messages.
</p>
</dd>
<dt> <code>i (<i>implicit</i>)</code></dt>
<dd><p>Prints messages describing the implicit rule searches for each target.
This option also enables &lsquo;<samp>basic</samp>&rsquo; messages.
</p>
</dd>
<dt> <code>j (<i>jobs</i>)</code></dt>
<dd><p>Prints messages giving details on the invocation of specific sub-commands.
</p>
</dd>
<dt> <code>m (<i>makefile</i>)</code></dt>
<dd><p>By default, the above messages are not enabled while trying to remake
the makefiles.  This option enables messages while rebuilding makefiles,
too.  Note that the &lsquo;<samp>all</samp>&rsquo; option does enable this option.  This
option also enables &lsquo;<samp>basic</samp>&rsquo; messages.
</p>
</dd>
<dt> <code>n (<i>none</i>)</code></dt>
<dd><p>Disable all debugging currently enabled.  If additional debugging
flags are encountered after this they will still take effect.
</p></dd>
</dl>

</dd>
<dt> &lsquo;<samp>-e</samp>&rsquo;</dt>
<dd><a name="index-_002de"></a>
</dd>
<dt> &lsquo;<samp>--environment-overrides</samp>&rsquo;</dt>
<dd><a name="index-_002d_002denvironment_002doverrides"></a>
<p>Give variables taken from the environment precedence
over variables from makefiles.
See section <a href="#Environment">Variables from the Environment</a>.
</p>
</dd>
<dt> &lsquo;<samp>-E <var>string</var></samp>&rsquo;</dt>
<dd><a name="index-_002dE"></a>
</dd>
<dt> &lsquo;<samp>--eval=<var>string</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002deval"></a>

<p>Evaluate <var>string</var> as makefile syntax.  This is a command-line
version of the <code>eval</code> function (see section <a href="#Eval-Function">The <code>eval</code> Function</a>).  The
evaluation is performed after the default rules and variables have
been defined, but before any makefiles are read.
</p>
</dd>
<dt> &lsquo;<samp>-f <var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002df-2"></a>
</dd>
<dt> &lsquo;<samp>--file=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dfile-2"></a>
</dd>
<dt> &lsquo;<samp>--makefile=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dmakefile-2"></a>
<p>Read the file named <var>file</var> as a makefile.
See section <a href="#Makefiles">Writing Makefiles</a>.
</p>
</dd>
<dt> &lsquo;<samp>-h</samp>&rsquo;</dt>
<dd><a name="index-_002dh"></a>
</dd>
<dt> &lsquo;<samp>--help</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dhelp"></a>

<p>Remind you of the options that <code>make</code> understands and then exit.
</p>
</dd>
<dt> &lsquo;<samp>-i</samp>&rsquo;</dt>
<dd><a name="index-_002di-1"></a>
</dd>
<dt> &lsquo;<samp>--ignore-errors</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dignore_002derrors-1"></a>
<p>Ignore all errors in recipes executed to remake files.
See section <a href="#Errors">Errors in Recipes</a>.
</p>
</dd>
<dt> &lsquo;<samp>-I <var>dir</var></samp>&rsquo;</dt>
<dd><a name="index-_002dI-1"></a>
</dd>
<dt> &lsquo;<samp>--include-dir=<var>dir</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dinclude_002ddir-1"></a>
<p>Specifies a directory <var>dir</var> to search for included makefiles.
See section <a href="#Include">Including Other Makefiles</a>.  If several &lsquo;<samp>-I</samp>&rsquo;
options are used to specify several directories, the directories are
searched in the order specified.
</p>
</dd>
<dt> &lsquo;<samp>-j [<var>jobs</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002dj-1"></a>
</dd>
<dt> &lsquo;<samp>--jobs[=<var>jobs</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002d_002djobs-1"></a>
<p>Specifies the number of recipes (jobs) to run simultaneously.  With no
argument, <code>make</code> runs as many recipes simultaneously as possible.
If there is more than one &lsquo;<samp>-j</samp>&rsquo; option, the last one is effective.
See section <a href="#Parallel">Parallel Execution</a>, for more information on how
recipes are run.  Note that this option is ignored on MS-DOS.
</p>
</dd>
<dt> &lsquo;<samp>-k</samp>&rsquo;</dt>
<dd><a name="index-_002dk-2"></a>
</dd>
<dt> &lsquo;<samp>--keep-going</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dkeep_002dgoing-2"></a>
<p>Continue as much as possible after an error.  While the target that
failed, and those that depend on it, cannot be remade, the other
prerequisites of these targets can be processed all the same.
See section <a href="#Testing">Testing the Compilation of a Program</a>.
</p>
</dd>
<dt> &lsquo;<samp>-l [<var>load</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002dl"></a>
</dd>
<dt> &lsquo;<samp>--load-average[=<var>load</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dload_002daverage-1"></a>
</dd>
<dt> &lsquo;<samp>--max-load[=<var>load</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dmax_002dload-1"></a>
<p>Specifies that no new recipes should be started if there are other
recipes running and the load average is at least <var>load</var> (a
floating-point number).  With no argument, removes a previous load
limit.  See section <a href="#Parallel">Parallel Execution</a>.
</p>
</dd>
<dt> &lsquo;<samp>-L</samp>&rsquo;</dt>
<dd><a name="index-_002dL"></a>
</dd>
<dt> &lsquo;<samp>--check-symlink-times</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dcheck_002dsymlink_002dtimes"></a>
<p>On systems that support symbolic links, this option causes <code>make</code>
to consider the timestamps on any symbolic links in addition to the
timestamp on the file referenced by those links.  When this option is
provided, the most recent timestamp among the file and the symbolic
links is taken as the modification time for this target file.
</p>
</dd>
<dt> &lsquo;<samp>-n</samp>&rsquo;</dt>
<dd><a name="index-_002dn-2"></a>
</dd>
<dt> &lsquo;<samp>--just-print</samp>&rsquo;</dt>
<dd><a name="index-_002d_002djust_002dprint-2"></a>
</dd>
<dt> &lsquo;<samp>--dry-run</samp>&rsquo;</dt>
<dd><a name="index-_002d_002ddry_002drun-2"></a>
</dd>
<dt> &lsquo;<samp>--recon</samp>&rsquo;</dt>
<dd><a name="index-_002d_002drecon-2"></a>

<p>Print the recipe that would be executed, but do not execute it (except
in certain circumstances).
See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.
</p>
</dd>
<dt> &lsquo;<samp>-o <var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002do-1"></a>
</dd>
<dt> &lsquo;<samp>--old-file=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dold_002dfile-1"></a>
</dd>
<dt> &lsquo;<samp>--assume-old=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dassume_002dold-1"></a>
<p>Do not remake the file <var>file</var> even if it is older than its
prerequisites, and do not remake anything on account of changes in
<var>file</var>.  Essentially the file is treated as very old and its rules
are ignored.  See section <a href="#Avoiding-Compilation">Avoiding Recompilation of Some Files</a>.
</p>
</dd>
<dt> &lsquo;<samp>-O[<var>type</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002dO-1"></a>
</dd>
<dt> &lsquo;<samp>--output-sync[=<var>type</var>]</samp>&rsquo;</dt>
<dd><a name="index-_002d_002doutput_002dsync-1"></a>
<a name="index-output-during-parallel-execution-1"></a>
<a name="index-parallel-execution_002c-output-during-1"></a>
<p>Ensure that the complete output from each recipe is printed in one
uninterrupted sequence.  This option is only useful when using the
<code>--jobs</code> option to run multiple recipes simultaneously
(see section <a href="#Parallel">Parallel Execution</a>)  Without this option output
will be displayed as it is generated by the recipes.
</p>
<p>With no type or the type &lsquo;<samp>target</samp>&rsquo;, output from the entire recipe
of each target is grouped together.  With the type &lsquo;<samp>line</samp>&rsquo;, output
from each line in the recipe is grouped together.  With the type
&lsquo;<samp>recurse</samp>&rsquo;, the output from an entire recursive make is grouped
together.  With the type &lsquo;<samp>none</samp>&rsquo;, no output synchronization is
performed.  See section <a href="#Parallel-Output">Output During Parallel Execution</a>.
</p>
</dd>
<dt> &lsquo;<samp>-p</samp>&rsquo;</dt>
<dd><a name="index-_002dp"></a>
</dd>
<dt> &lsquo;<samp>--print-data-base</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dprint_002ddata_002dbase"></a>
<a name="index-data-base-of-make-rules"></a>
<a name="index-predefined-rules-and-variables_002c-printing"></a>
<p>Print the data base (rules and variable values) that results from
reading the makefiles; then execute as usual or as otherwise
specified.  This also prints the version information given by the
&lsquo;<samp>-v</samp>&rsquo; switch (see below).  To print the data base without trying
to remake any files, use &lsquo;<samp>make -qp</samp>&rsquo;.  To print the data base
of predefined rules and variables, use &lsquo;<samp>make -p -f /dev/null</samp>&rsquo;.
The data base output contains file name and line number information for
recipe and variable definitions, so it can be a useful debugging tool
in complex environments.
</p>
</dd>
<dt> &lsquo;<samp>-q</samp>&rsquo;</dt>
<dd><a name="index-_002dq-1"></a>
</dd>
<dt> &lsquo;<samp>--question</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dquestion-1"></a>
<p>&ldquo;Question mode&rdquo;.  Do not run any recipes, or print anything; just
return an exit status that is zero if the specified targets are already
up to date, one if any remaking is required, or two if an error is
encountered.  See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.
</p>
</dd>
<dt> &lsquo;<samp>-r</samp>&rsquo;</dt>
<dd><a name="index-_002dr"></a>
</dd>
<dt> &lsquo;<samp>--no-builtin-rules</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dno_002dbuiltin_002drules"></a>
<p>Eliminate use of the built-in implicit rules (see section <a href="#Implicit-Rules">Using Implicit Rules</a>).  You can still define your own by writing
pattern rules (see section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>).  The &lsquo;<samp>-r</samp>&rsquo; option also clears out the default list of
suffixes for suffix rules (see section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>).  But you can still define your own suffixes with a rule for
<code>.SUFFIXES</code>, and then define your own suffix rules.  Note that only
<em>rules</em> are affected by the <code>-r</code> option; default variables
remain in effect (see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>); see the &lsquo;<samp>-R</samp>&rsquo; option below.
</p>
</dd>
<dt> &lsquo;<samp>-R</samp>&rsquo;</dt>
<dd><a name="index-_002dR"></a>
</dd>
<dt> &lsquo;<samp>--no-builtin-variables</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dno_002dbuiltin_002dvariables"></a>
<p>Eliminate use of the built-in rule-specific variables (see section <a href="#Implicit-Variables">Variables Used by Implicit Rules</a>).  You can still define
your own, of course.  The &lsquo;<samp>-R</samp>&rsquo; option also automatically enables
the &lsquo;<samp>-r</samp>&rsquo; option (see above), since it doesn&rsquo;t make sense to have
implicit rules without any definitions for the variables that they use.
</p>
</dd>
<dt> &lsquo;<samp>-s</samp>&rsquo;</dt>
<dd><a name="index-_002ds-1"></a>
</dd>
<dt> &lsquo;<samp>--silent</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dsilent-1"></a>
</dd>
<dt> &lsquo;<samp>--quiet</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dquiet-1"></a>

<p>Silent operation; do not print the recipes as they are executed.
See section <a href="#Echoing">Recipe Echoing</a>.
</p>
</dd>
<dt> &lsquo;<samp>-S</samp>&rsquo;</dt>
<dd><a name="index-_002dS"></a>
</dd>
<dt> &lsquo;<samp>--no-keep-going</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dno_002dkeep_002dgoing"></a>
</dd>
<dt> &lsquo;<samp>--stop</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dstop"></a>

<p>Cancel the effect of the &lsquo;<samp>-k</samp>&rsquo; option.  This is never necessary
except in a recursive <code>make</code> where &lsquo;<samp>-k</samp>&rsquo; might be inherited
from the top-level <code>make</code> via <code>MAKEFLAGS</code>
(see section <a href="#Recursion">Recursive Use of <code>make</code></a>)
or if you set &lsquo;<samp>-k</samp>&rsquo; in <code>MAKEFLAGS</code> in your environment.
</p>
</dd>
<dt> &lsquo;<samp>-t</samp>&rsquo;</dt>
<dd><a name="index-_002dt-1"></a>
</dd>
<dt> &lsquo;<samp>--touch</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dtouch-1"></a>

<p>Touch files (mark them up to date without really changing them)
instead of running their recipes.  This is used to pretend that the
recipes were done, in order to fool future invocations of
<code>make</code>.  See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.
</p>
</dd>
<dt> &lsquo;<samp>--trace</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dtrace"></a>
<p>Show tracing information for <code>make</code> execution.  Prints the entire
recipe to be executed, even for recipes that are normally silent (due
to <code>.SILENT</code> or &lsquo;<samp>@</samp>&rsquo;).  Also prints the makefile name and
line number where the recipe was defined, and information on why the
target is being rebuilt.
</p>
</dd>
<dt> &lsquo;<samp>-v</samp>&rsquo;</dt>
<dd><a name="index-_002dv"></a>
</dd>
<dt> &lsquo;<samp>--version</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dversion"></a>
<p>Print the version of the <code>make</code> program plus a copyright, a list
of authors, and a notice that there is no warranty; then exit.
</p>
</dd>
<dt> &lsquo;<samp>-w</samp>&rsquo;</dt>
<dd><a name="index-_002dw"></a>
</dd>
<dt> &lsquo;<samp>--print-directory</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dprint_002ddirectory"></a>
<p>Print a message containing the working directory both before and after
executing the makefile.  This may be useful for tracking down errors
from complicated nests of recursive <code>make</code> commands.
See section <a href="#Recursion">Recursive Use of <code>make</code></a>.  (In practice, you
rarely need to specify this option since &lsquo;<samp>make</samp>&rsquo; does it for you;
see <a href="#g_t_002dw-Option">The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a>.)
</p>
</dd>
<dt> &lsquo;<samp>--no-print-directory</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dno_002dprint_002ddirectory-1"></a>
<p>Disable printing of the working directory under <code>-w</code>.
This option is useful when <code>-w</code> is turned on automatically,
but you do not want to see the extra messages.
See section <a href="#g_t_002dw-Option">The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a>.
</p>
</dd>
<dt> &lsquo;<samp>-W <var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002dW-1"></a>
</dd>
<dt> &lsquo;<samp>--what-if=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dwhat_002dif-1"></a>
</dd>
<dt> &lsquo;<samp>--new-file=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dnew_002dfile-1"></a>
</dd>
<dt> &lsquo;<samp>--assume-new=<var>file</var></samp>&rsquo;</dt>
<dd><a name="index-_002d_002dassume_002dnew-1"></a>
<p>Pretend that the target <var>file</var> has just been modified.  When used
with the &lsquo;<samp>-n</samp>&rsquo; flag, this shows you what would happen if you were
to modify that file.  Without &lsquo;<samp>-n</samp>&rsquo;, it is almost the same as
running a <code>touch</code> command on the given file before running
<code>make</code>, except that the modification time is changed only in the
imagination of <code>make</code>.
See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.
</p>
</dd>
<dt> &lsquo;<samp>--warn-undefined-variables</samp>&rsquo;</dt>
<dd><a name="index-_002d_002dwarn_002dundefined_002dvariables"></a>
<a name="index-variables_002c-warning-for-undefined"></a>
<a name="index-undefined-variables_002c-warning-message"></a>
<p>Issue a warning message whenever <code>make</code> sees a reference to an
undefined variable.  This can be helpful when you are trying to debug
makefiles which use variables in complex ways.
</p></dd>
</dl>

<hr size="6">
<a name="Implicit-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Options-Summary" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Using-Implicit" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Running" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Implicit-Rules"></a>
<h1 class="chapter">10. Using Implicit Rules</h1>
<a name="index-implicit-rule"></a>
<a name="index-rule_002c-implicit"></a>

<p>Certain standard ways of remaking target files are used very often.  For
example, one customary way to make an object file is from a C source file
using the C compiler, <code>cc</code>.
</p>
<p><em>Implicit rules</em> tell <code>make</code> how to use customary techniques so
that you do not have to specify them in detail when you want to use
them.  For example, there is an implicit rule for C compilation.  File
names determine which implicit rules are run.  For example, C
compilation typically takes a &lsquo;<tt>.c</tt>&rsquo; file and makes a &lsquo;<tt>.o</tt>&rsquo; file.
So <code>make</code> applies the implicit rule for C compilation when it sees
this combination of file name endings.
</p>
<p>A chain of implicit rules can apply in sequence; for example, <code>make</code>
will remake a &lsquo;<tt>.o</tt>&rsquo; file from a &lsquo;<tt>.y</tt>&rsquo; file by way of a &lsquo;<tt>.c</tt>&rsquo; file.
</p>
<p>The built-in implicit rules use several variables in their recipes so
that, by changing the values of the variables, you can change the way the
implicit rule works.  For example, the variable <code>CFLAGS</code> controls the
flags given to the C compiler by the implicit rule for C compilation.
</p>
<p>You can define your own implicit rules by writing <em>pattern rules</em>.
</p>
<p><em>Suffix rules</em> are a more limited way to define implicit rules.
Pattern rules are more general and clearer, but suffix rules are
retained for compatibility.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Using-Implicit">10.1 Using Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              How to use an existing implicit rule
                                  to get the recipes for updating a file.
</td></tr>
<tr><td align="left" valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          A list of built-in rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">          How to change what predefined rules do.
</td></tr>
<tr><td align="left" valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How to use a chain of implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Rules">10.5 Defining and Redefining Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How to define new implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 How to define a recipe for rules which
                                  cannot find any.
</td></tr>
<tr><td align="left" valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                The old-fashioned style of implicit rule.
</td></tr>
<tr><td align="left" valign="top"><a href="#Implicit-Rule-Search">10.8 Implicit Rule Search Algorithm</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        The precise algorithm for applying
                                  implicit rules.
</td></tr>
</table>

<hr size="6">
<a name="Using-Implicit"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Implicit-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Catalogue-of-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-Implicit-Rules-1"></a>
<h2 class="section">10.1 Using Implicit Rules</h2>
<a name="index-implicit-rule_002c-how-to-use"></a>
<a name="index-rule_002c-implicit_002c-how-to-use"></a>

<p>To allow <code>make</code> to find a customary method for updating a target
file, all you have to do is refrain from specifying recipes yourself.
Either write a rule with no recipe, or don&rsquo;t write a rule at all.
Then <code>make</code> will figure out which implicit rule to use based on
which kind of source file exists or can be made.
</p>
<p>For example, suppose the makefile looks like this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo : foo.o bar.o
        cc -o foo foo.o bar.o $(CFLAGS) $(LDFLAGS)
</pre></td></tr></table>

<p>Because you mention &lsquo;<tt>foo.o</tt>&rsquo; but do not give a rule for it, <code>make</code>
will automatically look for an implicit rule that tells how to update it.
This happens whether or not the file &lsquo;<tt>foo.o</tt>&rsquo; currently exists.
</p>
<p>If an implicit rule is found, it can supply both a recipe and one or
more prerequisites (the source files).  You would want to write a rule
for &lsquo;<tt>foo.o</tt>&rsquo; with no recipe if you need to specify additional
prerequisites, such as header files, that the implicit rule cannot
supply.
</p>
<p>Each implicit rule has a target pattern and prerequisite patterns.  There may
be many implicit rules with the same target pattern.  For example, numerous
rules make &lsquo;<samp>.o</samp>&rsquo; files: one, from a &lsquo;<samp>.c</samp>&rsquo; file with the C compiler;
another, from a &lsquo;<samp>.p</samp>&rsquo; file with the Pascal compiler; and so on.  The rule
that actually applies is the one whose prerequisites exist or can be made.
So, if you have a file &lsquo;<tt>foo.c</tt>&rsquo;, <code>make</code> will run the C compiler;
otherwise, if you have a file &lsquo;<tt>foo.p</tt>&rsquo;, <code>make</code> will run the Pascal
compiler; and so on.
</p>
<p>Of course, when you write the makefile, you know which implicit rule you
want <code>make</code> to use, and you know it will choose that one because you
know which possible prerequisite files are supposed to exist.
See section <a href="#Catalogue-of-Rules">Catalogue of Built-In Rules</a>,
for a catalogue of all the predefined implicit rules.
</p>
<p>Above, we said an implicit rule applies if the required prerequisites &ldquo;exist
or can be made&rdquo;.  A file &ldquo;can be made&rdquo; if it is mentioned explicitly in
the makefile as a target or a prerequisite, or if an implicit rule can be
recursively found for how to make it.  When an implicit prerequisite is the
result of another implicit rule, we say that <em>chaining</em> is occurring.
See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
</p>
<p>In general, <code>make</code> searches for an implicit rule for each target, and
for each double-colon rule, that has no recipe.  A file that is mentioned
only as a prerequisite is considered a target whose rule specifies nothing,
so implicit rule search happens for it.  See section <a href="#Implicit-Rule-Search">Implicit Rule Search Algorithm</a>, for the
details of how the search is done.
</p>
<p>Note that explicit prerequisites do not influence implicit rule search.
For example, consider this explicit rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foo.o: foo.p
</pre></td></tr></table>

<p>The prerequisite on &lsquo;<tt>foo.p</tt>&rsquo; does not necessarily mean that
<code>make</code> will remake &lsquo;<tt>foo.o</tt>&rsquo; according to the implicit rule to
make an object file, a &lsquo;<tt>.o</tt>&rsquo; file, from a Pascal source file, a
&lsquo;<tt>.p</tt>&rsquo; file.  For example, if &lsquo;<tt>foo.c</tt>&rsquo; also exists, the implicit
rule to make an object file from a C source file is used instead,
because it appears before the Pascal rule in the list of predefined
implicit rules (see section <a href="#Catalogue-of-Rules">Catalogue of Built-In Rules</a>).
</p>
<p>If you do not want an implicit rule to be used for a target that has no
recipe, you can give that target an empty recipe by writing a semicolon
(see section <a href="#Empty-Recipes">Defining Empty Recipes</a>).
</p>
<hr size="6">
<a name="Catalogue-of-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Using-Implicit" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Catalogue-of-Built_002dIn-Rules"></a>
<h2 class="section">10.2 Catalogue of Built-In Rules</h2>
<a name="index-implicit-rule_002c-predefined"></a>
<a name="index-rule_002c-implicit_002c-predefined"></a>

<p>Here is a catalogue of predefined implicit rules which are always
available unless the makefile explicitly overrides or cancels them.
See section <a href="#Canceling-Rules">Canceling Implicit Rules</a>, for information on
canceling or overriding an implicit rule.  The &lsquo;<samp>-r</samp>&rsquo; or
&lsquo;<samp>--no-builtin-rules</samp>&rsquo; option cancels all predefined rules.
</p>
<p>This manual only documents the default rules available on POSIX-based
operating systems.  Other operating systems, such as VMS, Windows,
OS/2, etc. may have different sets of default rules.  To see the full
list of default rules and variables available in your version of GNU
<code>make</code>, run &lsquo;<samp>make -p</samp>&rsquo; in a directory with no makefile.
</p>
<p>Not all of these rules will always be defined, even when the &lsquo;<samp>-r</samp>&rsquo;
option is not given.  Many of the predefined implicit rules are
implemented in <code>make</code> as suffix rules, so which ones will be
defined depends on the <em>suffix list</em> (the list of prerequisites of
the special target <code>.SUFFIXES</code>).  The default suffix list is:
<code>.out</code>, <code>.a</code>, <code>.ln</code>, <code>.o</code>, <code>.c</code>, <code>.cc</code>,
<code>.C</code>, <code>.cpp</code>, <code>.p</code>, <code>.f</code>, <code>.F</code>, <code>.m</code>,
<code>.r</code>, <code>.y</code>, <code>.l</code>, <code>.ym</code>, <code>.lm</code>, <code>.s</code>,
<code>.S</code>, <code>.mod</code>, <code>.sym</code>, <code>.def</code>, <code>.h</code>,
<code>.info</code>, <code>.dvi</code>, <code>.tex</code>, <code>.texinfo</code>, <code>.texi</code>,
<code>.txinfo</code>, <code>.w</code>, <code>.ch</code> <code>.web</code>, <code>.sh</code>,
<code>.elc</code>, <code>.el</code>.  All of the implicit rules described below
whose prerequisites have one of these suffixes are actually suffix
rules.  If you modify the suffix list, the only predefined suffix
rules in effect will be those named by one or two of the suffixes that
are on the list you specify; rules whose suffixes fail to be on the
list are disabled.  See section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>,
for full details on suffix rules.
</p>
<dl compact="compact">
<dt> Compiling C programs</dt>
<dd><a name="index-C_002c-rule-to-compile"></a>
<a name="index-cc"></a>
<a name="index-gcc"></a>
<a name="index-_002eo"></a>
<a name="index-_002ec"></a>
<p>&lsquo;<tt><var>n</var>.o</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.c</tt>&rsquo; with
a recipe of the form &lsquo;<samp>$(CC) $(CPPFLAGS) $(CFLAGS) -c</samp>&rsquo;.
</p>
</dd>
<dt> Compiling C++ programs</dt>
<dd><a name="index-C_002b_002b_002c-rule-to-compile"></a>
<a name="index-g_002b_002b"></a>
<a name="index-_002ecc"></a>
<a name="index-_002ecpp"></a>
<a name="index-_002eC"></a>
<p>&lsquo;<tt><var>n</var>.o</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.cc</tt>&rsquo;,
&lsquo;<tt><var>n</var>.cpp</tt>&rsquo;, or &lsquo;<tt><var>n</var>.C</tt>&rsquo; with a recipe of the form
&lsquo;<samp>$(CXX) $(CPPFLAGS) $(CXXFLAGS) -c</samp>&rsquo;.  We encourage you to use the
suffix &lsquo;<samp>.cc</samp>&rsquo; for C++ source files instead of &lsquo;<samp>.C</samp>&rsquo;.
</p>
</dd>
<dt> Compiling Pascal programs</dt>
<dd><a name="index-Pascal_002c-rule-to-compile"></a>
<a name="index-pc"></a>
<a name="index-_002ep"></a>
<p>&lsquo;<tt><var>n</var>.o</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.p</tt>&rsquo;
with the recipe &lsquo;<samp>$(PC) $(PFLAGS) -c</samp>&rsquo;.
</p>
</dd>
<dt> Compiling Fortran and Ratfor programs</dt>
<dd><a name="index-Fortran_002c-rule-to-compile"></a>
<a name="index-Ratfor_002c-rule-to-compile"></a>
<a name="index-f77"></a>
<a name="index-_002ef"></a>
<a name="index-_002er"></a>
<a name="index-_002eF"></a>
<p>&lsquo;<tt><var>n</var>.o</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.r</tt>&rsquo;,
&lsquo;<tt><var>n</var>.F</tt>&rsquo; or &lsquo;<tt><var>n</var>.f</tt>&rsquo; by running the
Fortran compiler.  The precise recipe used is as follows:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>.f</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp>$(FC) $(FFLAGS) -c</samp>&rsquo;.
</p></dd>
<dt> &lsquo;<samp>.F</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp>$(FC) $(FFLAGS) $(CPPFLAGS) -c</samp>&rsquo;.
</p></dd>
<dt> &lsquo;<samp>.r</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp>$(FC) $(FFLAGS) $(RFLAGS) -c</samp>&rsquo;.
</p></dd>
</dl>

</dd>
<dt> Preprocessing Fortran and Ratfor programs</dt>
<dd><p>&lsquo;<tt><var>n</var>.f</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.r</tt>&rsquo; or
&lsquo;<tt><var>n</var>.F</tt>&rsquo;.  This rule runs just the preprocessor to convert a
Ratfor or preprocessable Fortran program into a strict Fortran
program.  The precise recipe used is as follows:
</p>
<dl compact="compact">
<dt> &lsquo;<samp>.F</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp>$(FC) $(CPPFLAGS) $(FFLAGS) -F</samp>&rsquo;.
</p></dd>
<dt> &lsquo;<samp>.r</samp>&rsquo;</dt>
<dd><p>&lsquo;<samp>$(FC) $(FFLAGS) $(RFLAGS) -F</samp>&rsquo;.
</p></dd>
</dl>

</dd>
<dt> Compiling Modula-2 programs</dt>
<dd><a name="index-Modula_002d2_002c-rule-to-compile"></a>
<a name="index-m2c"></a>
<a name="index-_002esym"></a>
<a name="index-_002edef"></a>
<a name="index-_002emod"></a>
<p>&lsquo;<tt><var>n</var>.sym</tt>&rsquo; is made from &lsquo;<tt><var>n</var>.def</tt>&rsquo; with a recipe
of the form &lsquo;<samp>$(M2C) $(M2FLAGS) $(DEFFLAGS)</samp>&rsquo;.  &lsquo;<tt><var>n</var>.o</tt>&rsquo;
is made from &lsquo;<tt><var>n</var>.mod</tt>&rsquo;; the form is:
&lsquo;<samp>$(M2C) $(M2FLAGS) $(MODFLAGS)</samp>&rsquo;.
</p>
</dd>
<dt> Assembling and preprocessing assembler programs</dt>
<dd><a name="index-assembly_002c-rule-to-compile"></a>
<a name="index-as"></a>
<a name="index-_002es"></a>
<p>&lsquo;<tt><var>n</var>.o</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.s</tt>&rsquo; by
running the assembler, <code>as</code>.  The precise recipe is
&lsquo;<samp>$(AS) $(ASFLAGS)</samp>&rsquo;.
</p>
<a name="index-_002eS"></a>
<p>&lsquo;<tt><var>n</var>.s</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.S</tt>&rsquo; by
running the C preprocessor, <code>cpp</code>.  The precise recipe is
&lsquo;<samp>$(CPP) $(CPPFLAGS)</samp>&rsquo;.
</p>
</dd>
<dt> Linking a single object file</dt>
<dd><a name="index-linking_002c-predefined-rule-for"></a>
<a name="index-ld"></a>
<a name="index-_002eo-1"></a>
<p>&lsquo;<tt><var>n</var></tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.o</tt>&rsquo; by running
the linker (usually called <code>ld</code>) via the C compiler.  The precise
recipe used is &lsquo;<samp>$(CC) $(LDFLAGS) <var>n</var>.o $(LOADLIBES) $(LDLIBS)</samp>&rsquo;.
</p>
<p>This rule does the right thing for a simple program with only one
source file.  It will also do the right thing if there are multiple
object files (presumably coming from various other source files), one
of which has a name matching that of the executable file.  Thus,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">x: y.o z.o
</pre></td></tr></table>

<p>when &lsquo;<tt>x.c</tt>&rsquo;, &lsquo;<tt>y.c</tt>&rsquo; and &lsquo;<tt>z.c</tt>&rsquo; all exist will execute:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -c x.c -o x.o
cc -c y.c -o y.o
cc -c z.c -o z.o
cc x.o y.o z.o -o x
rm -f x.o
rm -f y.o
rm -f z.o
</pre></td></tr></table>

<p>In more complicated cases, such as when there is no object file whose
name derives from the executable file name, you must write an explicit
recipe for linking.
</p>
<p>Each kind of file automatically made into &lsquo;<samp>.o</samp>&rsquo; object files will
be automatically linked by using the compiler (&lsquo;<samp>$(CC)</samp>&rsquo;,
&lsquo;<samp>$(FC)</samp>&rsquo; or &lsquo;<samp>$(PC)</samp>&rsquo;; the C compiler &lsquo;<samp>$(CC)</samp>&rsquo; is used to
assemble &lsquo;<samp>.s</samp>&rsquo; files) without the &lsquo;<samp>-c</samp>&rsquo; option.  This could be
done by using the &lsquo;<samp>.o</samp>&rsquo; object files as intermediates, but it is
faster to do the compiling and linking in one step, so that&rsquo;s how it&rsquo;s
done.
</p>
</dd>
<dt> Yacc for C programs</dt>
<dd><a name="index-yacc-1"></a>
<a name="index-Yacc_002c-rule-to-run"></a>
<a name="index-_002ey"></a>
<p>&lsquo;<tt><var>n</var>.c</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.y</tt>&rsquo; by
running Yacc with the recipe &lsquo;<samp>$(YACC) $(YFLAGS)</samp>&rsquo;.
</p>
</dd>
<dt> Lex for C programs</dt>
<dd><a name="index-lex"></a>
<a name="index-Lex_002c-rule-to-run"></a>
<a name="index-_002el"></a>
<p>&lsquo;<tt><var>n</var>.c</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.l</tt>&rsquo; by
running Lex.  The actual recipe is &lsquo;<samp>$(LEX) $(LFLAGS)</samp>&rsquo;.
</p>
</dd>
<dt> Lex for Ratfor programs</dt>
<dd><p>&lsquo;<tt><var>n</var>.r</tt>&rsquo; is made automatically from &lsquo;<tt><var>n</var>.l</tt>&rsquo; by
running Lex.  The actual recipe is &lsquo;<samp>$(LEX) $(LFLAGS)</samp>&rsquo;.
</p>
<p>The convention of using the same suffix &lsquo;<samp>.l</samp>&rsquo; for all Lex files
regardless of whether they produce C code or Ratfor code makes it
impossible for <code>make</code> to determine automatically which of the two
languages you are using in any particular case.  If <code>make</code> is
called upon to remake an object file from a &lsquo;<samp>.l</samp>&rsquo; file, it must
guess which compiler to use.  It will guess the C compiler, because
that is more common.  If you are using Ratfor, make sure <code>make</code>
knows this by mentioning &lsquo;<tt><var>n</var>.r</tt>&rsquo; in the makefile.  Or, if you
are using Ratfor exclusively, with no C files, remove &lsquo;<samp>.c</samp>&rsquo; from
the list of implicit rule suffixes with:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SUFFIXES:
.SUFFIXES: .o .r .f .l &hellip;
</pre></td></tr></table>

</dd>
<dt> Making Lint Libraries from C, Yacc, or Lex programs</dt>
<dd><a name="index-lint"></a>
<a name="index-lint_002c-rule-to-run"></a>
<a name="index-_002eln"></a>
<p>&lsquo;<tt><var>n</var>.ln</tt>&rsquo; is made from &lsquo;<tt><var>n</var>.c</tt>&rsquo; by running <code>lint</code>.
The precise recipe is &lsquo;<samp>$(LINT) $(LINTFLAGS) $(CPPFLAGS) -i</samp>&rsquo;.
The same recipe is used on the C code produced from
&lsquo;<tt><var>n</var>.y</tt>&rsquo; or &lsquo;<tt><var>n</var>.l</tt>&rsquo;.
</p>
</dd>
<dt> TeX and Web</dt>
<dd><a name="index-TeX_002c-rule-to-run"></a>
<a name="index-Web_002c-rule-to-run"></a>
<a name="index-tex"></a>
<a name="index-cweave"></a>
<a name="index-weave"></a>
<a name="index-tangle"></a>
<a name="index-ctangle"></a>
<a name="index-_002edvi"></a>
<a name="index-_002etex"></a>
<a name="index-_002eweb"></a>
<a name="index-_002ew"></a>
<a name="index-_002ech"></a>
<p>&lsquo;<tt><var>n</var>.dvi</tt>&rsquo; is made from &lsquo;<tt><var>n</var>.tex</tt>&rsquo; with the recipe
&lsquo;<samp>$(TEX)</samp>&rsquo;.  &lsquo;<tt><var>n</var>.tex</tt>&rsquo; is made from &lsquo;<tt><var>n</var>.web</tt>&rsquo; with
&lsquo;<samp>$(WEAVE)</samp>&rsquo;, or from &lsquo;<tt><var>n</var>.w</tt>&rsquo; (and from &lsquo;<tt><var>n</var>.ch</tt>&rsquo; if
it exists or can be made) with &lsquo;<samp>$(CWEAVE)</samp>&rsquo;.  &lsquo;<tt><var>n</var>.p</tt>&rsquo; is
made from &lsquo;<tt><var>n</var>.web</tt>&rsquo; with &lsquo;<samp>$(TANGLE)</samp>&rsquo; and &lsquo;<tt><var>n</var>.c</tt>&rsquo;
is made from &lsquo;<tt><var>n</var>.w</tt>&rsquo; (and from &lsquo;<tt><var>n</var>.ch</tt>&rsquo; if it exists
or can be made) with &lsquo;<samp>$(CTANGLE)</samp>&rsquo;.
</p>
</dd>
<dt> Texinfo and Info</dt>
<dd><a name="index-Texinfo_002c-rule-to-format"></a>
<a name="index-Info_002c-rule-to-format"></a>
<a name="index-texi2dvi"></a>
<a name="index-makeinfo"></a>
<a name="index-_002etexinfo"></a>
<a name="index-_002einfo"></a>
<a name="index-_002etexi"></a>
<a name="index-_002etxinfo"></a>
<p>&lsquo;<tt><var>n</var>.dvi</tt>&rsquo; is made from &lsquo;<tt><var>n</var>.texinfo</tt>&rsquo;,
&lsquo;<tt><var>n</var>.texi</tt>&rsquo;, or &lsquo;<tt><var>n</var>.txinfo</tt>&rsquo;, with the recipe
&lsquo;<samp>$(TEXI2DVI) $(TEXI2DVI_FLAGS)</samp>&rsquo;.  &lsquo;<tt><var>n</var>.info</tt>&rsquo; is made from
&lsquo;<tt><var>n</var>.texinfo</tt>&rsquo;, &lsquo;<tt><var>n</var>.texi</tt>&rsquo;, or &lsquo;<tt><var>n</var>.txinfo</tt>&rsquo;, with
the recipe &lsquo;<samp>$(MAKEINFO) $(MAKEINFO_FLAGS)</samp>&rsquo;.
</p>
</dd>
<dt> RCS</dt>
<dd><a name="index-RCS_002c-rule-to-extract-from"></a>
<a name="index-co"></a>
<a name="index-_002cv-_0028RCS-file-extension_0029"></a>
<p>Any file &lsquo;<tt><var>n</var></tt>&rsquo; is extracted if necessary from an RCS file
named either &lsquo;<tt><var>n</var>,v</tt>&rsquo; or &lsquo;<tt>RCS/<var>n</var>,v</tt>&rsquo;.  The precise
recipe used is &lsquo;<samp>$(CO) $(COFLAGS)</samp>&rsquo;.  &lsquo;<tt><var>n</var></tt>&rsquo; will not be
extracted from RCS if it already exists, even if the RCS file is
newer.  The rules for RCS are terminal
(see section <a href="#Match_002dAnything-Rules">Match-Anything Pattern Rules</a>),
so RCS files cannot be generated from another source; they must
actually exist.
</p>
</dd>
<dt> SCCS</dt>
<dd><a name="index-SCCS_002c-rule-to-extract-from"></a>
<a name="index-get"></a>
<a name="index-s_002e-_0028SCCS-file-prefix_0029"></a>
<p>Any file &lsquo;<tt><var>n</var></tt>&rsquo; is extracted if necessary from an SCCS file
named either &lsquo;<tt>s.<var>n</var></tt>&rsquo; or &lsquo;<tt>SCCS/s.<var>n</var></tt>&rsquo;.  The precise
recipe used is &lsquo;<samp>$(GET) $(GFLAGS)</samp>&rsquo;.  The rules for SCCS are
terminal (see section <a href="#Match_002dAnything-Rules">Match-Anything Pattern Rules</a>),
so SCCS files cannot be generated from another source; they must
actually exist.
</p>
<a name="index-_002esh"></a>
<p>For the benefit of SCCS, a file &lsquo;<tt><var>n</var></tt>&rsquo; is copied from
&lsquo;<tt><var>n</var>.sh</tt>&rsquo; and made executable (by everyone).  This is for
shell scripts that are checked into SCCS.  Since RCS preserves the
execution permission of a file, you do not need to use this feature
with RCS.
</p>
<p>We recommend that you avoid using of SCCS.  RCS is widely held to be
superior, and is also free.  By choosing free software in place of
comparable (or inferior) proprietary software, you support the free
software movement.
</p></dd>
</dl>

<p>Usually, you want to change only the variables listed in the table
above, which are documented in the following section.
</p>
<p>However, the recipes in built-in implicit rules actually use
variables such as <code>COMPILE.c</code>, <code>LINK.p</code>, and
<code>PREPROCESS.S</code>, whose values contain the recipes listed above.
</p>
<p><code>make</code> follows the convention that the rule to compile a
&lsquo;<tt>.<var>x</var></tt>&rsquo; source file uses the variable <code>COMPILE.<var>x</var></code>.
Similarly, the rule to produce an executable from a &lsquo;<tt>.<var>x</var></tt>&rsquo;
file uses <code>LINK.<var>x</var></code>; and the rule to preprocess a
&lsquo;<tt>.<var>x</var></tt>&rsquo; file uses <code>PREPROCESS.<var>x</var></code>.
</p>
<a name="index-OUTPUT_005fOPTION"></a>
<p>Every rule that produces an object file uses the variable
<code>OUTPUT_OPTION</code>.  <code>make</code> defines this variable either to
contain &lsquo;<samp>-o $@</samp>&rsquo;, or to be empty, depending on a compile-time
option.  You need the &lsquo;<samp>-o</samp>&rsquo; option to ensure that the output goes
into the right file when the source file is in a different directory,
as when using <code>VPATH</code> (see section <a href="#Directory-Search">Searching Directories for Prerequisites</a>).  However,
compilers on some systems do not accept a &lsquo;<samp>-o</samp>&rsquo; switch for object
files.  If you use such a system, and use <code>VPATH</code>, some
compilations will put their output in the wrong place.
A possible workaround for this problem is to give <code>OUTPUT_OPTION</code>
the value &lsquo;<samp>; mv $*.o $@</samp>&rsquo;.
</p>
<hr size="6">
<a name="Implicit-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Catalogue-of-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Chained-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Variables-Used-by-Implicit-Rules"></a>
<h2 class="section">10.3 Variables Used by Implicit Rules</h2>
<a name="index-flags-for-compilers"></a>

<p>The recipes in built-in implicit rules make liberal use of certain
predefined variables.  You can alter the values of these variables in
the makefile, with arguments to <code>make</code>, or in the environment to
alter how the implicit rules work without redefining the rules
themselves.  You can cancel all variables used by implicit rules with
the &lsquo;<samp>-R</samp>&rsquo; or &lsquo;<samp>--no-builtin-variables</samp>&rsquo; option.
</p>
<p>For example, the recipe used to compile a C source file actually says
&lsquo;<samp>$(CC) -c $(CFLAGS) $(CPPFLAGS)</samp>&rsquo;.  The default values of the variables
used are &lsquo;<samp>cc</samp>&rsquo; and nothing, resulting in the command &lsquo;<samp>cc -c</samp>&rsquo;.  By
redefining &lsquo;<samp>CC</samp>&rsquo; to &lsquo;<samp>ncc</samp>&rsquo;, you could cause &lsquo;<samp>ncc</samp>&rsquo; to be
used for all C compilations performed by the implicit rule.  By redefining
&lsquo;<samp>CFLAGS</samp>&rsquo; to be &lsquo;<samp>-g</samp>&rsquo;, you could pass the &lsquo;<samp>-g</samp>&rsquo; option to
each compilation.  <em>All</em> implicit rules that do C compilation use
&lsquo;<samp>$(CC)</samp>&rsquo; to get the program name for the compiler and <em>all</em>
include &lsquo;<samp>$(CFLAGS)</samp>&rsquo; among the arguments given to the compiler.
</p>
<p>The variables used in implicit rules fall into two classes: those that are
names of programs (like <code>CC</code>) and those that contain arguments for the
programs (like <code>CFLAGS</code>).  (The &ldquo;name of a program&rdquo; may also contain
some command arguments, but it must start with an actual executable program
name.)  If a variable value contains more than one argument, separate them
with spaces.
</p>
<p>The following tables describe of some of the more commonly-used predefined
variables.  This list is not exhaustive, and the default values shown here may
not be what <code>make</code> selects for your environment.  To see the
complete list of predefined variables for your instance of GNU <code>make</code> you
can run &lsquo;<samp>make -p</samp>&rsquo; in a directory with no makefiles.
</p>
<p>Here is a table of some of the more common variables used as names of
programs in built-in rules:
</p>
<dl compact="compact">
<dt> <code>AR</code></dt>
<dd><a name="index-AR"></a>
<p>Archive-maintaining program; default &lsquo;<samp>ar</samp>&rsquo;.
<a name="index-ar"></a>
</p>
</dd>
<dt> <code>AS</code></dt>
<dd><a name="index-AS"></a>
<p>Program for compiling assembly files; default &lsquo;<samp>as</samp>&rsquo;.
<a name="index-as-1"></a>
</p>
</dd>
<dt> <code>CC</code></dt>
<dd><a name="index-CC"></a>
<p>Program for compiling C programs; default &lsquo;<samp>cc</samp>&rsquo;.
<a name="index-cc-1"></a>
</p>
</dd>
<dt> <code>CXX</code></dt>
<dd><a name="index-CXX"></a>
<p>Program for compiling C++ programs; default &lsquo;<samp>g++</samp>&rsquo;.
<a name="index-g_002b_002b-1"></a>
</p>
</dd>
<dt> <code>CPP</code></dt>
<dd><a name="index-CPP"></a>
<p>Program for running the C preprocessor, with results to standard output;
default &lsquo;<samp>$(CC) -E</samp>&rsquo;.
</p>
</dd>
<dt> <code>FC</code></dt>
<dd><a name="index-FC"></a>
<p>Program for compiling or preprocessing Fortran and Ratfor programs;
default &lsquo;<samp>f77</samp>&rsquo;.
<a name="index-f77-1"></a>
</p>
</dd>
<dt> <code>M2C</code></dt>
<dd><a name="index-M2C"></a>
<p>Program to use to compile Modula-2 source code; default &lsquo;<samp>m2c</samp>&rsquo;.
<a name="index-m2c-1"></a>
</p>
</dd>
<dt> <code>PC</code></dt>
<dd><a name="index-PC"></a>
<p>Program for compiling Pascal programs; default &lsquo;<samp>pc</samp>&rsquo;.
<a name="index-pc-1"></a>
</p>
</dd>
<dt> <code>CO</code></dt>
<dd><a name="index-CO"></a>
<p>Program for extracting a file from RCS; default &lsquo;<samp>co</samp>&rsquo;.
<a name="index-co-1"></a>
</p>
</dd>
<dt> <code>GET</code></dt>
<dd><a name="index-GET"></a>
<p>Program for extracting a file from SCCS; default &lsquo;<samp>get</samp>&rsquo;.
<a name="index-get-1"></a>
</p>
</dd>
<dt> <code>LEX</code></dt>
<dd><a name="index-LEX"></a>
<p>Program to use to turn Lex grammars into source code; default &lsquo;<samp>lex</samp>&rsquo;.
<a name="index-lex-1"></a>
</p>
</dd>
<dt> <code>YACC</code></dt>
<dd><a name="index-YACC"></a>
<p>Program to use to turn Yacc grammars into source code; default &lsquo;<samp>yacc</samp>&rsquo;.
<a name="index-yacc-2"></a>
</p>
</dd>
<dt> <code>LINT</code></dt>
<dd><a name="index-LINT"></a>
<p>Program to use to run lint on source code; default &lsquo;<samp>lint</samp>&rsquo;.
<a name="index-lint-1"></a>
</p>
</dd>
<dt> <code>MAKEINFO</code></dt>
<dd><a name="index-MAKEINFO"></a>
<p>Program to convert a Texinfo source file into an Info file; default
&lsquo;<samp>makeinfo</samp>&rsquo;.
<a name="index-makeinfo-1"></a>
</p>
</dd>
<dt> <code>TEX</code></dt>
<dd><a name="index-TEX"></a>
<p>Program to make TeX <small>DVI</small> files from TeX source;
default &lsquo;<samp>tex</samp>&rsquo;.
<a name="index-tex-1"></a>
</p>
</dd>
<dt> <code>TEXI2DVI</code></dt>
<dd><a name="index-TEXI2DVI"></a>
<p>Program to make TeX <small>DVI</small> files from Texinfo source;
default &lsquo;<samp>texi2dvi</samp>&rsquo;.
<a name="index-texi2dvi-1"></a>
</p>
</dd>
<dt> <code>WEAVE</code></dt>
<dd><a name="index-WEAVE"></a>
<p>Program to translate Web into TeX; default &lsquo;<samp>weave</samp>&rsquo;.
<a name="index-weave-1"></a>
</p>
</dd>
<dt> <code>CWEAVE</code></dt>
<dd><a name="index-CWEAVE"></a>
<p>Program to translate C Web into TeX; default &lsquo;<samp>cweave</samp>&rsquo;.
<a name="index-cweave-1"></a>
</p>
</dd>
<dt> <code>TANGLE</code></dt>
<dd><a name="index-TANGLE"></a>
<p>Program to translate Web into Pascal; default &lsquo;<samp>tangle</samp>&rsquo;.
<a name="index-tangle-1"></a>
</p>
</dd>
<dt> <code>CTANGLE</code></dt>
<dd><a name="index-CTANGLE"></a>
<p>Program to translate C Web into C; default &lsquo;<samp>ctangle</samp>&rsquo;.
<a name="index-ctangle-1"></a>
</p>
</dd>
<dt> <code>RM</code></dt>
<dd><a name="index-RM"></a>
<p>Command to remove a file; default &lsquo;<samp>rm -f</samp>&rsquo;.
<a name="index-rm"></a>
</p></dd>
</dl>

<p>Here is a table of variables whose values are additional arguments for the
programs above.  The default values for all of these is the empty
string, unless otherwise noted.
</p>
<dl compact="compact">
<dt> <code>ARFLAGS</code></dt>
<dd><a name="index-ARFLAGS"></a>
<p>Flags to give the archive-maintaining program; default &lsquo;<samp>rv</samp>&rsquo;.
</p>
</dd>
<dt> <code>ASFLAGS</code></dt>
<dd><a name="index-ASFLAGS"></a>
<p>Extra flags to give to the assembler (when explicitly
invoked on a &lsquo;<samp>.s</samp>&rsquo; or &lsquo;<samp>.S</samp>&rsquo; file).
</p>
</dd>
<dt> <code>CFLAGS</code></dt>
<dd><a name="index-CFLAGS"></a>
<p>Extra flags to give to the C compiler.
</p>
</dd>
<dt> <code>CXXFLAGS</code></dt>
<dd><a name="index-CXXFLAGS"></a>
<p>Extra flags to give to the C++ compiler.
</p>
</dd>
<dt> <code>COFLAGS</code></dt>
<dd><a name="index-COFLAGS"></a>
<p>Extra flags to give to the RCS <code>co</code> program.
</p>
</dd>
<dt> <code>CPPFLAGS</code></dt>
<dd><a name="index-CPPFLAGS"></a>
<p>Extra flags to give to the C preprocessor and programs
that use it (the C and Fortran compilers).
</p>
</dd>
<dt> <code>FFLAGS</code></dt>
<dd><a name="index-FFLAGS"></a>
<p>Extra flags to give to the Fortran compiler.
</p>
</dd>
<dt> <code>GFLAGS</code></dt>
<dd><a name="index-GFLAGS"></a>
<p>Extra flags to give to the SCCS <code>get</code> program.
</p>
</dd>
<dt> <code>LDFLAGS</code></dt>
<dd><a name="index-LDFLAGS"></a>
<p>Extra flags to give to compilers when they are supposed to invoke the linker,
&lsquo;<samp>ld</samp>&rsquo;, such as <code>-L</code>.  Libraries (<code>-lfoo</code>) should be
added to the <code>LDLIBS</code> variable instead.
</p>
</dd>
<dt> <code>LDLIBS</code></dt>
<dd><a name="index-LDLIBS"></a>
<a name="index-LOADLIBES"></a>
<p>Library flags or names given to compilers when they are supposed to
invoke the linker, &lsquo;<samp>ld</samp>&rsquo;.  <code>LOADLIBES</code> is a deprecated (but
still supported) alternative to <code>LDLIBS</code>.  Non-library linker
flags, such as <code>-L</code>, should go in the <code>LDFLAGS</code> variable.
</p>
</dd>
<dt> <code>LFLAGS</code></dt>
<dd><a name="index-LFLAGS"></a>
<p>Extra flags to give to Lex.
</p>
</dd>
<dt> <code>YFLAGS</code></dt>
<dd><a name="index-YFLAGS"></a>
<p>Extra flags to give to Yacc.
</p>
</dd>
<dt> <code>PFLAGS</code></dt>
<dd><a name="index-PFLAGS"></a>
<p>Extra flags to give to the Pascal compiler.
</p>
</dd>
<dt> <code>RFLAGS</code></dt>
<dd><a name="index-RFLAGS"></a>
<p>Extra flags to give to the Fortran compiler for Ratfor programs.
</p>
</dd>
<dt> <code>LINTFLAGS</code></dt>
<dd><a name="index-LINTFLAGS"></a>
<p>Extra flags to give to lint.
</p></dd>
</dl>

<hr size="6">
<a name="Chained-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Implicit-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Chains-of-Implicit-Rules"></a>
<h2 class="section">10.4 Chains of Implicit Rules</h2>

<a name="index-chains-of-rules"></a>
<a name="index-rule_002c-implicit_002c-chains-of"></a>
<p>Sometimes a file can be made by a sequence of implicit rules.  For example,
a file &lsquo;<tt><var>n</var>.o</tt>&rsquo; could be made from &lsquo;<tt><var>n</var>.y</tt>&rsquo; by running
first Yacc and then <code>cc</code>.  Such a sequence is called a <em>chain</em>.
</p>
<p>If the file &lsquo;<tt><var>n</var>.c</tt>&rsquo; exists, or is mentioned in the makefile, no
special searching is required: <code>make</code> finds that the object file can
be made by C compilation from &lsquo;<tt><var>n</var>.c</tt>&rsquo;; later on, when considering
how to make &lsquo;<tt><var>n</var>.c</tt>&rsquo;, the rule for running Yacc is
used.  Ultimately both &lsquo;<tt><var>n</var>.c</tt>&rsquo; and &lsquo;<tt><var>n</var>.o</tt>&rsquo; are
updated.
</p>
<a name="index-intermediate-files"></a>
<a name="index-files_002c-intermediate"></a>
<p>However, even if &lsquo;<tt><var>n</var>.c</tt>&rsquo; does not exist and is not mentioned,
<code>make</code> knows how to envision it as the missing link between
&lsquo;<tt><var>n</var>.o</tt>&rsquo; and &lsquo;<tt><var>n</var>.y</tt>&rsquo;!  In this case, &lsquo;<tt><var>n</var>.c</tt>&rsquo; is
called an <em>intermediate file</em>.  Once <code>make</code> has decided to use the
intermediate file, it is entered in the data base as if it had been
mentioned in the makefile, along with the implicit rule that says how to
create it.
</p>
<p>Intermediate files are remade using their rules just like all other
files.  But intermediate files are treated differently in two ways.
</p>
<p>The first difference is what happens if the intermediate file does not
exist.  If an ordinary file <var>b</var> does not exist, and <code>make</code>
considers a target that depends on <var>b</var>, it invariably creates
<var>b</var> and then updates the target from <var>b</var>.  But if <var>b</var> is an
intermediate file, then <code>make</code> can leave well enough alone.  It
won&rsquo;t bother updating <var>b</var>, or the ultimate target, unless some
prerequisite of <var>b</var> is newer than that target or there is some other
reason to update that target.
</p>
<p>The second difference is that if <code>make</code> <em>does</em> create <var>b</var>
in order to update something else, it deletes <var>b</var> later on after it
is no longer needed.  Therefore, an intermediate file which did not
exist before <code>make</code> also does not exist after <code>make</code>.
<code>make</code> reports the deletion to you by printing a &lsquo;<samp>rm -f</samp>&rsquo;
command showing which file it is deleting.
</p>
<p>Ordinarily, a file cannot be intermediate if it is mentioned in the
makefile as a target or prerequisite.  However, you can explicitly mark a
file as intermediate by listing it as a prerequisite of the special target
<code>.INTERMEDIATE</code>.  This takes effect even if the file is mentioned
explicitly in some other way.
</p>
<a name="index-intermediate-files_002c-preserving"></a>
<a name="index-preserving-intermediate-files"></a>
<a name="index-secondary-files"></a>
<p>You can prevent automatic deletion of an intermediate file by marking it
as a <em>secondary</em> file.  To do this, list it as a prerequisite of the
special target <code>.SECONDARY</code>.  When a file is secondary, <code>make</code>
will not create the file merely because it does not already exist, but
<code>make</code> does not automatically delete the file.  Marking a file as
secondary also marks it as intermediate.
</p>
<p>You can list the target pattern of an implicit rule (such as &lsquo;<samp>%.o</samp>&rsquo;)
as a prerequisite of the special target <code>.PRECIOUS</code> to preserve
intermediate files made by implicit rules whose target patterns match
that file&rsquo;s name; see <a href="#Interrupts">Interrupting or Killing <code>make</code></a>.
<a name="index-preserving-with-_002ePRECIOUS-1"></a>
<a name="index-_002ePRECIOUS-intermediate-files"></a>
</p>
<p>A chain can involve more than two implicit rules.  For example, it is
possible to make a file &lsquo;<tt>foo</tt>&rsquo; from &lsquo;<tt>RCS/foo.y,v</tt>&rsquo; by running RCS,
Yacc and <code>cc</code>.  Then both &lsquo;<tt>foo.y</tt>&rsquo; and &lsquo;<tt>foo.c</tt>&rsquo; are
intermediate files that are deleted at the end.
</p>
<p>No single implicit rule can appear more than once in a chain.  This means
that <code>make</code> will not even consider such a ridiculous thing as making
&lsquo;<tt>foo</tt>&rsquo; from &lsquo;<tt>foo.o.o</tt>&rsquo; by running the linker twice.  This
constraint has the added benefit of preventing any infinite loop in the
search for an implicit rule chain.
</p>
<p>There are some special implicit rules to optimize certain cases that would
otherwise be handled by rule chains.  For example, making &lsquo;<tt>foo</tt>&rsquo; from
&lsquo;<tt>foo.c</tt>&rsquo; could be handled by compiling and linking with separate
chained rules, using &lsquo;<tt>foo.o</tt>&rsquo; as an intermediate file.  But what
actually happens is that a special rule for this case does the compilation
and linking with a single <code>cc</code> command.  The optimized rule is used in
preference to the step-by-step chain because it comes earlier in the
ordering of rules.
</p>
<hr size="6">
<a name="Pattern-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Chained-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Intro" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Defining-and-Redefining-Pattern-Rules"></a>
<h2 class="section">10.5 Defining and Redefining Pattern Rules</h2>

<p>You define an implicit rule by writing a <em>pattern rule</em>.  A pattern
rule looks like an ordinary rule, except that its target contains the
character &lsquo;<samp>%</samp>&rsquo; (exactly one of them).  The target is considered a
pattern for matching file names; the &lsquo;<samp>%</samp>&rsquo; can match any nonempty
substring, while other characters match only themselves.  The prerequisites
likewise use &lsquo;<samp>%</samp>&rsquo; to show how their names relate to the target name.
</p>
<p>Thus, a pattern rule &lsquo;<samp>%.o : %.c</samp>&rsquo; says how to make any file
&lsquo;<tt><var>stem</var>.o</tt>&rsquo; from another file &lsquo;<tt><var>stem</var>.c</tt>&rsquo;.
</p>
<p>Note that expansion using &lsquo;<samp>%</samp>&rsquo; in pattern rules occurs
<strong>after</strong> any variable or function expansions, which take place
when the makefile is read.  See section <a href="#Using-Variables">How to Use Variables</a>, and <a href="#Functions">Functions for Transforming Text</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               An introduction to pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Examples">10.5.2 Pattern Rule Examples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Examples of pattern rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">         How to use automatic variables in the
                                  recipe of implicit rules.
</td></tr>
<tr><td align="left" valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               How patterns match.
</td></tr>
<tr><td align="left" valign="top"><a href="#Match_002dAnything-Rules">10.5.5 Match-Anything Pattern Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        Precautions you should take prior to
                                  defining rules that can match any
                                  target file whatever.
</td></tr>
<tr><td align="left" valign="top"><a href="#Canceling-Rules">10.5.6 Canceling Implicit Rules</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to override or cancel built-in rules.
</td></tr>
</table>

<hr size="6">
<a name="Pattern-Intro"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pattern-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Examples" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Introduction-to-Pattern-Rules"></a>
<h3 class="subsection">10.5.1 Introduction to Pattern Rules</h3>
<a name="index-pattern-rule"></a>
<a name="index-rule_002c-pattern"></a>

<p>A pattern rule contains the character &lsquo;<samp>%</samp>&rsquo; (exactly one of them)
in the target; otherwise, it looks exactly like an ordinary rule.  The
target is a pattern for matching file names; the &lsquo;<samp>%</samp>&rsquo; matches any
nonempty substring, while other characters match only themselves.
<a name="index-target-pattern_002c-implicit"></a>
<a name="index-_0025_002c-in-pattern-rules"></a>
</p>
<p>For example, &lsquo;<samp>%.c</samp>&rsquo; as a pattern matches any file name that ends in
&lsquo;<samp>.c</samp>&rsquo;.  &lsquo;<samp>s.%.c</samp>&rsquo; as a pattern matches any file name that starts
with &lsquo;<samp>s.</samp>&rsquo;, ends in &lsquo;<samp>.c</samp>&rsquo; and is at least five characters long.
(There must be at least one character to match the &lsquo;<samp>%</samp>&rsquo;.)  The substring
that the &lsquo;<samp>%</samp>&rsquo; matches is called the <em>stem</em>.
</p>
<p>&lsquo;<samp>%</samp>&rsquo; in a prerequisite of a pattern rule stands for the same stem
that was matched by the &lsquo;<samp>%</samp>&rsquo; in the target.  In order for the
pattern rule to apply, its target pattern must match the file name
under consideration and all of its prerequisites (after pattern
substitution) must name files that exist or can be made.  These files
become prerequisites of the target.
<a name="index-prerequisite-pattern_002c-implicit"></a>
</p>
<p>Thus, a rule of the form
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o : %.c ; <var>recipe</var>&hellip;
</pre></td></tr></table>

<p>specifies how to make a file &lsquo;<tt><var>n</var>.o</tt>&rsquo;, with another file
&lsquo;<tt><var>n</var>.c</tt>&rsquo; as its prerequisite, provided that &lsquo;<tt><var>n</var>.c</tt>&rsquo;
exists or can be made.
</p>
<p>There may also be prerequisites that do not use &lsquo;<samp>%</samp>&rsquo;; such a prerequisite
attaches to every file made by this pattern rule.  These unvarying
prerequisites are useful occasionally.
</p>
<p>A pattern rule need not have any prerequisites that contain &lsquo;<samp>%</samp>&rsquo;, or
in fact any prerequisites at all.  Such a rule is effectively a general
wildcard.  It provides a way to make any file that matches the target
pattern.  See section <a href="#Last-Resort">Defining Last-Resort Default Rules</a>.
</p>
<p>More than one pattern rule may match a target.  In this case
<code>make</code> will choose the &ldquo;best fit&rdquo; rule.  See section <a href="#Pattern-Match">How Patterns Match</a>.
</p>
<a name="index-multiple-targets_002c-in-pattern-rule"></a>
<a name="index-target_002c-multiple-in-pattern-rule"></a>
<p>Pattern rules may have more than one target; however, every target
must contain a <code>%</code> character.  Pattern rules are always treated
as grouped targets (see section <a href="#Multiple-Targets">Multiple Targets in a Rule</a>) regardless of whether they use the <code>:</code> or <code>&amp;:</code>
separator.
</p>
<hr size="6">
<a name="Pattern-Examples"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pattern-Intro" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Automatic-Variables" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Pattern-Rule-Examples"></a>
<h3 class="subsection">10.5.2 Pattern Rule Examples</h3>

<p>Here are some examples of pattern rules actually predefined in
<code>make</code>.  First, the rule that compiles &lsquo;<samp>.c</samp>&rsquo; files into &lsquo;<samp>.o</samp>&rsquo;
files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o : %.c
        $(CC) -c $(CFLAGS) $(CPPFLAGS) $&lt; -o $@
</pre></td></tr></table>

<p>defines a rule that can make any file &lsquo;<tt><var>x</var>.o</tt>&rsquo; from
&lsquo;<tt><var>x</var>.c</tt>&rsquo;.  The recipe uses the automatic variables &lsquo;<samp>$@</samp>&rsquo; and
&lsquo;<samp>$&lt;</samp>&rsquo; to substitute the names of the target file and the source file
in each case where the rule applies (see section <a href="#Automatic-Variables">Automatic Variables</a>).
</p>
<p>Here is a second built-in rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">% :: RCS/%,v
        $(CO) $(COFLAGS) $&lt;
</pre></td></tr></table>

<p>defines a rule that can make any file &lsquo;<tt><var>x</var></tt>&rsquo; whatsoever from a
corresponding file &lsquo;<tt><var>x</var>,v</tt>&rsquo; in the sub-directory &lsquo;<tt>RCS</tt>&rsquo;.  Since
the target is &lsquo;<samp>%</samp>&rsquo;, this rule will apply to any file whatever, provided
the appropriate prerequisite file exists.  The double colon makes the rule
<em>terminal</em>, which means that its prerequisite may not be an intermediate
file (see section <a href="#Match_002dAnything-Rules">Match-Anything Pattern Rules</a>).
</p>
<p>This pattern rule has two targets:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.tab.c %.tab.h: %.y
        bison -d $&lt;
</pre></td></tr></table>

<p>This tells <code>make</code> that the recipe &lsquo;<samp>bison -d <var>x</var>.y</samp>&rsquo; will
make both &lsquo;<tt><var>x</var>.tab.c</tt>&rsquo; and &lsquo;<tt><var>x</var>.tab.h</tt>&rsquo;.  If the file
&lsquo;<tt>foo</tt>&rsquo; depends on the files &lsquo;<tt>parse.tab.o</tt>&rsquo; and &lsquo;<tt>scan.o</tt>&rsquo;
and the file &lsquo;<tt>scan.o</tt>&rsquo; depends on the file &lsquo;<tt>parse.tab.h</tt>&rsquo;,
when &lsquo;<tt>parse.y</tt>&rsquo; is changed, the recipe &lsquo;<samp>bison -d parse.y</samp>&rsquo;
will be executed only once, and the prerequisites of both
&lsquo;<tt>parse.tab.o</tt>&rsquo; and &lsquo;<tt>scan.o</tt>&rsquo; will be satisfied.  (Presumably
the file &lsquo;<tt>parse.tab.o</tt>&rsquo; will be recompiled from &lsquo;<tt>parse.tab.c</tt>&rsquo;
and the file &lsquo;<tt>scan.o</tt>&rsquo; from &lsquo;<tt>scan.c</tt>&rsquo;, while &lsquo;<tt>foo</tt>&rsquo; is
linked from &lsquo;<tt>parse.tab.o</tt>&rsquo;, &lsquo;<tt>scan.o</tt>&rsquo;, and its other
prerequisites, and it will execute happily ever after.)
</p>
<hr size="6">
<a name="Automatic-Variables"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pattern-Examples" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Match" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Automatic-Variables-1"></a>
<h3 class="subsection">10.5.3 Automatic Variables</h3>
<a name="index-automatic-variables"></a>
<a name="index-variables_002c-automatic"></a>
<a name="index-variables_002c-and-implicit-rule"></a>

<p>Suppose you are writing a pattern rule to compile a &lsquo;<samp>.c</samp>&rsquo; file into a
&lsquo;<samp>.o</samp>&rsquo; file: how do you write the &lsquo;<samp>cc</samp>&rsquo; command so that it operates
on the right source file name?  You cannot write the name in the recipe,
because the name is different each time the implicit rule is applied.
</p>
<p>What you do is use a special feature of <code>make</code>, the <em>automatic
variables</em>.  These variables have values computed afresh for each rule that
is executed, based on the target and prerequisites of the rule.  In this
example, you would use &lsquo;<samp>$@</samp>&rsquo; for the object file name and &lsquo;<samp>$&lt;</samp>&rsquo;
for the source file name.
</p>
<a name="index-automatic-variables-in-prerequisites"></a>
<a name="index-prerequisites_002c-and-automatic-variables"></a>
<p>It&rsquo;s very important that you recognize the limited scope in which
automatic variable values are available: they only have values within
the recipe.  In particular, you cannot use them anywhere
within the target list of a rule; they have no value there and will
expand to the empty string.  Also, they cannot be accessed directly
within the prerequisite list of a rule.  A common mistake is
attempting to use <code>$@</code> within the prerequisites list; this will
not work.  However, there is a special feature of GNU <code>make</code>,
secondary expansion (see section <a href="#Secondary-Expansion">Secondary Expansion</a>), which will allow
automatic variable values to be used in prerequisite lists.
</p>
<p>Here is a table of automatic variables:
</p>
<dl compact="compact">
<dd><a name="index-_0024_0040"></a>
<a name="index-_0040-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$@</code></dt>
<dd><p>The file name of the target of the rule.  If the target is an archive
member, then &lsquo;<samp>$@</samp>&rsquo; is the name of the archive file.  In a pattern
rule that has multiple targets (see section <a href="#Pattern-Intro">Introduction to Pattern Rules</a>), &lsquo;<samp>$@</samp>&rsquo; is the name of whichever target caused the
rule&rsquo;s recipe to be run.
</p>
<a name="index-_0024_0025"></a>
<a name="index-_0025-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$%</code></dt>
<dd><p>The target member name, when the target is an archive member.
See section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>.  For example, if the target is &lsquo;<tt>foo.a(bar.o)</tt>&rsquo; then
&lsquo;<samp>$%</samp>&rsquo; is &lsquo;<tt>bar.o</tt>&rsquo; and &lsquo;<samp>$@</samp>&rsquo; is &lsquo;<tt>foo.a</tt>&rsquo;.  &lsquo;<samp>$%</samp>&rsquo; is
empty when the target is not an archive member.
</p>
<a name="index-_0024_003c"></a>
<a name="index-_003c-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$&lt;</code></dt>
<dd><p>The name of the first prerequisite.  If the target got its recipe from
an implicit rule, this will be the first prerequisite added by the
implicit rule (see section <a href="#Implicit-Rules">Using Implicit Rules</a>).
</p>
<a name="index-_0024_003f"></a>
<a name="index-_003f-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$?</code></dt>
<dd><p>The names of all the prerequisites that are newer than the target, with
spaces between them.  If the target does not exist, all prerequisites
will be included.  For prerequisites which are archive members, only the
named member is used (see section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>).
<a name="index-prerequisites_002c-list-of-changed"></a>
<a name="index-list-of-changed-prerequisites"></a>
</p>
<a name="index-_0024_005e"></a>
<a name="index-_005e-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$^</code></dt>
<dd><p>The names of all the prerequisites, with spaces between them.  For
prerequisites which are archive members, only the named member is used
(see section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>).  A target has only one prerequisite on each other file
it depends on, no matter how many times each file is listed as a
prerequisite.  So if you list a prerequisite more than once for a target,
the value of <code>$^</code> contains just one copy of the name.  This list
does <strong>not</strong> contain any of the order-only prerequisites; for those
see the &lsquo;<samp>$|</samp>&rsquo; variable, below.
<a name="index-prerequisites_002c-list-of-all"></a>
<a name="index-list-of-all-prerequisites"></a>
</p>
<a name="index-_0024_002b"></a>
<a name="index-_002b-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$+</code></dt>
<dd><p>This is like &lsquo;<samp>$^</samp>&rsquo;, but prerequisites listed more than once are
duplicated in the order they were listed in the makefile.  This is
primarily useful for use in linking commands where it is meaningful to
repeat library file names in a particular order.
</p>
<a name="index-_0024_007c"></a>
<a name="index-_007c-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$|</code></dt>
<dd><p>The names of all the order-only prerequisites, with spaces between
them.
</p>
<a name="index-_0024_002a"></a>
<a name="index-_002a-_0028automatic-variable_0029"></a>
</dd>
<dt> <code>$*</code></dt>
<dd><p>The stem with which an implicit rule matches (see section <a href="#Pattern-Match">How Patterns Match</a>).  If the target is &lsquo;<tt>dir/a.foo.b</tt>&rsquo; and the target
pattern is &lsquo;<tt>a.%.b</tt>&rsquo; then the stem is &lsquo;<tt>dir/foo</tt>&rsquo;.  The stem is
useful for constructing names of related files.
<a name="index-stem_002c-variable-for"></a>
</p>
<p>In a static pattern rule, the stem is part of the file name that matched
the &lsquo;<samp>%</samp>&rsquo; in the target pattern.
</p>
<p>In an explicit rule, there is no stem; so &lsquo;<samp>$*</samp>&rsquo; cannot be determined
in that way.  Instead, if the target name ends with a recognized suffix
(see section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>), &lsquo;<samp>$*</samp>&rsquo; is set to
the target name minus the suffix.  For example, if the target name is
&lsquo;<samp>foo.c</samp>&rsquo;, then &lsquo;<samp>$*</samp>&rsquo; is set to &lsquo;<samp>foo</samp>&rsquo;, since &lsquo;<samp>.c</samp>&rsquo; is a
suffix.  GNU <code>make</code> does this bizarre thing only for compatibility
with other implementations of <code>make</code>.  You should generally avoid
using &lsquo;<samp>$*</samp>&rsquo; except in implicit rules or static pattern rules.
</p>
<p>If the target name in an explicit rule does not end with a recognized
suffix, &lsquo;<samp>$*</samp>&rsquo; is set to the empty string for that rule.
</p></dd>
</dl>

<p>&lsquo;<samp>$?</samp>&rsquo; is useful even in explicit rules when you wish to operate on only
the prerequisites that have changed.  For example, suppose that an archive
named &lsquo;<tt>lib</tt>&rsquo; is supposed to contain copies of several object files.
This rule copies just the changed object files into the archive:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">lib: foo.o bar.o lose.o win.o
        ar r lib $?
</pre></td></tr></table>

<p>Of the variables listed above, four have values that are single file
names, and three have values that are lists of file names.  These
seven have variants that get just the file&rsquo;s directory name or just
the file name within the directory.  The variant variables&rsquo; names are
formed by appending &lsquo;<samp>D</samp>&rsquo; or &lsquo;<samp>F</samp>&rsquo;, respectively.  The functions
<code>dir</code> and <code>notdir</code> can be used to obtain a similar effect
(see section <a href="#File-Name-Functions">Functions for File Names</a>).  Note,
however, that the &lsquo;<samp>D</samp>&rsquo; variants all omit the trailing slash which
always appears in the output of the <code>dir</code> function.  Here is a
table of the variants:
</p>
<dl compact="compact">
<dd><a name="index-_0024_0028_0040D_0029"></a>
<a name="index-_0040D-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(@D)</samp>&rsquo;</dt>
<dd><p>The directory part of the file name of the target, with the trailing
slash removed.  If the value of &lsquo;<samp>$@</samp>&rsquo; is &lsquo;<tt>dir/foo.o</tt>&rsquo; then
&lsquo;<samp>$(@D)</samp>&rsquo; is &lsquo;<tt>dir</tt>&rsquo;.  This value is &lsquo;<tt>.</tt>&rsquo; if &lsquo;<samp>$@</samp>&rsquo; does
not contain a slash.
</p>
<a name="index-_0024_0028_0040F_0029"></a>
<a name="index-_0040F-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(@F)</samp>&rsquo;</dt>
<dd><p>The file-within-directory part of the file name of the target.  If the
value of &lsquo;<samp>$@</samp>&rsquo; is &lsquo;<tt>dir/foo.o</tt>&rsquo; then &lsquo;<samp>$(@F)</samp>&rsquo; is
&lsquo;<tt>foo.o</tt>&rsquo;.  &lsquo;<samp>$(@F)</samp>&rsquo; is equivalent to &lsquo;<samp>$(notdir $@)</samp>&rsquo;.
</p>
<a name="index-_0024_0028_002aD_0029"></a>
<a name="index-_002aD-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(*D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_002aF_0029"></a>
<a name="index-_002aF-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(*F)</samp>&rsquo;</dt>
<dd><p>The directory part and the file-within-directory
part of the stem; &lsquo;<tt>dir</tt>&rsquo; and &lsquo;<tt>foo</tt>&rsquo; in this example.
</p>
<a name="index-_0024_0028_0025D_0029"></a>
<a name="index-_0025D-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(%D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_0025F_0029"></a>
<a name="index-_0025F-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(%F)</samp>&rsquo;</dt>
<dd><p>The directory part and the file-within-directory part of the target
archive member name.  This makes sense only for archive member targets
of the form &lsquo;<tt><var>archive</var>(<var>member</var>)</tt>&rsquo; and is useful only when
<var>member</var> may contain a directory name.  (See section <a href="#Archive-Members">Archive Members as Targets</a>.)
</p>
<a name="index-_0024_0028_003cD_0029"></a>
<a name="index-_003cD-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(&lt;D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_003cF_0029"></a>
<a name="index-_003cF-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(&lt;F)</samp>&rsquo;</dt>
<dd><p>The directory part and the file-within-directory
part of the first prerequisite.
</p>
<a name="index-_0024_0028_005eD_0029"></a>
<a name="index-_005eD-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(^D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_005eF_0029"></a>
<a name="index-_005eF-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(^F)</samp>&rsquo;</dt>
<dd><p>Lists of the directory parts and the file-within-directory
parts of all prerequisites.
</p>
<a name="index-_0024_0028_002bD_0029"></a>
<a name="index-_002bD-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(+D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_002bF_0029"></a>
<a name="index-_002bF-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(+F)</samp>&rsquo;</dt>
<dd><p>Lists of the directory parts and the file-within-directory
parts of all prerequisites, including multiple instances of duplicated
prerequisites.
</p>
<a name="index-_0024_0028_003fD_0029"></a>
<a name="index-_003fD-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(?D)</samp>&rsquo;</dt>
<dd><a name="index-_0024_0028_003fF_0029"></a>
<a name="index-_003fF-_0028automatic-variable_0029"></a>
</dd>
<dt> &lsquo;<samp>$(?F)</samp>&rsquo;</dt>
<dd><p>Lists of the directory parts and the file-within-directory parts of
all prerequisites that are newer than the target.
</p></dd>
</dl>

<p>Note that we use a special stylistic convention when we talk about these
automatic variables; we write &ldquo;the value of &lsquo;<samp>$&lt;</samp>&rsquo;&rdquo;, rather than
&ldquo;the variable <code>&lt;</code>&rdquo; as we would write for ordinary variables
such as <code>objects</code> and <code>CFLAGS</code>.  We think this convention
looks more natural in this special case.  Please do not assume it has a
deep significance; &lsquo;<samp>$&lt;</samp>&rsquo; refers to the variable named <code>&lt;</code> just
as &lsquo;<samp>$(CFLAGS)</samp>&rsquo; refers to the variable named <code>CFLAGS</code>.
You could just as well use &lsquo;<samp>$(&lt;)</samp>&rsquo; in place of &lsquo;<samp>$&lt;</samp>&rsquo;.
</p>
<hr size="6">
<a name="Pattern-Match"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Automatic-Variables" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Match_002dAnything-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Patterns-Match"></a>
<h3 class="subsection">10.5.4 How Patterns Match</h3>

<a name="index-stem-1"></a>
<p>A target pattern is composed of a &lsquo;<samp>%</samp>&rsquo; between a prefix and a suffix,
either or both of which may be empty.  The pattern matches a file name only
if the file name starts with the prefix and ends with the suffix, without
overlap.  The text between the prefix and the suffix is called the
<em>stem</em>.  Thus, when the pattern &lsquo;<samp>%.o</samp>&rsquo; matches the file name
&lsquo;<tt>test.o</tt>&rsquo;, the stem is &lsquo;<samp>test</samp>&rsquo;.  The pattern rule prerequisites are
turned into actual file names by substituting the stem for the character
&lsquo;<samp>%</samp>&rsquo;.  Thus, if in the same example one of the prerequisites is written
as &lsquo;<samp>%.c</samp>&rsquo;, it expands to &lsquo;<samp>test.c</samp>&rsquo;.
</p>
<p>When the target pattern does not contain a slash (and it usually does
not), directory names in the file names are removed from the file name
before it is compared with the target prefix and suffix.  After the
comparison of the file name to the target pattern, the directory
names, along with the slash that ends them, are added on to the
prerequisite file names generated from the pattern rule&rsquo;s prerequisite
patterns and the file name.  The directories are ignored only for the
purpose of finding an implicit rule to use, not in the application of
that rule.  Thus, &lsquo;<samp>e%t</samp>&rsquo; matches the file name &lsquo;<tt>src/eat</tt>&rsquo;,
with &lsquo;<samp>src/a</samp>&rsquo; as the stem.  When prerequisites are turned into file
names, the directories from the stem are added at the front, while the
rest of the stem is substituted for the &lsquo;<samp>%</samp>&rsquo;.  The stem
&lsquo;<samp>src/a</samp>&rsquo; with a prerequisite pattern &lsquo;<samp>c%r</samp>&rsquo; gives the file name
&lsquo;<tt>src/car</tt>&rsquo;.
</p>
<a name="index-pattern-rules_002c-order-of"></a>
<a name="index-order-of-pattern-rules"></a>
<p>A pattern rule can be used to build a given file only if there is a
target pattern that matches the file name, <em>and</em> all
prerequisites in that rule either exist or can be built.  The rules
you write take precedence over those that are built in. Note however,
that a rule whose prerequisites actually exist or are mentioned always
takes priority over a rule with prerequisites that must be made by
chaining other implicit rules.
</p>
<a name="index-stem_002c-shortest"></a>
<p>It is possible that more than one pattern rule will meet these
criteria.  In that case, <code>make</code> will choose the rule with the
shortest stem (that is, the pattern that matches most specifically).
If more than one pattern rule has the shortest stem, <code>make</code> will
choose the first one found in the makefile.
</p>
<p>This algorithm results in more specific rules being preferred over
more generic ones; for example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o: %.c
        $(CC) -c $(CFLAGS) $(CPPFLAGS) $&lt; -o $@

%.o : %.f
        $(COMPILE.F) $(OUTPUT_OPTION) $&lt;

lib/%.o: lib/%.c
        $(CC) -fPIC -c $(CFLAGS) $(CPPFLAGS) $&lt; -o $@
</pre></td></tr></table>

<p>Given these rules and asked to build &lsquo;<tt>bar.o</tt>&rsquo; where both
&lsquo;<tt>bar.c</tt>&rsquo; and &lsquo;<tt>bar.f</tt>&rsquo; exist, <code>make</code> will choose the first
rule and compile &lsquo;<tt>bar.c</tt>&rsquo; into &lsquo;<tt>bar.o</tt>&rsquo;.  In the same
situation where &lsquo;<tt>bar.c</tt>&rsquo; does not exist, then <code>make</code> will
choose the second rule and compile &lsquo;<tt>bar.f</tt>&rsquo; into &lsquo;<tt>bar.o</tt>&rsquo;.
</p>
<p>If <code>make</code> is asked to build &lsquo;<tt>lib/bar.o</tt>&rsquo; and both
&lsquo;<tt>lib/bar.c</tt>&rsquo; and &lsquo;<tt>lib/bar.f</tt>&rsquo; exist, then the third rule will
be chosen since the stem for this rule (&lsquo;<samp>bar</samp>&rsquo;) is shorter than
the stem for the first rule (&lsquo;<samp>lib/bar</samp>&rsquo;).  If &lsquo;<tt>lib/bar.c</tt>&rsquo;
does not exist then the third rule is not eligible and the second rule
will be used, even though the stem is longer.
</p>
<hr size="6">
<a name="Match_002dAnything-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Pattern-Match" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Canceling-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Match_002dAnything-Pattern-Rules"></a>
<h3 class="subsection">10.5.5 Match-Anything Pattern Rules</h3>

<a name="index-match_002danything-rule"></a>
<a name="index-terminal-rule"></a>
<p>When a pattern rule&rsquo;s target is just &lsquo;<samp>%</samp>&rsquo;, it matches any file name
whatever.  We call these rules <em>match-anything</em> rules.  They are very
useful, but it can take a lot of time for <code>make</code> to think about them,
because it must consider every such rule for each file name listed either
as a target or as a prerequisite.
</p>
<p>Suppose the makefile mentions &lsquo;<tt>foo.c</tt>&rsquo;.  For this target, <code>make</code>
would have to consider making it by linking an object file &lsquo;<tt>foo.c.o</tt>&rsquo;,
or by C compilation-and-linking in one step from &lsquo;<tt>foo.c.c</tt>&rsquo;, or by
Pascal compilation-and-linking from &lsquo;<tt>foo.c.p</tt>&rsquo;, and many other
possibilities.
</p>
<p>We know these possibilities are ridiculous since &lsquo;<tt>foo.c</tt>&rsquo; is a C source
file, not an executable.  If <code>make</code> did consider these possibilities,
it would ultimately reject them, because files such as &lsquo;<tt>foo.c.o</tt>&rsquo; and
&lsquo;<tt>foo.c.p</tt>&rsquo; would not exist.  But these possibilities are so
numerous that <code>make</code> would run very slowly if it had to consider
them.
</p>
<p>To gain speed, we have put various constraints on the way <code>make</code>
considers match-anything rules.  There are two different constraints that
can be applied, and each time you define a match-anything rule you must
choose one or the other for that rule.
</p>
<p>One choice is to mark the match-anything rule as <em>terminal</em> by defining
it with a double colon.  When a rule is terminal, it does not apply unless
its prerequisites actually exist.  Prerequisites that could be made with
other implicit rules are not good enough.  In other words, no further
chaining is allowed beyond a terminal rule.
</p>
<p>For example, the built-in implicit rules for extracting sources from RCS
and SCCS files are terminal; as a result, if the file &lsquo;<tt>foo.c,v</tt>&rsquo; does
not exist, <code>make</code> will not even consider trying to make it as an
intermediate file from &lsquo;<tt>foo.c,v.o</tt>&rsquo; or from &lsquo;<tt>RCS/SCCS/s.foo.c,v</tt>&rsquo;.
RCS and SCCS files are generally ultimate source files, which should not be
remade from any other files; therefore, <code>make</code> can save time by not
looking for ways to remake them.
</p>
<p>If you do not mark the match-anything rule as terminal, then it is
non-terminal.  A non-terminal match-anything rule cannot apply to a file name
that indicates a specific type of data.  A file name indicates a specific
type of data if some non-match-anything implicit rule target matches it.
</p>
<p>For example, the file name &lsquo;<tt>foo.c</tt>&rsquo; matches the target for the pattern
rule &lsquo;<samp>%.c : %.y</samp>&rsquo; (the rule to run Yacc).  Regardless of whether this
rule is actually applicable (which happens only if there is a file
&lsquo;<tt>foo.y</tt>&rsquo;), the fact that its target matches is enough to prevent
consideration of any non-terminal match-anything rules for the file
&lsquo;<tt>foo.c</tt>&rsquo;.  Thus, <code>make</code> will not even consider trying to make
&lsquo;<tt>foo.c</tt>&rsquo; as an executable file from &lsquo;<tt>foo.c.o</tt>&rsquo;, &lsquo;<tt>foo.c.c</tt>&rsquo;,
&lsquo;<tt>foo.c.p</tt>&rsquo;, etc.
</p>
<p>The motivation for this constraint is that non-terminal match-anything
rules are used for making files containing specific types of data (such as
executable files) and a file name with a recognized suffix indicates some
other specific type of data (such as a C source file).
</p>
<p>Special built-in dummy pattern rules are provided solely to recognize
certain file names so that non-terminal match-anything rules will not be
considered.  These dummy rules have no prerequisites and no recipes, and
they are ignored for all other purposes.  For example, the built-in
implicit rule
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.p :
</pre></td></tr></table>

<p>exists to make sure that Pascal source files such as &lsquo;<tt>foo.p</tt>&rsquo; match a
specific target pattern and thereby prevent time from being wasted looking
for &lsquo;<tt>foo.p.o</tt>&rsquo; or &lsquo;<tt>foo.p.c</tt>&rsquo;.
</p>
<p>Dummy pattern rules such as the one for &lsquo;<samp>%.p</samp>&rsquo; are made for every
suffix listed as valid for use in suffix rules (see section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>).
</p>
<hr size="6">
<a name="Canceling-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Match_002dAnything-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Last-Resort" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Pattern-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Canceling-Implicit-Rules"></a>
<h3 class="subsection">10.5.6 Canceling Implicit Rules</h3>

<p>You can override a built-in implicit rule (or one you have defined
yourself) by defining a new pattern rule with the same target and
prerequisites, but a different recipe.  When the new rule is defined, the
built-in one is replaced.  The new rule&rsquo;s position in the sequence of
implicit rules is determined by where you write the new rule.
</p>
<p>You can cancel a built-in implicit rule by defining a pattern rule with the
same target and prerequisites, but no recipe.  For example, the following
would cancel the rule that runs the assembler:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o : %.s
</pre></td></tr></table>

<hr size="6">
<a name="Last-Resort"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Canceling-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Suffix-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Defining-Last_002dResort-Default-Rules"></a>
<h2 class="section">10.6 Defining Last-Resort Default Rules</h2>
<a name="index-last_002dresort-default-rules"></a>
<a name="index-default-rules_002c-last_002dresort"></a>

<p>You can define a last-resort implicit rule by writing a terminal
match-anything pattern rule with no prerequisites (see section <a href="#Match_002dAnything-Rules">Match-Anything Pattern Rules</a>).  This is just like any other pattern rule; the only thing
special about it is that it will match any target.  So such a rule&rsquo;s
recipe is used for all targets and prerequisites that have no recipe
of their own and for which no other implicit rule applies.
</p>
<p>For example, when testing a makefile, you might not care if the source
files contain real data, only that they exist.  Then you might do this:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%::
        touch $@
</pre></td></tr></table>

<p>to cause all the source files needed (as prerequisites) to be created
automatically.
</p>
<a name="index-_002eDEFAULT-1"></a>
<p>You can instead define a recipe to be used for targets for which there
are no rules at all, even ones which don&rsquo;t specify recipes.  You do
this by writing a rule for the target <code>.DEFAULT</code>.  Such a rule&rsquo;s
recipe is used for all prerequisites which do not appear as targets in
any explicit rule, and for which no implicit rule applies.  Naturally,
there is no <code>.DEFAULT</code> rule unless you write one.
</p>
<p>If you use <code>.DEFAULT</code> with no recipe or prerequisites:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.DEFAULT:
</pre></td></tr></table>

<p>the recipe previously stored for <code>.DEFAULT</code> is cleared.  Then
<code>make</code> acts as if you had never defined <code>.DEFAULT</code> at all.
</p>
<p>If you do not want a target to get the recipe from a match-anything
pattern rule or <code>.DEFAULT</code>, but you also do not want any recipe
to be run for the target, you can give it an empty recipe
(see section <a href="#Empty-Recipes">Defining Empty Recipes</a>).
</p>
<p>You can use a last-resort rule to override part of another makefile.
See section <a href="#Overriding-Makefiles">Overriding Part of Another Makefile</a>.
</p>
<hr size="6">
<a name="Suffix-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Last-Resort" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rule-Search" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Old_002dFashioned-Suffix-Rules"></a>
<h2 class="section">10.7 Old-Fashioned Suffix Rules</h2>
<a name="index-old_002dfashioned-suffix-rules"></a>
<a name="index-suffix-rule"></a>

<p><em>Suffix rules</em> are the old-fashioned way of defining implicit rules for
<code>make</code>.  Suffix rules are obsolete because pattern rules are more
general and clearer.  They are supported in GNU <code>make</code> for
compatibility with old makefiles.  They come in two kinds:
<em>double-suffix</em> and <em>single-suffix</em>.
</p>
<p>A double-suffix rule is defined by a pair of suffixes: the target
suffix and the source suffix.  It matches any file whose name ends
with the target suffix.  The corresponding implicit prerequisite is
made by replacing the target suffix with the source suffix in the file
name.  A two-suffix rule &lsquo;<samp>.c.o</samp>&rsquo; (whose target and source suffixes
are &lsquo;<samp>.o</samp>&rsquo; and &lsquo;<samp>.c</samp>&rsquo;) is equivalent to the pattern rule
&lsquo;<samp>%.o : %.c</samp>&rsquo;.
</p>
<p>A single-suffix rule is defined by a single suffix, which is the source
suffix.  It matches any file name, and the corresponding implicit
prerequisite name is made by appending the source suffix.  A single-suffix
rule whose source suffix is &lsquo;<samp>.c</samp>&rsquo; is equivalent to the pattern rule
&lsquo;<samp>% : %.c</samp>&rsquo;.
</p>
<p>Suffix rule definitions are recognized by comparing each rule&rsquo;s target
against a defined list of known suffixes.  When <code>make</code> sees a rule
whose target is a known suffix, this rule is considered a single-suffix
rule.  When <code>make</code> sees a rule whose target is two known suffixes
concatenated, this rule is taken as a double-suffix rule.
</p>
<p>For example, &lsquo;<samp>.c</samp>&rsquo; and &lsquo;<samp>.o</samp>&rsquo; are both on the default list of
known suffixes.  Therefore, if you define a rule whose target is
&lsquo;<samp>.c.o</samp>&rsquo;, <code>make</code> takes it to be a double-suffix rule with source
suffix &lsquo;<samp>.c</samp>&rsquo; and target suffix &lsquo;<samp>.o</samp>&rsquo;.  Here is the old-fashioned
way to define the rule for compiling a C source file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.c.o:
        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;
</pre></td></tr></table>

<p>Suffix rules cannot have any prerequisites of their own.  If they have any,
they are treated as normal files with funny names, not as suffix rules.
Thus, the rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.c.o: foo.h
        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;
</pre></td></tr></table>

<p>tells how to make the file &lsquo;<tt>.c.o</tt>&rsquo; from the prerequisite file
&lsquo;<tt>foo.h</tt>&rsquo;, and is not at all like the pattern rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">%.o: %.c foo.h
        $(CC) -c $(CFLAGS) $(CPPFLAGS) -o $@ $&lt;
</pre></td></tr></table>

<p>which tells how to make &lsquo;<samp>.o</samp>&rsquo; files from &lsquo;<samp>.c</samp>&rsquo; files, and makes all
&lsquo;<samp>.o</samp>&rsquo; files using this pattern rule also depend on &lsquo;<tt>foo.h</tt>&rsquo;.
</p>
<p>Suffix rules with no recipe are also meaningless.  They do not remove
previous rules as do pattern rules with no recipe (see section <a href="#Canceling-Rules">Canceling Implicit Rules</a>).  They simply enter the suffix or
pair of suffixes concatenated as a target in the data base.
</p>
<a name="index-_002eSUFFIXES-1"></a>
<p>The known suffixes are simply the names of the prerequisites of the special
target <code>.SUFFIXES</code>.  You can add your own suffixes by writing a rule
for <code>.SUFFIXES</code> that adds more prerequisites, as in:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SUFFIXES: .hack .win
</pre></td></tr></table>

<p>which adds &lsquo;<samp>.hack</samp>&rsquo; and &lsquo;<samp>.win</samp>&rsquo; to the end of the list of suffixes.
</p>
<p>If you wish to eliminate the default known suffixes instead of just adding
to them, write a rule for <code>.SUFFIXES</code> with no prerequisites.  By
special dispensation, this eliminates all existing prerequisites of
<code>.SUFFIXES</code>.  You can then write another rule to add the suffixes you
want.  For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.SUFFIXES:            # <span class="roman">Delete the default suffixes</span>
.SUFFIXES: .c .o .h   # <span class="roman">Define our suffix list</span>
</pre></td></tr></table>

<p>The &lsquo;<samp>-r</samp>&rsquo; or &lsquo;<samp>--no-builtin-rules</samp>&rsquo; flag causes the default
list of suffixes to be empty.
</p>
<a name="index-SUFFIXES"></a>
<p>The variable <code>SUFFIXES</code> is defined to the default list of suffixes
before <code>make</code> reads any makefiles.  You can change the list of suffixes
with a rule for the special target <code>.SUFFIXES</code>, but that does not alter
this variable.
</p>
<hr size="6">
<a name="Implicit-Rule-Search"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Suffix-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Implicit-Rule-Search-Algorithm"></a>
<h2 class="section">10.8 Implicit Rule Search Algorithm</h2>
<a name="index-implicit-rule_002c-search-algorithm"></a>
<a name="index-search-algorithm_002c-implicit-rule"></a>

<p>Here is the procedure <code>make</code> uses for searching for an implicit rule
for a target <var>t</var>.  This procedure is followed for each double-colon
rule with no recipe, for each target of ordinary rules none of which have
a recipe, and for each prerequisite that is not the target of any rule.  It
is also followed recursively for prerequisites that come from implicit
rules, in the search for a chain of rules.
</p>
<p>Suffix rules are not mentioned in this algorithm because suffix rules are
converted to equivalent pattern rules once the makefiles have been read in.
</p>
<p>For an archive member target of the form
&lsquo;<samp><var>archive</var>(<var>member</var>)</samp>&rsquo;, the following algorithm is run
twice, first using the entire target name <var>t</var>, and second using
&lsquo;<samp>(<var>member</var>)</samp>&rsquo; as the target <var>t</var> if the first run found no
rule.
</p>
<ol>
<li>
Split <var>t</var> into a directory part, called <var>d</var>, and the rest,
called <var>n</var>.  For example, if <var>t</var> is &lsquo;<samp>src/foo.o</samp>&rsquo;, then
<var>d</var> is &lsquo;<samp>src/</samp>&rsquo; and <var>n</var> is &lsquo;<samp>foo.o</samp>&rsquo;.

</li><li>
Make a list of all the pattern rules one of whose targets matches
<var>t</var> or <var>n</var>.  If the target pattern contains a slash, it is
matched against <var>t</var>; otherwise, against <var>n</var>.

</li><li>
If any rule in that list is <em>not</em> a match-anything rule, then
remove all non-terminal match-anything rules from the list.

</li><li>
Remove from the list all rules with no recipe.

</li><li>
For each pattern rule in the list:

<ol>
<li>
Find the stem <var>s</var>, which is the nonempty part of <var>t</var> or <var>n</var>
matched by the &lsquo;<samp>%</samp>&rsquo; in the target pattern.

</li><li>
Compute the prerequisite names by substituting <var>s</var> for &lsquo;<samp>%</samp>&rsquo;; if
the target pattern does not contain a slash, append <var>d</var> to
the front of each prerequisite name.

</li><li>
Test whether all the prerequisites exist or ought to exist.  (If a
file name is mentioned in the makefile as a target or as an explicit
prerequisite, then we say it ought to exist.)

<p>If all prerequisites exist or ought to exist, or there are no prerequisites,
then this rule applies.
</p></li></ol>

</li><li>
If no pattern rule has been found so far, try harder.
For each pattern rule in the list:

<ol>
<li>
If the rule is terminal, ignore it and go on to the next rule.

</li><li>
Compute the prerequisite names as before.

</li><li>
Test whether all the prerequisites exist or ought to exist.

</li><li>
For each prerequisite that does not exist, follow this algorithm
recursively to see if the prerequisite can be made by an implicit
rule.

</li><li>
If all prerequisites exist, ought to exist, or can be
made by implicit rules, then this rule applies.
</li></ol>

</li><li>
If no implicit rule applies, the rule for <code>.DEFAULT</code>, if any,
applies.  In that case, give <var>t</var> the same recipe that
<code>.DEFAULT</code> has.  Otherwise, there is no recipe for <var>t</var>.
</li></ol>

<p>Once a rule that applies has been found, for each target pattern of
the rule other than the one that matched <var>t</var> or <var>n</var>, the
&lsquo;<samp>%</samp>&rsquo; in the pattern is replaced with <var>s</var> and the resultant
file name is stored until the recipe to remake the target file <var>t</var>
is executed.  After the recipe is executed, each of these stored file
names are entered into the data base and marked as having been updated
and having the same update status as the file <var>t</var>.
</p>
<p>When the recipe of a pattern rule is executed for <var>t</var>, the
automatic variables are set corresponding to the target and
prerequisites.  See section <a href="#Automatic-Variables">Automatic Variables</a>.
</p>
<hr size="6">
<a name="Archives"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Implicit-Rule-Search" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Members" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Implicit-Rules" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Using-make-to-Update-Archive-Files"></a>
<h1 class="chapter">11. Using <code>make</code> to Update Archive Files</h1>
<a name="index-archive"></a>

<p><em>Archive files</em> are files containing named sub-files called
<em>members</em>; they are maintained with the program <code>ar</code> and their
main use is as subroutine libraries for linking.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Archive-Members">11.1 Archive Members as Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Archive members as targets.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Update">11.2 Implicit Rule for Archive Member Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              The implicit rule for archive member targets.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">            Dangers to watch out for when using archives.
</td></tr>
<tr><td align="left" valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">        You can write a special kind of suffix rule
                                  for updating archives.
</td></tr>
</table>

<hr size="6">
<a name="Archive-Members"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archives" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Update" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Archive-Members-as-Targets"></a>
<h2 class="section">11.1 Archive Members as Targets</h2>
<a name="index-archive-member-targets"></a>

<p>An individual member of an archive file can be used as a target or
prerequisite in <code>make</code>.  You specify the member named <var>member</var> in
archive file <var>archive</var> as follows:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><var>archive</var>(<var>member</var>)
</pre></td></tr></table>

<p>This construct is available only in targets and prerequisites, not in
recipes!  Most programs that you might use in recipes do not support
this syntax and cannot act directly on archive members.  Only
<code>ar</code> and other programs specifically designed to operate on
archives can do so.  Therefore, valid recipes to update an archive
member target probably must use <code>ar</code>.  For example, this rule
says to create a member &lsquo;<tt>hack.o</tt>&rsquo; in archive &lsquo;<tt>foolib</tt>&rsquo; by
copying the file &lsquo;<tt>hack.o</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foolib(hack.o) : hack.o
        ar cr foolib hack.o
</pre></td></tr></table>

<p>In fact, nearly all archive member targets are updated in just this way
and there is an implicit rule to do it for you.  <strong>Please note:</strong> The
&lsquo;<samp>c</samp>&rsquo; flag to <code>ar</code> is required if the archive file does not
already exist.
</p>
<p>To specify several members in the same archive, you can write all the
member names together between the parentheses.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foolib(hack.o kludge.o)
</pre></td></tr></table>

<p>is equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">foolib(hack.o) foolib(kludge.o)
</pre></td></tr></table>

<a name="index-wildcard_002c-in-archive-member"></a>
<p>You can also use shell-style wildcards in an archive member reference.
See section <a href="#Wildcards">Using Wildcard Characters in File Names</a>.  For
example, &lsquo;<samp>foolib(*.o)</samp>&rsquo; expands to all existing members of the
&lsquo;<tt>foolib</tt>&rsquo; archive whose names end in &lsquo;<samp>.o</samp>&rsquo;; perhaps
&lsquo;<samp>foolib(hack.o) foolib(kludge.o)</samp>&rsquo;.
</p>
<hr size="6">
<a name="Archive-Update"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archive-Members" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Symbols" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Implicit-Rule-for-Archive-Member-Targets"></a>
<h2 class="section">11.2 Implicit Rule for Archive Member Targets</h2>

<p>Recall that a target that looks like &lsquo;<tt><var>a</var>(<var>m</var>)</tt>&rsquo; stands for the
member named <var>m</var> in the archive file <var>a</var>.
</p>
<p>When <code>make</code> looks for an implicit rule for such a target, as a special
feature it considers implicit rules that match &lsquo;<tt>(<var>m</var>)</tt>&rsquo;, as well as
those that match the actual target &lsquo;<tt><var>a</var>(<var>m</var>)</tt>&rsquo;.
</p>
<p>This causes one special rule whose target is &lsquo;<tt>(%)</tt>&rsquo; to match.  This
rule updates the target &lsquo;<tt><var>a</var>(<var>m</var>)</tt>&rsquo; by copying the file <var>m</var>
into the archive.  For example, it will update the archive member target
&lsquo;<tt>foo.a(bar.o)</tt>&rsquo; by copying the <em>file</em> &lsquo;<tt>bar.o</tt>&rsquo; into the
archive &lsquo;<tt>foo.a</tt>&rsquo; as a <em>member</em> named &lsquo;<tt>bar.o</tt>&rsquo;.
</p>
<p>When this rule is chained with others, the result is very powerful.
Thus, &lsquo;<samp>make &quot;foo.a(bar.o)&quot;</samp>&rsquo; (the quotes are needed to protect the
&lsquo;<samp>(</samp>&rsquo; and &lsquo;<samp>)</samp>&rsquo; from being interpreted specially by the shell) in
the presence of a file &lsquo;<tt>bar.c</tt>&rsquo; is enough to cause the following
recipe to be run, even without a makefile:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">cc -c bar.c -o bar.o
ar r foo.a bar.o
rm -f bar.o
</pre></td></tr></table>

<p>Here <code>make</code> has envisioned the file &lsquo;<tt>bar.o</tt>&rsquo; as an intermediate
file.  See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
</p>
<p>Implicit rules such as this one are written using the automatic variable
&lsquo;<samp>$%</samp>&rsquo;.  See section <a href="#Automatic-Variables">Automatic Variables</a>.
</p>
<p>An archive member name in an archive cannot contain a directory name, but
it may be useful in a makefile to pretend that it does.  If you write an
archive member target &lsquo;<tt>foo.a(dir/file.o)</tt>&rsquo;, <code>make</code> will perform
automatic updating with this recipe:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ar r foo.a dir/file.o
</pre></td></tr></table>

<p>which has the effect of copying the file &lsquo;<tt>dir/file.o</tt>&rsquo; into a member
named &lsquo;<tt>file.o</tt>&rsquo;.  In connection with such usage, the automatic variables
<code>%D</code> and <code>%F</code> may be useful.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             How to update archive symbol directories.
</td></tr>
</table>

<hr size="6">
<a name="Archive-Symbols"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archive-Update" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Pitfalls" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Update" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Updating-Archive-Symbol-Directories"></a>
<h3 class="subsection">11.2.1 Updating Archive Symbol Directories</h3>
<a name="index-_005f_005f_002eSYMDEF"></a>
<a name="index-updating-archive-symbol-directories"></a>
<a name="index-archive-symbol-directory-updating"></a>
<a name="index-symbol-directories_002c-updating-archive"></a>
<a name="index-directories_002c-updating-archive-symbol"></a>

<p>An archive file that is used as a library usually contains a special member
named &lsquo;<tt>__.SYMDEF</tt>&rsquo; that contains a directory of the external symbol
names defined by all the other members.  After you update any other
members, you need to update &lsquo;<tt>__.SYMDEF</tt>&rsquo; so that it will summarize the
other members properly.  This is done by running the <code>ranlib</code> program:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">ranlib <var>archivefile</var>
</pre></td></tr></table>

<p>Normally you would put this command in the rule for the archive file,
and make all the members of the archive file prerequisites of that rule.
For example,
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">libfoo.a: libfoo.a(x.o) libfoo.a(y.o) &hellip;
        ranlib libfoo.a
</pre></td></tr></table>

<p>The effect of this is to update archive members &lsquo;<tt>x.o</tt>&rsquo;, &lsquo;<tt>y.o</tt>&rsquo;,
etc., and then update the symbol directory member &lsquo;<tt>__.SYMDEF</tt>&rsquo; by
running <code>ranlib</code>.  The rules for updating the members are not shown
here; most likely you can omit them and use the implicit rule which copies
files into the archive, as described in the preceding section.
</p>
<p>This is not necessary when using the GNU <code>ar</code> program, which
updates the &lsquo;<tt>__.SYMDEF</tt>&rsquo; member automatically.
</p>
<hr size="6">
<a name="Archive-Pitfalls"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archive-Symbols" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archive-Suffix-Rules" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Dangers-When-Using-Archives"></a>
<h2 class="section">11.3 Dangers When Using Archives</h2>
<a name="index-archive_002c-and-parallel-execution"></a>
<a name="index-parallel-execution_002c-and-archive-update"></a>
<a name="index-archive_002c-and-_002dj"></a>
<a name="index-_002dj_002c-and-archive-update"></a>

<p>It is important to be careful when using parallel execution (the
<code>-j</code> switch; see section <a href="#Parallel">Parallel Execution</a>) and archives.
If multiple <code>ar</code> commands run at the same time on the same archive
file, they will not know about each other and can corrupt the file.
</p>
<p>Possibly a future version of <code>make</code> will provide a mechanism to
circumvent this problem by serializing all recipes that operate on the
same archive file.  But for the time being, you must either write your
makefiles to avoid this problem in some other way, or not use <code>-j</code>.
</p>
<hr size="6">
<a name="Archive-Suffix-Rules"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archive-Pitfalls" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Archives" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Suffix-Rules-for-Archive-Files"></a>
<h2 class="section">11.4 Suffix Rules for Archive Files</h2>
<a name="index-suffix-rule_002c-for-archive"></a>
<a name="index-archive_002c-suffix-rule-for"></a>
<a name="index-library-archive_002c-suffix-rule-for"></a>
<a name="index-_002ea-_0028archives_0029"></a>

<p>You can write a special kind of suffix rule for dealing with archive
files.  See section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>, for a full explanation of suffix rules.
Archive suffix rules are obsolete in GNU <code>make</code>, because pattern
rules for archives are a more general mechanism (see section <a href="#Archive-Update">Implicit Rule for Archive Member Targets</a>).  But they are retained for compatibility with other
<code>make</code>s.
</p>
<p>To write a suffix rule for archives, you simply write a suffix rule
using the target suffix &lsquo;<samp>.a</samp>&rsquo; (the usual suffix for archive files).
For example, here is the old-fashioned suffix rule to update a library
archive from C source files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.c.a:
        $(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $*.o
        $(AR) r $@ $*.o
        $(RM) $*.o
</pre></td></tr></table>

<p>This works just as if you had written the pattern rule:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%.o): %.c
        $(CC) $(CFLAGS) $(CPPFLAGS) -c $&lt; -o $*.o
        $(AR) r $@ $*.o
        $(RM) $*.o
</pre></td></tr></table>

<p>In fact, this is just what <code>make</code> does when it sees a suffix rule
with &lsquo;<samp>.a</samp>&rsquo; as the target suffix.  Any double-suffix rule
&lsquo;<samp>.<var>x</var>.a</samp>&rsquo; is converted to a pattern rule with the target
pattern &lsquo;<samp>(%.o)</samp>&rsquo; and a prerequisite pattern of &lsquo;<samp>%.<var>x</var></samp>&rsquo;.
</p>
<p>Since you might want to use &lsquo;<samp>.a</samp>&rsquo; as the suffix for some other kind
of file, <code>make</code> also converts archive suffix rules to pattern rules
in the normal way (see section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>).  Thus a double-suffix rule
&lsquo;<samp>.<var>x</var>.a</samp>&rsquo; produces two pattern rules: &lsquo;<samp>(%.o):
%.<var>x</var></samp>&rsquo; and &lsquo;<samp>%.a: %.<var>x</var></samp>&rsquo;.
</p>
<hr size="6">
<a name="Extending-make"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Archive-Suffix-Rules" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Integration" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Archives" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Extending-GNU-make"></a>
<h1 class="chapter">12. Extending GNU <code>make</code></h1>
<a name="index-make-extensions"></a>

<p>GNU <code>make</code> provides many advanced capabilities, including many
useful functions.  However, it does not contain a complete programming
language and so it has limitations.  Sometimes these limitations can be
overcome through use of the <code>shell</code> function to invoke a separate
program, although this can be inefficient.
</p>
<p>In cases where the built-in capabilities of GNU <code>make</code> are
insufficient to your requirements there are two options for extending
<code>make</code>.  On systems where it&rsquo;s provided, you can utilize GNU
Guile as an embedded scripting language (see section <a href="#Guile-Integration">GNU Guile Integration</a>).  On systems which support dynamically loadable
objects, you can write your own extension in any language (which can
be compiled into such an object) and load it to provide extended
capabilities (see section <a href="#load-Directive">The <code>load</code> Directive</a>).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Guile-Integration">12.1 GNU Guile Integration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Using Guile as an embedded scripting language.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loading-Objects">12.2 Loading Dynamic Objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Loading dynamic objects as extensions.
</td></tr>
</table>

<hr size="6">
<a name="Guile-Integration"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Extending-make" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Types" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Guile-Integration"></a>
<h2 class="section">12.1 GNU Guile Integration</h2>
<a name="index-Guile-1"></a>
<a name="index-extensions_002c-Guile"></a>

<p>GNU <code>make</code> may be built with support for GNU Guile as an embedded
extension language.  Guile implements the Scheme language.  A review
of GNU Guile and the Scheme language and its features is beyond the
scope of this manual: see the documentation for GNU Guile and Scheme.
</p>
<p>You can determine if <code>make</code> contains support for Guile by
examining the <code>.FEATURES</code> variable; it will contain the word
<var>guile</var> if Guile support is available.
</p>
<p>The Guile integration provides one new <code>make</code> function: <code>guile</code>.
The <code>guile</code> function takes one argument which is first expanded
by <code>make</code> in the normal fashion, then passed to the GNU Guile
evaluator.  The result of the evaluator is converted into a string and
used as the expansion of the <code>guile</code> function in the makefile.
</p>
<p>In addition, GNU <code>make</code> exposes Guile procedures for use in Guile
scripts.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Guile-Types">12.1.1 Conversion of Guile Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Converting Guile types to <code>make</code> strings.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Invoking <code>make</code> functions from Guile.
</td></tr>
<tr><td align="left" valign="top"><a href="#Guile-Example">12.1.3 Example Using Guile in <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">               Example using Guile in <code>make</code>.
</td></tr>
</table>

<hr size="6">
<a name="Guile-Types"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guile-Integration" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Interface" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Integration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Conversion-of-Guile-Types"></a>
<h3 class="subsection">12.1.1 Conversion of Guile Types</h3>
<a name="index-convert-guile-types"></a>
<a name="index-guile_002c-conversion-of-types"></a>
<a name="index-types_002c-conversion-of"></a>

<p>There is only one &ldquo;data type&rdquo; in <code>make</code>: a string.  GNU Guile,
on the other hand, provides a rich variety of different data types.
An important aspect of the interface between <code>make</code> and GNU Guile
is the conversion of Guile data types into <code>make</code> strings.
</p>
<p>This conversion is relevant in two places: when a makefile invokes the
<code>guile</code> function to evaluate a Guile expression, the result of
that evaluation must be converted into a make string so it can be
further evaluated by <code>make</code>.  And secondly, when a Guile script
invokes one of the procedures exported by <code>make</code> the argument
provided to the procedure must be converted into a string.
</p>
<p>The conversion of Guile types into <code>make</code> strings is as below:
</p>
<dl compact="compact">
<dt> <code>#f</code></dt>
<dd><p>False is converted into the empty string: in <code>make</code> conditionals
the empty string is considered false.
</p>
</dd>
<dt> <code>#t</code></dt>
<dd><p>True is converted to the string &lsquo;<samp>#t</samp>&rsquo;: in <code>make</code> conditionals
any non-empty string is considered true.
</p>
</dd>
<dt> <code>symbol</code></dt>
<dt> <code>number</code></dt>
<dd><p>A symbol or number is converted into the string representation of that
symbol or number.
</p>
</dd>
<dt> <code>character</code></dt>
<dd><p>A printable character is converted to the same character.
</p>
</dd>
<dt> <code>string</code></dt>
<dd><p>A string containing only printable characters is converted to the same
string.
</p>
</dd>
<dt> <code>list</code></dt>
<dd><p>A list is converted recursively according to the above rules.  This
implies that any structured list will be flattened (that is, a result
of &lsquo;<samp>'(a b (c d) e)</samp>&rsquo; will be converted to the <code>make</code> string
&lsquo;<samp>a b c d e</samp>&rsquo;).
</p>
</dd>
<dt> <code>other</code></dt>
<dd><p>Any other Guile type results in an error.  In future versions of
<code>make</code>, other Guile types may be converted.
</p>
</dd>
</dl>

<p>The translation of &lsquo;<samp>#f</samp>&rsquo; (to the empty string) and &lsquo;<samp>#t</samp>&rsquo; (to
the non-empty string &lsquo;<samp>#t</samp>&rsquo;) is designed to allow you to use Guile
boolean results directly as <code>make</code> boolean conditions.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(if $(guile (access? &quot;myfile&quot; R_OK)),$(info myfile exists))
</pre></td></tr></table>

<p>As a consequence of these conversion rules you must consider the
result of your Guile script, as that result will be converted into a
string and parsed by <code>make</code>.  If there is no natural result for
the script (that is, the script exists solely for its side-effects),
you should add &lsquo;<samp>#f</samp>&rsquo; as the final expression in order to avoid
syntax errors in your makefile.
</p>
<hr size="6">
<a name="Guile-Interface"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guile-Types" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Integration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Interfaces-from-Guile-to-make"></a>
<h3 class="subsection">12.1.2 Interfaces from Guile to <code>make</code></h3>
<a name="index-make-interface-to-guile"></a>
<a name="index-make-procedures-in-guile"></a>

<p>In addition to the <code>guile</code> function available in makefiles,
<code>make</code> exposes some procedures for use in your Guile scripts.  At
startup <code>make</code> creates a new Guile module, <code>gnu make</code>, and
exports these procedures as public interfaces from that module:
</p>
<dl compact="compact">
<dt> <code>gmk-expand</code></dt>
<dd><a name="index-gmk_002dexpand"></a>
<p>This procedure takes a single argument which is converted into a
string.  The string is expanded by <code>make</code> using normal
<code>make</code> expansion rules.  The result of the expansion is converted
into a Guile string and provided as the result of the procedure.
</p>
</dd>
<dt> <code>gmk-eval</code></dt>
<dd><a name="index-gmk_002deval"></a>
<p>This procedure takes a single argument which is converted into a
string.  The string is evaluated by <code>make</code> as if it were a
makefile.  This is the same capability available via the <code>eval</code>
function (see section <a href="#Eval-Function">The <code>eval</code> Function</a>).  The result of the <code>gmk-eval</code>
procedure is always the empty string.
</p>
<p>Note that <code>gmk-eval</code> is not quite the same as using
<code>gmk-expand</code> with the <code>eval</code> function: in the latter case
the evaluated string will be expanded <em>twice</em>; first by
<code>gmk-expand</code>, then again by the <code>eval</code> function.
</p>
</dd>
</dl>

<hr size="6">
<a name="Guile-Example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guile-Interface" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loading-Objects" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Guile-Integration" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Example-Using-Guile-in-make"></a>
<h3 class="subsection">12.1.3 Example Using Guile in <code>make</code></h3>
<a name="index-Guile-example"></a>
<a name="index-example-using-Guile"></a>

<p>Here is a very simple example using GNU Guile to manage writing to a
file.  These Guile procedures simply open a file, allow writing to the
file (one string per line), and close the file.  Note that because we
cannot store complex values such as Guile ports in <code>make</code>
variables, we&rsquo;ll keep the port as a global variable in the Guile
interpreter.
</p>
<p>You can create Guile functions easily using <code>define</code>/<code>endef</code>
to create a Guile script, then use the <code>guile</code> function to
internalize it:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">define GUILEIO
;; A simple Guile IO library for GNU make

(define MKPORT #f)

(define (mkopen name mode)
  (set! MKPORT (open-file name mode))
  #f)

(define (mkwrite s)
  (display s MKPORT)
  (newline MKPORT)
  #f)

(define (mkclose)
  (close-port MKPORT)
  #f)

#f
endef

# Internalize the Guile IO functions
$(guile $(GUILEIO))
</pre></td></tr></table>

<p>If you have a significant amount of Guile support code, you might
consider keeping it in a different file (e.g., &lsquo;<tt>guileio.scm</tt>&rsquo;) and
then loading it in your makefile using the <code>guile</code> function:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$(guile (load &quot;guileio.scm&quot;))
</pre></td></tr></table>

<p>An advantage to this method is that when editing &lsquo;<tt>guileio.scm</tt>&rsquo;,
your editor will understand that this file contains Scheme syntax
rather than makefile syntax.
</p>
<p>Now you can use these Guile functions to create files.  Suppose you
need to operate on a very large list, which cannot fit on the command
line, but the utility you&rsquo;re using accepts the list as input as well:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">prog: $(PREREQS)
        @$(guile (mkopen &quot;tmp.out&quot; &quot;w&quot;)) \
         $(foreach X,$^,$(guile (mkwrite &quot;$(X)&quot;))) \
         $(guile (mkclose))
        $(LINK) &lt; tmp.out
</pre></td></tr></table>

<p>A more comprehensive suite of file manipulation procedures is possible
of course.  You could, for example, maintain multiple output files at
the same time by choosing a symbol for each one and using it as the
key to a hash table, where the value is a port, then returning the
symbol to be stored in a <code>make</code> variable.
</p>
<hr size="6">
<a name="Loading-Objects"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Guile-Example" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#load-Directive" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Loading-Dynamic-Objects"></a>
<h2 class="section">12.2 Loading Dynamic Objects</h2>
<a name="index-loaded-objects"></a>
<a name="index-objects_002c-loaded"></a>
<a name="index-extensions_002c-loading"></a>

<table class="cartouche" border="1"><tr><td>
<blockquote><p><b>Warning:</b> The <code>load</code> directive and extension capability is considered a
&ldquo;technology preview&rdquo; in this release of GNU make.  We encourage you
to experiment with this feature and we appreciate any feedback on it.
However we cannot guarantee to maintain backward-compatibility in the
next release.  Consider using GNU Guile instead for extending GNU make
(see section <a href="#Guile-Function">The <code>guile</code> Function</a>).
</p></blockquote>
</td></tr></table>

<p>Many operating systems provide a facility for dynamically loading
compiled objects.  If your system provides this facility, GNU
<code>make</code> can make use of it to load dynamic objects at runtime,
providing new capabilities which may then be invoked by your makefile.
</p>
<p>The <code>load</code> directive is used to load a dynamic object.  Once the
object is loaded, a &ldquo;setup&rdquo; function will be invoked to allow the
object to initialize itself and register new facilities with GNU
<code>make</code>.  A dynamic object might include new <code>make</code> functions,
for example, and the &ldquo;setup&rdquo; function would register them with GNU
<code>make</code>&rsquo;s function handling system.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">              Loading dynamic objects as extensions.
</td></tr>
<tr><td align="left" valign="top"><a href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">     How loaded objects get remade.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loaded-Object-API">12.2.3 Loaded Object Interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Programmatic interface for loaded objects.
</td></tr>
<tr><td align="left" valign="top"><a href="#Loaded-Object-Example">12.2.4 Example Loaded Object</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">       Example of a loaded object
</td></tr>
</table>

<hr size="6">
<a name="load-Directive"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Loading-Objects" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Remaking-Loaded-Objects" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loading-Objects" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="The-load-Directive"></a>
<h3 class="subsection">12.2.1 The <code>load</code> Directive</h3>
<a name="index-load-directive"></a>
<a name="index-extensions_002c-load-directive"></a>

<p>Objects are loaded into GNU <code>make</code> by placing the <code>load</code>
directive into your makefile.  The syntax of the <code>load</code> directive
is as follows:
</p>
<a name="index-load"></a>
<table><tr><td>&nbsp;</td><td><pre class="example">load <var>object-file</var> &hellip;
</pre></td></tr></table>

<p>or:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">load <var>object-file</var>(<var>symbol-name</var>) &hellip;
</pre></td></tr></table>

<p>The file <var>object-file</var> is dynamically loaded by GNU <code>make</code>.
If <var>object-file</var> does not include a directory path then it is
first looked for in the current directory.  If it is not found there,
or a directory path is included, then system-specific paths will be
searched.  If the load fails for any reason, <code>make</code> will print a
message and exit.
</p>
<p>If the load succeeds <code>make</code> will invoke an initializing function.
</p>
<p>If <var>symbol-name</var> is provided, it will be used as the name of the
initializing function.
</p>
<p>If no <var>symbol-name</var> is provided, the initializing function name is
created by taking the base file name of <var>object-file</var>, up to the
first character which is not a valid symbol name character
(alphanumerics and underscores are valid symbol name characters).  To
this prefix will be appended the suffix <code>_gmk_setup</code>.
</p>
<p>More than one object file may be loaded with a single <code>load</code>
directive, and both forms of <code>load</code> arguments may be used in the
same directive.
</p>
<p>The initializing function will be provided the file name and line
number of the invocation of the <code>load</code> operation.  It should
return a value of type <code>int</code>, which must be <code>0</code> on failure
and non-<code>0</code> on success.  If the return value is <code>-1</code>, then
GNU make will <em>not</em> attempt to rebuild the object file
(see section <a href="#Remaking-Loaded-Objects">How Loaded Objects Are Remade</a>).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">load ../mk_funcs.so
</pre></td></tr></table>

<p>will load the dynamic object &lsquo;<tt>../mk_funcs.so</tt>&rsquo;.  After the object
is loaded, <code>make</code> will invoke the function (assumed to be defined
by the shared object) <code>mk_funcs_gmk_setup</code>.
</p>
<p>On the other hand:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">load ../mk_funcs.so(init_mk_func)
</pre></td></tr></table>

<p>will load the dynamic object &lsquo;<tt>../mk_funcs.so</tt>&rsquo;.  After the object
is loaded, <code>make</code> will invoke the function <code>init_mk_func</code>.
</p>
<p>Regardless of how many times an object file appears in a <code>load</code>
directive, it will only be loaded (and its setup function will only
be invoked) once.
</p>
<a name="index-_002eLOADED"></a>
<p>After an object has been successfully loaded, its file name is
appended to the <code>.LOADED</code> variable.
</p>
<a name="index-_002dload"></a>
<p>If you would prefer that failure to load a dynamic object not be
reported as an error, you can use the <code>-load</code> directive instead
of <code>load</code>.  GNU <code>make</code> will not fail and no message will be
generated if an object fails to load.  The failed object is not added
to the <code>.LOADED</code> variable, which can then be consulted to
determine if the load was successful.
</p>
<hr size="6">
<a name="Remaking-Loaded-Objects"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#load-Directive" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loaded-Object-API" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loading-Objects" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="How-Loaded-Objects-Are-Remade"></a>
<h3 class="subsection">12.2.2 How Loaded Objects Are Remade</h3>
<a name="index-updating-loaded-objects"></a>
<a name="index-remaking-loaded-objects"></a>
<a name="index-loaded-objects_002c-remaking-of"></a>

<p>Loaded objects undergo the same re-make procedure as makefiles
(see section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>).  If any
loaded object is recreated, then <code>make</code> will start from scratch
and re-read all the makefiles, and reload the object files again.  It
is not necessary for the loaded object to do anything special to
support this.
</p>
<p>It&rsquo;s up to the makefile author to provide the rules needed for
rebuilding the loaded object.
</p>
<hr size="6">
<a name="Loaded-Object-API"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Remaking-Loaded-Objects" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loaded-Object-Example" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loading-Objects" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Loaded-Object-Interface"></a>
<h3 class="subsection">12.2.3 Loaded Object Interface</h3>
<a name="index-loaded-object-API"></a>
<a name="index-interface-for-loaded-objects"></a>

<table class="cartouche" border="1"><tr><td>
<blockquote><p><b>Warning:</b> For this feature to be useful your extensions will need to invoke
various functions internal to GNU <code>make</code>.  The programming
interfaces provided in this release should not be considered stable:
functions may be added, removed, or change calling signatures or
implementations in future versions of GNU <code>make</code>.
</p></blockquote>
</td></tr></table>

<p>To be useful, loaded objects must be able to interact with GNU
<code>make</code>.  This interaction includes both interfaces the loaded
object provides to makefiles and also interfaces <code>make</code> provides
to the loaded object to manipulate <code>make</code>&rsquo;s operation.
</p>
<p>The interface between loaded objects and <code>make</code> is defined by the
&lsquo;<tt>gnumake.h</tt>&rsquo; C header file.  All loaded objects written in C
should include this header file.  Any loaded object not written in C
will need to implement the interface defined in this header file.
</p>
<p>Typically, a loaded object will register one or more new GNU
<code>make</code> functions using the <code>gmk_add_function</code> routine from
within its setup function.  The implementations of these <code>make</code>
functions may make use of the <code>gmk_expand</code> and <code>gmk_eval</code>
routines to perform their tasks, then optionally return a string as
the result of the function expansion.
</p>
<a name="Loaded-Object-Licensing"></a>
<h4 class="subsubheading">Loaded Object Licensing</h4>
<a name="index-loaded-object-licensing"></a>
<a name="index-plugin_005fis_005fGPL_005fcompatible"></a>

<p>Every dynamic extension should define the global symbol
<code>plugin_is_GPL_compatible</code> to assert that it has been licensed
under a GPL-compatible license.  If this symbol does not exist,
<code>make</code> emits a fatal error and exits when it tries to load your
extension.
</p>
<p>The declared type of the symbol should be <code>int</code>. It does not need
to be in any allocated section, though.  The code merely asserts that
the symbol exists in the global scope. Something like this is enough:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">int plugin_is_GPL_compatible;
</pre></td></tr></table>

<a name="Data-Structures"></a>
<h4 class="subsubheading">Data Structures</h4>

<dl compact="compact">
<dt> <code>gmk_floc</code></dt>
<dd><p>This structure represents a filename/location pair.  It is provided
when defining items, so GNU <code>make</code> can inform the user later
where the definition occurred if necessary.
</p></dd>
</dl>

<a name="Registering-Functions"></a>
<h4 class="subsubheading">Registering Functions</h4>
<a name="index-gmk_005fadd_005ffunction"></a>

<p>There is currently one way for makefiles to invoke operations provided
by the loaded object: through the <code>make</code> function call
interface.  A loaded object can register one or more new functions
which may then be invoked from within the makefile in the same way as
any other function.
</p>
<p>Use <code>gmk_add_function</code> to create a new <code>make</code> function.  Its
arguments are as follows:
</p>
<dl compact="compact">
<dt> <code>name</code></dt>
<dd><p>The function name.  This is what the makefile should use to invoke the
function.  The name must be between 1 and 255 characters long and it
may only contain alphanumeric, period (&lsquo;<samp>.</samp>&rsquo;), dash (&lsquo;<samp>-</samp>&rsquo;), and
underscore (&lsquo;<samp>_</samp>&rsquo;) characters.  It may not begin with a period.
</p>
</dd>
<dt> <code>func_ptr</code></dt>
<dd><p>A pointer to a function that <code>make</code> will invoke when it expands
the function in a makefile.  This function must be defined by the
loaded object.
</p>
</dd>
<dt> <code>min_args</code></dt>
<dd><p>The minimum number of arguments the function will accept.  Must be
between 0 and 255.  GNU <code>make</code> will check this and fail before
invoking <code>func_ptr</code> if the function was invoked with too few
arguments.
</p>
</dd>
<dt> <code>max_args</code></dt>
<dd><p>The maximum number of arguments the function will accept.  Must be
between 0 and 255.  GNU <code>make</code> will check this and fail before
invoking <code>func_ptr</code> if the function was invoked with too few
arguments.  If the value is 0, then any number of arguments is
accepted.  If the value is greater than 0, then it must be greater
than or equal to <code>min_args</code>.
</p>
</dd>
<dt> <code>flags</code></dt>
<dd><p>Flags that specify how this function will operate; the desired flags
should be OR&rsquo;d together.  If the <code>GMK_FUNC_NOEXPAND</code> flag is
given then the function arguments will not be expanded before the
function is called; otherwise they will be expanded first.
</p></dd>
</dl>

<a name="Registered-Function-Interface"></a>
<h4 class="subsubheading">Registered Function Interface</h4>
<a name="index-gmk_005ffunc_005fptr"></a>

<p>A function registered with <code>make</code> must match the
<code>gmk_func_ptr</code> type.  It will be invoked with three parameters:
<code>name</code> (the name of the function), <code>argc</code> (the number of
arguments to the function), and <code>argv</code> (an array of pointers to
arguments to the function).  The last pointer (that is,
<code>argv[argc]</code>) will be null (<code>0</code>).
</p>
<p>The return value of the function is the result of expanding the
function.  If the function expands to nothing the return value may be
null.  Otherwise, it must be a pointer to a string created with
<code>gmk_alloc</code>.  Once the function returns, <code>make</code> owns this
string and will free it when appropriate; it cannot be accessed by the
loaded object.
</p>
<a name="GNU-make-Facilities"></a>
<h4 class="subsubheading">GNU <code>make</code> Facilities</h4>

<p>There are some facilities exported by GNU <code>make</code> for use by
loaded objects.  Typically these would be run from within the
setup function and/or the functions registered via
<code>gmk_add_function</code>, to retrieve or modify the data <code>make</code>
works with.
</p>
<dl compact="compact">
<dt> <code>gmk_expand</code></dt>
<dd><a name="index-gmk_005fexpand"></a>
<p>This function takes a string and expands it using <code>make</code>
expansion rules.  The result of the expansion is returned in a
nil-terminated string buffer.  The caller is responsible for calling
<code>gmk_free</code> with a pointer to the returned buffer when done.
</p>
</dd>
<dt> <code>gmk_eval</code></dt>
<dd><a name="index-gmk_005feval"></a>
<p>This function takes a buffer and evaluates it as a segment of makefile
syntax.  This function can be used to define new variables, new rules,
etc.  It is equivalent to using the <code>eval</code> <code>make</code> function.
</p></dd>
</dl>

<p>Note that there is a difference between <code>gmk_eval</code> and calling
<code>gmk_expand</code> with a string using the <code>eval</code> function: in
the latter case the string will be expanded <em>twice</em>; once by
<code>gmk_expand</code> and then again by the <code>eval</code> function.  Using
<code>gmk_eval</code> the buffer is only expanded once, at most (as it&rsquo;s
read by the <code>make</code> parser).
</p>
<a name="Memory-Management"></a>
<h4 class="subsubheading">Memory Management</h4>

<p>Some systems allow for different memory management schemes.  Thus you
should never pass memory that you&rsquo;ve allocated directly to any
<code>make</code> function, nor should you attempt to directly free any
memory returned to you by any <code>make</code> function.  Instead, use the
<code>gmk_alloc</code> and <code>gmk_free</code> functions.
</p>
<p>In particular, the string returned to <code>make</code> by a function
registered using <code>gmk_add_function</code> <em>must</em> be allocated
using <code>gmk_alloc</code>, and the string returned from the <code>make</code>
<code>gmk_expand</code> function <em>must</em> be freed (when no longer
needed) using <code>gmk_free</code>.
</p>
<dl compact="compact">
<dt> <code>gmk_alloc</code></dt>
<dd><a name="index-gmk_005falloc"></a>
<p>Return a pointer to a newly-allocated buffer.  This function will
always return a valid pointer; if not enough memory is available
<code>make</code> will exit.
</p>
</dd>
<dt> <code>gmk_free</code></dt>
<dd><a name="index-gmk_005ffree"></a>
<p>Free a buffer returned to you by <code>make</code>.  Once the
<code>gmk_free</code> function returns the string will no longer be valid.
</p></dd>
</dl>

<hr size="6">
<a name="Loaded-Object-Example"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Loaded-Object-API" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Loading-Objects" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Example-Loaded-Object"></a>
<h3 class="subsection">12.2.4 Example Loaded Object</h3>
<a name="index-loaded-object-example"></a>
<a name="index-example-of-loaded-objects"></a>

<p>Let&rsquo;s suppose we wanted to write a new GNU <code>make</code> function that
would create a temporary file and return its name.  We would like our
function to take a prefix as an argument.  First we can write the
function in a file &lsquo;<tt>mk_temp.c</tt>&rsquo;:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#include &lt;stdlib.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;errno.h&gt;

#include &lt;gnumake.h&gt;

int plugin_is_GPL_compatible;

char *
gen_tmpfile(const char *nm, int argc, char **argv)
{
  int fd;

  /* Compute the size of the filename and allocate space for it.  */
  int len = strlen (argv[0]) + 6 + 1;
  char *buf = gmk_alloc (len);

  strcpy (buf, argv[0]);
  strcat (buf, &quot;XXXXXX&quot;);

  fd = mkstemp(buf);
  if (fd &gt;= 0)
    {
      /* Don't leak the file descriptor.  */
      close (fd);
      return buf;
    }

  /* Failure.  */
  fprintf (stderr, &quot;mkstemp(%s) failed: %s\n&quot;, buf, strerror (errno));
  gmk_free (buf);
  return NULL;
}

int
mk_temp_gmk_setup ()
{
  /* Register the function with make name &quot;mk-temp&quot;.  */
  gmk_add_function (&quot;mk-temp&quot;, gen_tmpfile, 1, 1, 1);
  return 1;
}
</pre></td></tr></table>

<p>Next, we will write a makefile that can build this shared object, load
it, and use it:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">all:
        @echo Temporary file: $(mk-temp tmpfile.)

load mk_temp.so

mk_temp.so: mk_temp.c
        $(CC) -shared -fPIC -o $&nbsp;$&lt;
</pre></td></tr></table>

<p>On MS-Windows, due to peculiarities of how shared objects are
produced, the compiler needs to scan the <em>import library</em> produced
when building <code>make</code>, typically called
&lsquo;<tt>libgnumake-<var>version</var>.dll.a</tt>&rsquo;, where <var>version</var> is the
version of the load object API.  So the recipe to produce a shared
object will look on Windows like this (assuming the API version is 1):
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">mk_temp.dll: mk_temp.c
        $(CC) -shared -o $&nbsp;$&lt; -lgnumake-1
</pre></td></tr></table>

<p>Now when you run <code>make</code> you&rsquo;ll see something like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">$ make
cc -shared -fPIC -o mk_temp.so mk_temp.c
Temporary filename: tmpfile.A7JEwd
</pre></td></tr></table>

<hr size="6">
<a name="Integrating-make"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Loaded-Object-Example" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Job-Slots" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Extending-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Integrating-GNU-make"></a>
<h1 class="chapter">13. Integrating GNU <code>make</code></h1>
<a name="index-make-integration"></a>

<p>GNU <code>make</code> is often one component in a larger system of tools,
including integrated development environments, compiler toolchains,
and others.  The role of <code>make</code> is to start commands and
determine whether they succeeded or not: no special integration is
needed to accomplish that.  However, sometimes it is convenient to
bind <code>make</code> more tightly with other parts of the system, both
higher-level (tools that invoke <code>make</code>) and lower-level (tools
that <code>make</code> invokes).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                   Share job slots with GNU <code>make</code>.
</td></tr>
<tr><td align="left" valign="top"><a href="#Terminal-Output">13.2 Synchronized Terminal Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Control output to terminals.
</td></tr>
</table>

<hr size="6">
<a name="Job-Slots"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Integrating-make" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#POSIX-Jobserver" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Sharing-Job-Slots-with-GNU-make"></a>
<h2 class="section">13.1 Sharing Job Slots with GNU <code>make</code></h2>
<a name="index-job-slots_002c-sharing"></a>
<a name="index-tools_002c-sharing-job-slots"></a>

<p>GNU <code>make</code> has the ability to run multiple recipes in parallel
(see section <a href="#Parallel">Parallel Execution</a>) and to cap the total number of
parallel jobs even across recursive invocations of <code>make</code>
(see section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>).  Tools that <code>make</code> invokes which are also able
to run multiple operations in parallel, either using multiple threads
or multiple processes, can be enhanced to participate in GNU
<code>make</code>&rsquo;s job management facility to ensure that the total number
of active threads/processes running on the system does not exceed the
maximum number of slots provided to GNU <code>make</code>. 
</p>
<a name="index-jobserver"></a>
<p>GNU <code>make</code> uses a method called the &ldquo;jobserver&rdquo; to control the
number of active jobs across recursive invocations.  The actual
implementation of the jobserver varies across different operating
systems, but some fundamental aspects are always true.
</p>
<p>First, only command lines that <code>make</code> understands to be recursive
invocations of <code>make</code> (see section <a href="#MAKE-Variable">How the <code>MAKE</code> Variable Works</a>) will have access to the jobserver.  When writing
makefiles you must be sure to mark the command as recursive (most
commonly by prefixing the command line with the <code>+</code> indicator
(see section <a href="#Recursion">Recursive Use of <code>make</code></a>).
</p>
<p>Second, <code>make</code> will provide information necessary for accessing
the jobserver through the environment to its children, in the
<code>MAKEFLAGS</code> environment variable.  Tools which want to
participate in the jobserver protocol will need to parse this
environment variable, as described in subsequent sections.
</p>
<p>Third, every command <code>make</code> starts has one implicit job slot
reserved for it before it starts.  Any tool which wants to participate
in the jobserver protocol should assume it can always run one job
without having to contact the jobserver at all.
</p>
<p>Finally, it&rsquo;s critical that tools that participate in the jobserver
protocol return the exact number of slots they obtained from the
jobserver back to the jobserver before they exit, even under error
conditions.  Remember that the implicit job slot should <strong>not</strong>
be returned to the jobserver!  Returning too few slots means that
those slots will be lost for the rest of the build process; returning
too many slots means that extra slots will be available.  The
top-level <code>make</code> command will print an error message at the end
of the build if it detects an incorrect number of slots available in
the jobserver.
</p>
<p>As an example, suppose you are implementing a linker which provides
for multithreaded operation.  You would like to enhance the linker so
that if it is invoked by GNU <code>make</code> it can participate in the
jobserver protocol to control how many threads are used during link.
First you will need to modify the linker to determine if the
<code>MAKEFLAGS</code> environment variable is set.  Next you will need to
parse the value of that variable to determine if the jobserver is
available, and how to access it.  If it is available then you can
access it to obtain job slots controlling how much parallelism your
tool can use.  Once done your tool must return those job slots back to
the jobserver.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#POSIX-Jobserver">13.1.1 POSIX Jobserver Interaction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">             Using the jobserver on POSIX systems.
</td></tr>
<tr><td align="left" valign="top"><a href="#Windows-Jobserver">13.1.2 Windows Jobserver Interaction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Using the jobserver on Windows systems.
</td></tr>
</table>

<hr size="6">
<a name="POSIX-Jobserver"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Job-Slots" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Windows-Jobserver" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Job-Slots" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="POSIX-Jobserver-Interaction"></a>
<h3 class="subsection">13.1.1 POSIX Jobserver Interaction</h3>
<a name="index-jobserver-on-POSIX"></a>

<p>On POSIX systems the jobserver is implemented as a simple UNIX pipe.
The pipe will be pre-loaded with one single-character token for each
available job.  To obtain an extra slot you must read a single
character from the jobserver pipe; to release a slot you must write a
single character back into the jobserver pipe.  Note that the read
side of the jobserver pipe is set to &ldquo;blocking&rdquo; mode.
</p>
<p>To access the pipe you must parse the <code>MAKEFLAGS</code> variable and
look for the argument string <code>--jobserver-auth=R,W</code> where
&lsquo;<samp>R</samp>&rsquo; and &lsquo;<samp>W</samp>&rsquo; are non-negative integers representing file
descriptors: &lsquo;<samp>R</samp>&rsquo; is the read file descriptor and &lsquo;<samp>W</samp>&rsquo; is the
write file descriptor.
</p>
<p>It&rsquo;s important that when you release the job slot, you write back the
same character you read from the pipe for that slot.  Don&rsquo;t assume
that all tokens are the same character; different characters may have
different meanings to GNU <code>make</code>.  The order is not important,
since <code>make</code> has no idea in what order jobs will complete anyway.
</p>
<p>There are various error conditions you must consider to ensure your
implementation is robust:
</p>
<ul>
<li>
Usually you will have a command-line argument controlling the parallel
operation of your tool.  Consider whether your tool should detect
situations where both the jobserver and the command-line argument are
specified, and how it should react.

</li><li>
If your tool determines that the <code>--jobserver-auth</code> option is
available in <code>MAKEFLAGS</code> but that the file descriptors specified
are closed, this means that the calling <code>make</code> process did not
think that your tool was a recursive <code>make</code> invocation (e.g., the
command line was not prefixed with a <code>+</code> character).  You should
notify your users of this situation.

</li><li>
Your tool should also examine the first word of the <code>MAKEFLAGS</code>
variable and look for the character <code>n</code>.  If this character is
present then <code>make</code> was invoked with the &lsquo;<samp>-n</samp>&rsquo; option and
your tool should stop without performing any operations.

</li><li>
Your tool should be sure to write back the tokens it read, even under
error conditions.  This includes not only errors in your tool but also
outside influences such as interrupts (<code>SIGINT</code>), etc.  You may
want to install signal handlers to manage this write-back.
</li></ul>

<hr size="6">
<a name="Windows-Jobserver"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#POSIX-Jobserver" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Terminal-Output" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Job-Slots" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Windows-Jobserver-Interaction"></a>
<h3 class="subsection">13.1.2 Windows Jobserver Interaction</h3>
<a name="index-jobserver-on-Windows"></a>

<p>On Windows systems the jobserver is implemented as a named semaphore.
The semaphore will be set with an initial count equal to the number of
available slots; to obtain a slot you must wait on the semaphore (with
or without a timeout).  To release a slot, release the semaphore.
</p>
<p>To access the semaphore you must parse the <code>MAKEFLAGS</code> variable and
look for the argument string <code>--jobserver-auth=NAME</code> where
&lsquo;<samp>NAME</samp>&rsquo; is the name of the named semaphore.  Use this name with
<code>OpenSemaphore</code> to create a handle to the semaphore.
</p>
<p>There are various error conditions you must consider to ensure your
implementation is robust:
</p>
<ul>
<li>
Usually you will have a command-line argument controlling the parallel
operation of your tool.  Consider whether your tool should detect
situations where both the jobserver and the command-line argument are
specified, and how it should react.

</li><li>
Your tool should be sure to release the semaphore for the tokens it
read, even under error conditions.  This includes not only errors in
your tool but also outside influences such as interrupts
(<code>SIGINT</code>), etc.  You may want to install signal handlers to
manage this write-back.
</li></ul>

<hr size="6">
<a name="Terminal-Output"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Windows-Jobserver" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Features" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Synchronized-Terminal-Output"></a>
<h2 class="section">13.2 Synchronized Terminal Output</h2>
<a name="index-parallel-output-to-terminal"></a>
<a name="index-terminal_002c-output-to"></a>

<p>Normally GNU <code>make</code> will invoke all commands with access to the
same standard and error outputs that <code>make</code> itself was started
with.  A number of tools will detect whether the output is a terminal
or not-a-terminal, and use this information to change the output
style.  For example if the output goes to a terminal the tool may add
control characters that set color, or even change the location of the
cursor.  If the output is not going to a terminal then these special
control characters are not emitted so that they don&rsquo;t corrupt log
files, etc.
</p>
<p>The <code>--output-sync</code> (see section <a href="#Parallel-Output">Output During Parallel Output</a>) option will defeat the terminal detection.  When
output synchronization is enabled GNU <code>make</code> arranges for all
command output to be written to a file, so that its output can be
written as a block without interference from other commands.  This
means that all tools invoked by <code>make</code> will believe that their
output is not going to be displayed on a terminal, even when it will
be (because <code>make</code> will display it there after the command is
completed).
</p>
<p>In order to facilitate tools which would like to determine whether or
not their output will be displayed on a terminal, GNU <code>make</code> will
set the <code>MAKE_TERMOUT</code> and <code>MAKE_TERMERR</code> environment
variables before invoking any commands.  Tools which would like to
determine whether standard or error output (respectively) will be
displayed on a terminal can check these environment variables to
determine if they exist and contain a non-empty value.  If so the tool
can assume that the output will (eventually) be displayed on a
terminal.  If the variables are not set or have an empty value, then
the tool should fall back to its normal methods of detecting whether
output is going to a terminal or not.
</p>
<p>The content of the variables can be parsed to determine the type of
terminal which will be used to display the output.
</p>
<p>Similarly, environments which invoke <code>make</code> and would like to
capture the output and eventually display it on a terminal (or some
display which can interpret terminal control characters) can set these
variables before invoking <code>make</code>.  GNU <code>make</code> will not
modify these environment variables if they already exist when it
starts.
</p>
<hr size="6">
<a name="Features"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Terminal-Output" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Missing" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Integrating-make" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Missing" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Features-of-GNU-make"></a>
<h1 class="chapter">14. Features of GNU <code>make</code></h1>
<a name="index-features-of-GNU-make"></a>
<a name="index-portability"></a>
<a name="index-compatibility"></a>

<p>Here is a summary of the features of GNU <code>make</code>, for comparison
with and credit to other versions of <code>make</code>.  We consider the
features of <code>make</code> in 4.2 BSD systems as a baseline.  If you are
concerned with writing portable makefiles, you should not use the
features of <code>make</code> listed here, nor the ones in <a href="#Missing">Incompatibilities and Missing Features</a>.
</p>
<p>Many features come from the version of <code>make</code> in System V.
</p>
<ul>
<li>
The <code>VPATH</code> variable and its special meaning.
See section <a href="#Directory-Search">Searching Directories for Prerequisites</a>.
This feature exists in System V <code>make</code>, but is undocumented.
It is documented in 4.3 BSD <code>make</code> (which says it mimics System V&rsquo;s
<code>VPATH</code> feature).

</li><li>
Included makefiles.  See section <a href="#Include">Including Other Makefiles</a>.
Allowing multiple files to be included with a single directive is a GNU
extension.

</li><li>
Variables are read from and communicated via the environment.
See section <a href="#Environment">Variables from the Environment</a>.

</li><li>
Options passed through the variable <code>MAKEFLAGS</code> to recursive
invocations of <code>make</code>.
See section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>.

</li><li>
The automatic variable <code>$%</code> is set to the member name
in an archive reference.  See section <a href="#Automatic-Variables">Automatic Variables</a>.

</li><li>
The automatic variables <code>$@</code>, <code>$*</code>, <code>$&lt;</code>, <code>$%</code>,
and <code>$?</code> have corresponding forms like <code>$(@F)</code> and
<code>$(@D)</code>.  We have generalized this to <code>$^</code> as an obvious
extension.  See section <a href="#Automatic-Variables">Automatic Variables</a>.

</li><li>
Substitution variable references.
See section <a href="#Reference">Basics of Variable References</a>.

</li><li>
The command line options &lsquo;<samp>-b</samp>&rsquo; and &lsquo;<samp>-m</samp>&rsquo;, accepted and
ignored.  In System V <code>make</code>, these options actually do something.

</li><li>
Execution of recursive commands to run <code>make</code> via the variable
<code>MAKE</code> even if &lsquo;<samp>-n</samp>&rsquo;, &lsquo;<samp>-q</samp>&rsquo; or &lsquo;<samp>-t</samp>&rsquo; is specified.
See section <a href="#Recursion">Recursive Use of <code>make</code></a>.

</li><li>
Support for suffix &lsquo;<samp>.a</samp>&rsquo; in suffix rules.  See section <a href="#Archive-Suffix-Rules">Suffix Rules for Archive Files</a>.  This feature is obsolete in GNU <code>make</code>, because the
general feature of rule chaining (see section <a href="#Chained-Rules">Chains of Implicit Rules</a>) allows one pattern rule for installing members in an
archive (see section <a href="#Archive-Update">Implicit Rule for Archive Member Targets</a>) to be sufficient.

</li><li>
The arrangement of lines and backslash/newline combinations in
recipes is retained when the recipes are printed, so they appear as
they do in the makefile, except for the stripping of initial
whitespace.
</li></ul>

<p>The following features were inspired by various other versions of
<code>make</code>.  In some cases it is unclear exactly which versions inspired
which others.
</p>
<ul>
<li>
Pattern rules using &lsquo;<samp>%</samp>&rsquo;.
This has been implemented in several versions of <code>make</code>.
We&rsquo;re not sure who invented it first, but it&rsquo;s been spread around a bit.
See section <a href="#Pattern-Rules">Defining and Redefining Pattern Rules</a>.

</li><li>
Rule chaining and implicit intermediate files.
This was implemented by Stu Feldman in his version of <code>make</code>
for AT&amp;T Eighth Edition Research Unix, and later by Andrew Hume of
AT&amp;T Bell Labs in his <code>mk</code> program (where he terms it
&ldquo;transitive closure&rdquo;).  We do not really know if
we got this from either of them or thought it up ourselves at the
same time.  See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.

</li><li>
The automatic variable <code>$^</code> containing a list of all prerequisites
of the current target.  We did not invent this, but we have no idea who
did.  See section <a href="#Automatic-Variables">Automatic Variables</a>.  The automatic variable
<code>$+</code> is a simple extension of <code>$^</code>.

</li><li>
The &ldquo;what if&rdquo; flag (&lsquo;<samp>-W</samp>&rsquo; in GNU <code>make</code>) was (as far as we know)
invented by Andrew Hume in <code>mk</code>.
See section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>.

</li><li>
The concept of doing several things at once (parallelism) exists in
many incarnations of <code>make</code> and similar programs, though not in the
System V or BSD implementations.  See section <a href="#Execution">Recipe Execution</a>.

</li><li>
A number of different build tools that support parallelism also
support collecting output and displaying as a single block.
See section <a href="#Parallel-Output">Output During Parallel Execution</a>.

</li><li>
Modified variable references using pattern substitution come from
SunOS 4.  See section <a href="#Reference">Basics of Variable References</a>.
This functionality was provided in GNU <code>make</code> by the
<code>patsubst</code> function before the alternate syntax was implemented
for compatibility with SunOS 4.  It is not altogether clear who
inspired whom, since GNU <code>make</code> had <code>patsubst</code> before SunOS
4 was released.

</li><li>
The special significance of &lsquo;<samp>+</samp>&rsquo; characters preceding recipe lines
(see section <a href="#Instead-of-Execution">Instead of Executing Recipes</a>) is
mandated by <cite>IEEE Standard 1003.2-1992</cite> (POSIX.2).

</li><li>
The &lsquo;<samp>+=</samp>&rsquo; syntax to append to the value of a variable comes from SunOS
4 <code>make</code>.  See section <a href="#Appending">Appending More Text to Variables</a>.

</li><li>
The syntax &lsquo;<samp><var>archive</var>(<var>mem1</var> <var>mem2</var>&hellip;)</samp>&rsquo; to list
multiple members in a single archive file comes from SunOS 4 <code>make</code>.
See section <a href="#Archive-Members">Archive Members as Targets</a>.

</li><li>
The <code>-include</code> directive to include makefiles with no error for a
nonexistent file comes from SunOS 4 <code>make</code>.  (But note that SunOS 4
<code>make</code> does not allow multiple makefiles to be specified in one
<code>-include</code> directive.)  The same feature appears with the name
<code>sinclude</code> in SGI <code>make</code> and perhaps others.

</li><li>
The <code>!=</code> shell assignment operator exists in many BSD of
<code>make</code> and is purposefully implemented here to behave identically
to those implementations.

</li><li>
Various build management tools are implemented using scripting
languages such as Perl or Python and thus provide a natural embedded
scripting language, similar to GNU <code>make</code>&rsquo;s integration of GNU
Guile.
</li></ul>

<p>The remaining features are inventions new in GNU <code>make</code>:
</p>
<ul>
<li>
Use the &lsquo;<samp>-v</samp>&rsquo; or &lsquo;<samp>--version</samp>&rsquo; option to print version and
copyright information.

</li><li>
Use the &lsquo;<samp>-h</samp>&rsquo; or &lsquo;<samp>--help</samp>&rsquo; option to summarize the options to
<code>make</code>.

</li><li>
Simply-expanded variables.  See section <a href="#Flavors">The Two Flavors of Variables</a>.

</li><li>
Pass command line variable assignments automatically through the
variable <code>MAKE</code> to recursive <code>make</code> invocations.
See section <a href="#Recursion">Recursive Use of <code>make</code></a>.

</li><li>
Use the &lsquo;<samp>-C</samp>&rsquo; or &lsquo;<samp>--directory</samp>&rsquo; command option to change
directory.  See section <a href="#Options-Summary">Summary of Options</a>.

</li><li>
Make verbatim variable definitions with <code>define</code>.
See section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>.

</li><li>
Declare phony targets with the special target <code>.PHONY</code>.

<p>Andrew Hume of AT&amp;T Bell Labs implemented a similar feature with a
different syntax in his <code>mk</code> program.  This seems to be a case of
parallel discovery.  See section <a href="#Phony-Targets">Phony Targets</a>.
</p>
</li><li>
Manipulate text by calling functions.
See section <a href="#Functions">Functions for Transforming Text</a>.

</li><li>
Use the &lsquo;<samp>-o</samp>&rsquo; or &lsquo;<samp>--old-file</samp>&rsquo;
option to pretend a file&rsquo;s modification-time is old.
See section <a href="#Avoiding-Compilation">Avoiding Recompilation of Some Files</a>.

</li><li>
Conditional execution.

<p>This feature has been implemented numerous times in various versions
of <code>make</code>; it seems a natural extension derived from the features
of the C preprocessor and similar macro languages and is not a
revolutionary concept.  See section <a href="#Conditionals">Conditional Parts of Makefiles</a>.
</p>
</li><li>
Specify a search path for included makefiles.
See section <a href="#Include">Including Other Makefiles</a>.

</li><li>
Specify extra makefiles to read with an environment variable.
See section <a href="#MAKEFILES-Variable">The Variable <code>MAKEFILES</code></a>.

</li><li>
Strip leading sequences of &lsquo;<samp>./</samp>&rsquo; from file names, so that
&lsquo;<tt>./<var>file</var></tt>&rsquo; and &lsquo;<tt><var>file</var></tt>&rsquo; are considered to be the
same file.

</li><li>
Use a special search method for library prerequisites written in the
form &lsquo;<samp>-l<var>name</var></samp>&rsquo;.
See section <a href="#Libraries_002fSearch">Directory Search for Link Libraries</a>.

</li><li>
Allow suffixes for suffix rules
(see section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>) to contain any
characters.  In other versions of <code>make</code>, they must begin with
&lsquo;<samp>.</samp>&rsquo; and not contain any &lsquo;<samp>/</samp>&rsquo; characters.

</li><li>
Keep track of the current level of <code>make</code> recursion using the
variable <code>MAKELEVEL</code>.  See section <a href="#Recursion">Recursive Use of <code>make</code></a>.

</li><li>
Provide any goals given on the command line in the variable
<code>MAKECMDGOALS</code>.  See section <a href="#Goals">Arguments to Specify the Goals</a>.

</li><li>
Specify static pattern rules.  See section <a href="#Static-Pattern">Static Pattern Rules</a>.

</li><li>
Provide selective <code>vpath</code> search.
See section <a href="#Directory-Search">Searching Directories for Prerequisites</a>.

</li><li>
Provide computed variable references.
See section <a href="#Reference">Basics of Variable References</a>.

</li><li>
Update makefiles.  See section <a href="#Remaking-Makefiles">How Makefiles Are Remade</a>.
System V <code>make</code> has a very, very limited form of this
functionality in that it will check out SCCS files for makefiles.

</li><li>
Various new built-in implicit rules.
See section <a href="#Catalogue-of-Rules">Catalogue of Built-In Rules</a>.

</li><li>
Load dynamic objects which can modify the behavior of <code>make</code>.
See section <a href="#Loading-Objects">Loading Dynamic Objects</a>.
</li></ul>

<hr size="6">
<a name="Missing"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Features" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Quick-Reference" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Features" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Quick-Reference" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Incompatibilities-and-Missing-Features"></a>
<h1 class="chapter">15. Incompatibilities and Missing Features</h1>
<a name="index-incompatibilities"></a>
<a name="index-missing-features"></a>
<a name="index-features_002c-missing"></a>

<p>The <code>make</code> programs in various other systems support a few features
that are not implemented in GNU <code>make</code>.  The POSIX.2 standard
(<cite>IEEE Standard 1003.2-1992</cite>) which specifies <code>make</code> does not
require any of these features.
</p>
<ul>
<li>
A target of the form &lsquo;<samp><var>file</var>((<var>entry</var>))</samp>&rsquo; stands for a member
of archive file <var>file</var>.  The member is chosen, not by name, but by
being an object file which defines the linker symbol <var>entry</var>.

<p>This feature was not put into GNU <code>make</code> because of the
non-modularity of putting knowledge into <code>make</code> of the internal
format of archive file symbol tables.
See section <a href="#Archive-Symbols">Updating Archive Symbol Directories</a>.
</p>
</li><li>
Suffixes (used in suffix rules) that end with the character &lsquo;<samp>~</samp>&rsquo;
have a special meaning to System V <code>make</code>;
they refer to the SCCS file that corresponds
to the file one would get without the &lsquo;<samp>~</samp>&rsquo;.  For example, the
suffix rule &lsquo;<samp>.c~.o</samp>&rsquo; would make the file &lsquo;<tt><var>n</var>.o</tt>&rsquo; from
the SCCS file &lsquo;<tt>s.<var>n</var>.c</tt>&rsquo;.  For complete coverage, a whole
series of such suffix rules is required.
See section <a href="#Suffix-Rules">Old-Fashioned Suffix Rules</a>.

<p>In GNU <code>make</code>, this entire series of cases is handled by two
pattern rules for extraction from SCCS, in combination with the
general feature of rule chaining.
See section <a href="#Chained-Rules">Chains of Implicit Rules</a>.
</p>
</li><li>
In System V and 4.3 BSD <code>make</code>, files found by <code>VPATH</code>
search (see section <a href="#Directory-Search">Searching Directories for Prerequisites</a>) have their names changed inside recipes.  We feel it
is much cleaner to always use automatic variables and thus make this
feature unnecessary.

</li><li>
In some Unix <code>make</code>s, the automatic variable <code>$*</code> appearing in
the prerequisites of a rule has the amazingly strange &ldquo;feature&rdquo; of
expanding to the full name of the <em>target of that rule</em>.  We cannot
imagine what went on in the minds of Unix <code>make</code> developers to do
this; it is utterly inconsistent with the normal definition of <code>$*</code>.
<a name="index-_002a-_0028automatic-variable_0029_002c-unsupported-bizarre-usage"></a>

</li><li>
In some Unix <code>make</code>s, implicit rule search (see section <a href="#Implicit-Rules">Using Implicit Rules</a>) is apparently done for <em>all</em>
targets, not just those without recipes.  This means you can
do:

<table><tr><td>&nbsp;</td><td><pre class="example">foo.o:
        cc -c foo.c
</pre></td></tr></table>

<p>and Unix <code>make</code> will intuit that &lsquo;<tt>foo.o</tt>&rsquo; depends on
&lsquo;<tt>foo.c</tt>&rsquo;.
</p>
<p>We feel that such usage is broken.  The prerequisite properties of
<code>make</code> are well-defined (for GNU <code>make</code>, at least),
and doing such a thing simply does not fit the model.
</p>
</li><li>
GNU <code>make</code> does not include any built-in implicit rules for
compiling or preprocessing EFL programs.  If we hear of anyone who is
using EFL, we will gladly add them.

</li><li>
It appears that in SVR4 <code>make</code>, a suffix rule can be specified
with no recipe, and it is treated as if it had an empty recipe
(see section <a href="#Empty-Recipes">Using Empty Recipes</a>).  For example:

<table><tr><td>&nbsp;</td><td><pre class="example">.c.a:
</pre></td></tr></table>

<p>will override the built-in &lsquo;<tt>.c.a</tt>&rsquo; suffix rule.
</p>
<p>We feel that it is cleaner for a rule without a recipe to always simply
add to the prerequisite list for the target.  The above example can be
easily rewritten to get the desired behavior in GNU <code>make</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">.c.a: ;
</pre></td></tr></table>

</li><li>
Some versions of <code>make</code> invoke the shell with the &lsquo;<samp>-e</samp>&rsquo; flag,
except under &lsquo;<samp>-k</samp>&rsquo; (see section <a href="#Testing">Testing the Compilation of a Program</a>).  The &lsquo;<samp>-e</samp>&rsquo; flag tells the shell to exit as soon as any
program it runs returns a nonzero status.  We feel it is cleaner to
write each line of the recipe to stand on its own and not require this
special treatment.
</li></ul>


<hr size="6">
<a name="Quick-Reference"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Missing" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Error-Messages" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Missing" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Error-Messages" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Quick-Reference-1"></a>
<h1 class="appendix">A. Quick Reference</h1>

<p>This appendix summarizes the directives, text manipulation functions,
and special variables which GNU <code>make</code> understands.
See section <a href="#Special-Targets">Special Built-in Target Names</a>, <a href="#Catalogue-of-Rules">Catalogue of Built-In Rules</a>,
and <a href="#Options-Summary">Summary of Options</a>,
for other summaries.
</p>
<p>Here is a summary of the directives GNU <code>make</code> recognizes:
</p>
<dl compact="compact">
<dt> <code>define <var>variable</var></code></dt>
<dt> <code>define <var>variable</var> =</code></dt>
<dt> <code>define <var>variable</var> :=</code></dt>
<dt> <code>define <var>variable</var> ::=</code></dt>
<dt> <code>define <var>variable</var> +=</code></dt>
<dt> <code>define <var>variable</var> ?=</code></dt>
<dt> <code>endef</code></dt>
<dd><p>Define multi-line variables.<br>
See section <a href="#Multi_002dLine">Defining Multi-Line Variables</a>.
</p>
</dd>
<dt> <code>undefine <var>variable</var></code></dt>
<dd><p>Undefining variables.<br>
See section <a href="#Undefine-Directive">Undefining Variables</a>.
</p>
</dd>
<dt> <code>ifdef <var>variable</var></code></dt>
<dt> <code>ifndef <var>variable</var></code></dt>
<dt> <code>ifeq (<var>a</var>,<var>b</var>)</code></dt>
<dt> <code>ifeq &quot;<var>a</var>&quot; &quot;<var>b</var>&quot;</code></dt>
<dt> <code>ifeq '<var>a</var>' '<var>b</var>'</code></dt>
<dt> <code>ifneq (<var>a</var>,<var>b</var>)</code></dt>
<dt> <code>ifneq &quot;<var>a</var>&quot; &quot;<var>b</var>&quot;</code></dt>
<dt> <code>ifneq '<var>a</var>' '<var>b</var>'</code></dt>
<dt> <code>else</code></dt>
<dt> <code>endif</code></dt>
<dd><p>Conditionally evaluate part of the makefile.<br>
See section <a href="#Conditionals">Conditional Parts of Makefiles</a>.
</p>
</dd>
<dt> <code>include <var>file</var></code></dt>
<dt> <code>-include <var>file</var></code></dt>
<dt> <code>sinclude <var>file</var></code></dt>
<dd><p>Include another makefile.<br>
See section <a href="#Include">Including Other Makefiles</a>.
</p>
</dd>
<dt> <code>override <var>variable-assignment</var></code></dt>
<dd><p>Define a variable, overriding any previous definition, even one from
the command line.<br>
See section <a href="#Override-Directive">The <code>override</code> Directive</a>.
</p>
</dd>
<dt> <code>export</code></dt>
<dd><p>Tell <code>make</code> to export all variables to child processes by default.<br>
See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>.
</p>
</dd>
<dt> <code>export <var>variable</var></code></dt>
<dt> <code>export <var>variable-assignment</var></code></dt>
<dt> <code>unexport <var>variable</var></code></dt>
<dd><p>Tell <code>make</code> whether or not to export a particular variable to child
processes.<br>
See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>.
</p>
</dd>
<dt> <code>private <var>variable-assignment</var></code></dt>
<dd><p>Do not allow this variable assignment to be inherited by prerequisites.<br>
See section <a href="#Suppressing-Inheritance">Suppressing Inheritance</a>.
</p>
</dd>
<dt> <code>vpath <var>pattern</var> <var>path</var></code></dt>
<dd><p>Specify a search path for files matching a &lsquo;<samp>%</samp>&rsquo; pattern.<br>
See section <a href="#Selective-Search">The <code>vpath</code> Directive</a>.
</p>
</dd>
<dt> <code>vpath <var>pattern</var></code></dt>
<dd><p>Remove all search paths previously specified for <var>pattern</var>.
</p>
</dd>
<dt> <code>vpath</code></dt>
<dd><p>Remove all search paths previously specified in any <code>vpath</code>
directive.
</p></dd>
</dl>

<p>Here is a summary of the built-in functions (see section <a href="#Functions">Functions for Transforming Text</a>):
</p>
<dl compact="compact">
<dt> <code>$(subst <var>from</var>,<var>to</var>,<var>text</var>)</code></dt>
<dd><p>Replace <var>from</var> with <var>to</var> in <var>text</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(patsubst <var>pattern</var>,<var>replacement</var>,<var>text</var>)</code></dt>
<dd><p>Replace words matching <var>pattern</var> with <var>replacement</var> in <var>text</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(strip <var>string</var>)</code></dt>
<dd><p>Remove excess whitespace characters from <var>string</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(findstring <var>find</var>,<var>text</var>)</code></dt>
<dd><p>Locate <var>find</var> in <var>text</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(filter <var>pattern</var>&hellip;,<var>text</var>)</code></dt>
<dd><p>Select words in <var>text</var> that match one of the <var>pattern</var> words.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(filter-out <var>pattern</var>&hellip;,<var>text</var>)</code></dt>
<dd><p>Select words in <var>text</var> that <em>do not</em> match any of the <var>pattern</var> words.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(sort <var>list</var>)</code></dt>
<dd><p>Sort the words in <var>list</var> lexicographically, removing duplicates.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(word <var>n</var>,<var>text</var>)</code></dt>
<dd><p>Extract the <var>n</var>th word (one-origin) of <var>text</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(words <var>text</var>)</code></dt>
<dd><p>Count the number of words in <var>text</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(wordlist <var>s</var>,<var>e</var>,<var>text</var>)</code></dt>
<dd><p>Returns the list of words in <var>text</var> from <var>s</var> to <var>e</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(firstword <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the first word of <var>names</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(lastword <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the last word of <var>names</var>.<br>
See section <a href="#Text-Functions">Functions for String Substitution and Analysis</a>.
</p>
</dd>
<dt> <code>$(dir <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the directory part of each file name.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(notdir <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the non-directory part of each file name.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(suffix <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the suffix (the last &lsquo;<samp>.</samp>&rsquo; and following characters) of each file name.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(basename <var>names</var>&hellip;)</code></dt>
<dd><p>Extract the base name (name without suffix) of each file name.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(addsuffix <var>suffix</var>,<var>names</var>&hellip;)</code></dt>
<dd><p>Append <var>suffix</var> to each word in <var>names</var>.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(addprefix <var>prefix</var>,<var>names</var>&hellip;)</code></dt>
<dd><p>Prepend <var>prefix</var> to each word in <var>names</var>.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(join <var>list1</var>,<var>list2</var>)</code></dt>
<dd><p>Join two parallel lists of words.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(wildcard <var>pattern</var>&hellip;)</code></dt>
<dd><p>Find file names matching a shell file name pattern (<em>not</em> a
&lsquo;<samp>%</samp>&rsquo; pattern).<br>
See section <a href="#Wildcard-Function">The Function <code>wildcard</code></a>.
</p>
</dd>
<dt> <code>$(realpath <var>names</var>&hellip;)</code></dt>
<dd><p>For each file name in <var>names</var>, expand to an absolute name that
does not contain any <code>.</code>, <code>..</code>, nor symlinks.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(abspath <var>names</var>&hellip;)</code></dt>
<dd><p>For each file name in <var>names</var>, expand to an absolute name that
does not contain any <code>.</code> or <code>..</code> components, but preserves
symlinks.<br>
See section <a href="#File-Name-Functions">Functions for File Names</a>.
</p>
</dd>
<dt> <code>$(error <var>text</var>&hellip;)</code></dt>
<dd><p>When this function is evaluated, <code>make</code> generates a fatal error
with the message <var>text</var>.<br>
See section <a href="#Make-Control-Functions">Functions That Control Make</a>.
</p>
</dd>
<dt> <code>$(warning <var>text</var>&hellip;)</code></dt>
<dd><p>When this function is evaluated, <code>make</code> generates a warning with
the message <var>text</var>.<br>
See section <a href="#Make-Control-Functions">Functions That Control Make</a>.
</p>
</dd>
<dt> <code>$(shell <var>command</var>)</code></dt>
<dd><p>Execute a shell command and return its output.<br>
See section <a href="#Shell-Function">The <code>shell</code> Function</a>.
</p>
</dd>
<dt> <code>$(origin <var>variable</var>)</code></dt>
<dd><p>Return a string describing how the <code>make</code> variable <var>variable</var> was
defined.<br>
See section <a href="#Origin-Function">The <code>origin</code> Function</a>.
</p>
</dd>
<dt> <code>$(flavor <var>variable</var>)</code></dt>
<dd><p>Return a string describing the flavor of the <code>make</code> variable
<var>variable</var>.<br>
See section <a href="#Flavor-Function">The <code>flavor</code> Function</a>.
</p>
</dd>
<dt> <code>$(foreach <var>var</var>,<var>words</var>,<var>text</var>)</code></dt>
<dd><p>Evaluate <var>text</var> with <var>var</var> bound to each word in <var>words</var>,
and concatenate the results.<br>
See section <a href="#Foreach-Function">The <code>foreach</code> Function</a>.
</p>
</dd>
<dt> <code>$(if <var>condition</var>,<var>then-part</var>[,<var>else-part</var>])</code></dt>
<dd><p>Evaluate the condition <var>condition</var>; if it&rsquo;s non-empty substitute
the expansion of the <var>then-part</var> otherwise substitute the
expansion of the <var>else-part</var>.<br>
See section <a href="#Conditional-Functions">Functions for Conditionals</a>.
</p>
</dd>
<dt> <code>$(or <var>condition1</var>[,<var>condition2</var>[,<var>condition3</var>&hellip;]])</code></dt>
<dd><p>Evaluate each condition <var>conditionN</var> one at a time; substitute the
first non-empty expansion.  If all expansions are empty, substitute
the empty string.<br>
See section <a href="#Conditional-Functions">Functions for Conditionals</a>.
</p>
</dd>
<dt> <code>$(and <var>condition1</var>[,<var>condition2</var>[,<var>condition3</var>&hellip;]])</code></dt>
<dd><p>Evaluate each condition <var>conditionN</var> one at a time; if any
expansion results in the empty string substitute the empty string.  If
all expansions result in a non-empty string, substitute the expansion
of the last <var>condition</var>.<br>
See section <a href="#Conditional-Functions">Functions for Conditionals</a>.
</p>
</dd>
<dt> <code>$(call <var>var</var>,<var>param</var>,&hellip;)</code></dt>
<dd><p>Evaluate the variable <var>var</var> replacing any references to <code>$(1)</code>,
<code>$(2)</code> with the first, second, etc. <var>param</var> values.<br>
See section <a href="#Call-Function">The <code>call</code> Function</a>.
</p>
</dd>
<dt> <code>$(eval <var>text</var>)</code></dt>
<dd><p>Evaluate <var>text</var> then read the results as makefile commands.
Expands to the empty string.<br>
See section <a href="#Eval-Function">The <code>eval</code> Function</a>.
</p>
</dd>
<dt> <code>$(file <var>op</var> <var>filename</var>,<var>text</var>)</code></dt>
<dd><p>Expand the arguments, then open the file <var>filename</var> using mode
<var>op</var> and write <var>text</var> to that file.<br>
See section <a href="#File-Function">The <code>file</code> Function</a>.
</p>
</dd>
<dt> <code>$(value <var>var</var>)</code></dt>
<dd><p>Evaluates to the contents of the variable <var>var</var>, with no expansion
performed on it.<br>
See section <a href="#Value-Function">The <code>value</code> Function</a>.
</p></dd>
</dl>

<p>Here is a summary of the automatic variables.
See section <a href="#Automatic-Variables">Automatic Variables</a>,
for full information.
</p>
<dl compact="compact">
<dt> <code>$@</code></dt>
<dd><p>The file name of the target.
</p>
</dd>
<dt> <code>$%</code></dt>
<dd><p>The target member name, when the target is an archive member.
</p>
</dd>
<dt> <code>$&lt;</code></dt>
<dd><p>The name of the first prerequisite.
</p>
</dd>
<dt> <code>$?</code></dt>
<dd><p>The names of all the prerequisites that are
newer than the target, with spaces between them.
For prerequisites which are archive members, only
the named member is used (see section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>).
</p>
</dd>
<dt> <code>$^</code></dt>
<dt> <code>$+</code></dt>
<dd><p>The names of all the prerequisites, with spaces between them.  For
prerequisites which are archive members, only the named member is used
(see section <a href="#Archives">Using <code>make</code> to Update Archive Files</a>).  The value of <code>$^</code> omits duplicate
prerequisites, while <code>$+</code> retains them and preserves their order.
</p>
</dd>
<dt> <code>$*</code></dt>
<dd><p>The stem with which an implicit rule matches
(see section <a href="#Pattern-Match">How Patterns Match</a>).
</p>
</dd>
<dt> <code>$(@D)</code></dt>
<dt> <code>$(@F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$@</code>.
</p>
</dd>
<dt> <code>$(*D)</code></dt>
<dt> <code>$(*F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$*</code>.
</p>
</dd>
<dt> <code>$(%D)</code></dt>
<dt> <code>$(%F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$%</code>.
</p>
</dd>
<dt> <code>$(&lt;D)</code></dt>
<dt> <code>$(&lt;F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$&lt;</code>.
</p>
</dd>
<dt> <code>$(^D)</code></dt>
<dt> <code>$(^F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$^</code>.
</p>
</dd>
<dt> <code>$(+D)</code></dt>
<dt> <code>$(+F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$+</code>.
</p>
</dd>
<dt> <code>$(?D)</code></dt>
<dt> <code>$(?F)</code></dt>
<dd><p>The directory part and the file-within-directory part of <code>$?</code>.
</p></dd>
</dl>

<p>These variables are used specially by GNU <code>make</code>:
</p>
<dl compact="compact">
<dt> <code>MAKEFILES</code></dt>
<dd>
<p>Makefiles to be read on every invocation of <code>make</code>.<br>
See section <a href="#MAKEFILES-Variable">The Variable <code>MAKEFILES</code></a>.
</p>
</dd>
<dt> <code>VPATH</code></dt>
<dd>
<p>Directory search path for files not found in the current directory.<br>
See section <a href="#General-Search"><code>VPATH</code> Search Path for All Prerequisites</a>.
</p>
</dd>
<dt> <code>SHELL</code></dt>
<dd>
<p>The name of the system default command interpreter, usually &lsquo;<tt>/bin/sh</tt>&rsquo;.
You can set <code>SHELL</code> in the makefile to change the shell used to run
recipes.  See section <a href="#Execution">Recipe Execution</a>.  The <code>SHELL</code>
variable is handled specially when importing from and exporting to the
environment.  See section <a href="#Choosing-the-Shell">Choosing the Shell</a>.
</p>
</dd>
<dt> <code>MAKESHELL</code></dt>
<dd>
<p>On MS-DOS only, the name of the command interpreter that is to be used
by <code>make</code>.  This value takes precedence over the value of
<code>SHELL</code>.  See section <a href="#Execution">MAKESHELL variable</a>.
</p>
</dd>
<dt> <code>MAKE</code></dt>
<dd>
<p>The name with which <code>make</code> was invoked.  Using this variable in
recipes has special meaning.  See section <a href="#MAKE-Variable">How the <code>MAKE</code> Variable Works</a>.
</p>
</dd>
<dt> <code>MAKE_VERSION</code></dt>
<dd>
<p>The built-in variable &lsquo;<samp>MAKE_VERSION</samp>&rsquo; expands to the version
number of the GNU <code>make</code> program.
<a name="index-MAKE_005fVERSION"></a>
</p>
</dd>
<dt> <code>MAKE_HOST</code></dt>
<dd>
<p>The built-in variable &lsquo;<samp>MAKE_HOST</samp>&rsquo; expands to a string
representing the host that GNU <code>make</code> was built to run on.
<a name="index-MAKE_005fHOST"></a>
</p>
</dd>
<dt> <code>MAKELEVEL</code></dt>
<dd>
<p>The number of levels of recursion (sub-<code>make</code>s).<br>
See section <a href="#Variables_002fRecursion">Communicating Variables to a Sub-<code>make</code></a>.
</p>
</dd>
<dt> <code>MAKEFLAGS</code></dt>
<dd>
<p>The flags given to <code>make</code>.  You can set this in the environment or
a makefile to set flags.<br>
See section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>.
</p>
<p>It is <em>never</em> appropriate to use <code>MAKEFLAGS</code> directly in a
recipe line: its contents may not be quoted correctly for use in the
shell.  Always allow recursive <code>make</code>&rsquo;s to obtain these values
through the environment from its parent.
</p>
</dd>
<dt> <code>GNUMAKEFLAGS</code></dt>
<dd>
<p>Other flags parsed by <code>make</code>.  You can set this in the environment or
a makefile to set <code>make</code> command-line flags.  GNU <code>make</code>
never sets this variable itself.  This variable is only needed if
you&rsquo;d like to set GNU <code>make</code>-specific flags in a POSIX-compliant
makefile.  This variable will be seen by GNU <code>make</code> and ignored
by other <code>make</code> implementations.  It&rsquo;s not needed if you only use
GNU <code>make</code>; just use <code>MAKEFLAGS</code> directly.
See section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>.
</p>
</dd>
<dt> <code>MAKECMDGOALS</code></dt>
<dd>
<p>The targets given to <code>make</code> on the command line.  Setting this
variable has no effect on the operation of <code>make</code>.<br>
See section <a href="#Goals">Arguments to Specify the Goals</a>.
</p>
</dd>
<dt> <code>CURDIR</code></dt>
<dd>
<p>Set to the absolute pathname of the current working directory (after
all <code>-C</code> options are processed, if any).  Setting this variable
has no effect on the operation of <code>make</code>.<br>
See section <a href="#Recursion">Recursive Use of <code>make</code></a>.
</p>
</dd>
<dt> <code>SUFFIXES</code></dt>
<dd>
<p>The default list of suffixes before <code>make</code> reads any makefiles.
</p>
</dd>
<dt> <code>.LIBPATTERNS</code></dt>
<dd><p>Defines the naming of the libraries <code>make</code> searches for, and their
order.<br>
See section <a href="#Libraries_002fSearch">Directory Search for Link Libraries</a>.
</p></dd>
</dl>

<hr size="6">
<a name="Error-Messages"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Quick-Reference" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Complex-Makefile" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Quick-Reference" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Complex-Makefile" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Errors-Generated-by-Make"></a>
<h1 class="appendix">B. Errors Generated by Make</h1>

<p>Here is a list of the more common errors you might see generated by
<code>make</code>, and some information about what they mean and how to fix
them.
</p>
<p>Sometimes <code>make</code> errors are not fatal, especially in the presence
of a <code>-</code> prefix on a recipe line, or the <code>-k</code> command line
option.  Errors that are fatal are prefixed with the string
<code>***</code>.
</p>
<p>Error messages are all either prefixed with the name of the program
(usually &lsquo;<samp>make</samp>&rsquo;), or, if the error is found in a makefile, the name
of the file and line number containing the problem.
</p>
<p>In the table below, these common prefixes are left off.
</p>
<dl compact="compact">
<dt> &lsquo;<samp>[<var>foo</var>] Error <var>NN</var></samp>&rsquo;</dt>
<dt> &lsquo;<samp>[<var>foo</var>] <var>signal description</var></samp>&rsquo;</dt>
<dd><p>These errors are not really <code>make</code> errors at all.  They mean that a
program that <code>make</code> invoked as part of a recipe returned a
non-0 error code (&lsquo;<samp>Error <var>NN</var></samp>&rsquo;), which <code>make</code> interprets
as failure, or it exited in some other abnormal fashion (with a
signal of some type).  See section <a href="#Errors">Errors in Recipes</a>.
</p>
<p>If no <code>***</code> is attached to the message, then the sub-process failed
but the rule in the makefile was prefixed with the <code>-</code> special
character, so <code>make</code> ignored the error.
</p>
</dd>
<dt> &lsquo;<samp>missing separator.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>missing separator (did you mean TAB instead of 8 spaces?).  Stop.</samp>&rsquo;</dt>
<dd><p>This means that <code>make</code> could not understand much of anything
about the makefile line it just read.  GNU <code>make</code> looks for
various separators (<code>:</code>, <code>=</code>, recipe prefix characters,
etc.) to indicate what kind of line it&rsquo;s parsing.  This message means
it couldn&rsquo;t find a valid one.
</p>
<p>One of the most common reasons for this message is that you (or
perhaps your oh-so-helpful editor, as is the case with many MS-Windows
editors) have attempted to indent your recipe lines with spaces
instead of a tab character.  In this case, <code>make</code> will use the
second form of the error above.  Remember that every line in the
recipe must begin with a tab character (unless you set
<code>.RECIPEPREFIX</code>; see section <a href="#Special-Variables">Other Special Variables</a>).  Eight spaces do not
count.  See section <a href="#Rule-Syntax">Rule Syntax</a>.
</p>
</dd>
<dt> &lsquo;<samp>recipe commences before first target.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>missing rule before recipe.  Stop.</samp>&rsquo;</dt>
<dd><p>This means the first thing in the makefile seems to be part of a
recipe: it begins with a recipe prefix character and doesn&rsquo;t appear to
be a legal <code>make</code> directive (such as a variable assignment).
Recipes must always be associated with a target.
</p>
<p>The second form is generated if the line has a semicolon as the first
non-whitespace character; <code>make</code> interprets this to mean you left
out the &quot;target: prerequisite&quot; section of a rule.  See section <a href="#Rule-Syntax">Rule Syntax</a>.
</p>
</dd>
<dt> &lsquo;<samp>No rule to make target `<var>xxx</var>'.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>No rule to make target `<var>xxx</var>', needed by `<var>yyy</var>'.</samp>&rsquo;</dt>
<dd><p>This means that <code>make</code> decided it needed to build a target, but
then couldn&rsquo;t find any instructions in the makefile on how to do that,
either explicit or implicit (including in the default rules database).
</p>
<p>If you want that file to be built, you will need to add a rule to your
makefile describing how that target can be built.  Other possible
sources of this problem are typos in the makefile (if that file name is
wrong) or a corrupted source tree (if that file is not supposed to be
built, but rather only a prerequisite).
</p>
</dd>
<dt> &lsquo;<samp>No targets specified and no makefile found.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>No targets.  Stop.</samp>&rsquo;</dt>
<dd><p>The former means that you didn&rsquo;t provide any targets to be built on the
command line, and <code>make</code> couldn&rsquo;t find any makefiles to read in.
The latter means that some makefile was found, but it didn&rsquo;t contain any
default goal and none was given on the command line.  GNU <code>make</code>
has nothing to do in these situations.
See section <a href="#Makefile-Arguments">Arguments to Specify the Makefile</a>.
</p>
</dd>
<dt> &lsquo;<samp>Makefile `<var>xxx</var>' was not found.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>Included makefile `<var>xxx</var>' was not found.</samp>&rsquo;</dt>
<dd><p>A makefile specified on the command line (first form) or included
(second form) was not found.
</p>
</dd>
<dt> &lsquo;<samp>warning: overriding recipe for target `<var>xxx</var>'</samp>&rsquo;</dt>
<dt> &lsquo;<samp>warning: ignoring old recipe for target `<var>xxx</var>'</samp>&rsquo;</dt>
<dd><p>GNU <code>make</code> allows only one recipe to be specified per target
(except for double-colon rules).  If you give a recipe for a target
which already has been defined to have one, this warning is issued and
the second recipe will overwrite the first.  See section <a href="#Multiple-Rules">Multiple Rules for One Target</a>.
</p>
</dd>
<dt> &lsquo;<samp>Circular <var>xxx</var> &lt;- <var>yyy</var> dependency dropped.</samp>&rsquo;</dt>
<dd><p>This means that <code>make</code> detected a loop in the dependency graph:
after tracing the prerequisite <var>yyy</var> of target <var>xxx</var>, and its
prerequisites, etc., one of them depended on <var>xxx</var> again.
</p>
</dd>
<dt> &lsquo;<samp>Recursive variable `<var>xxx</var>' references itself (eventually).  Stop.</samp>&rsquo;</dt>
<dd><p>This means you&rsquo;ve defined a normal (recursive) <code>make</code> variable
<var>xxx</var> that, when it&rsquo;s expanded, will refer to itself (<var>xxx</var>).
This is not allowed; either use simply-expanded variables (&lsquo;<samp>:=</samp>&rsquo;
or &lsquo;<samp>::=</samp>&rsquo;) or use the append operator (&lsquo;<samp>+=</samp>&rsquo;).  See section <a href="#Using-Variables">How to Use Variables</a>.
</p>
</dd>
<dt> &lsquo;<samp>Unterminated variable reference.  Stop.</samp>&rsquo;</dt>
<dd><p>This means you forgot to provide the proper closing parenthesis
or brace in your variable or function reference.
</p>
</dd>
<dt> &lsquo;<samp>insufficient arguments to function `<var>xxx</var>'.  Stop.</samp>&rsquo;</dt>
<dd><p>This means you haven&rsquo;t provided the requisite number of arguments for
this function.  See the documentation of the function for a description
of its arguments.  See section <a href="#Functions">Functions for Transforming Text</a>.
</p>
</dd>
<dt> &lsquo;<samp>missing target pattern.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>multiple target patterns.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>target pattern contains no `%'.  Stop.</samp>&rsquo;</dt>
<dt> &lsquo;<samp>mixed implicit and static pattern rules.  Stop.</samp>&rsquo;</dt>
<dd><p>These errors are generated for malformed static pattern rules
(see section <a href="#Static-Usage">Syntax of Static Pattern Rules</a>).  The first
means the target-pattern part of the rule is empty; the second means
there are multiple pattern characters (<code>%</code>) in the target-pattern
part; the third means there are no pattern characters in the
target-pattern part; and the fourth means that all three parts of the
static pattern rule contain pattern characters (<code>%</code>)&ndash;the first
part should not contain pattern characters.
</p>
<p>If you see these errors and you aren&rsquo;t trying to create a static
pattern rule, check the value of any variables in your target and
prerequisite lists to be sure they do not contain colons.
</p>
</dd>
<dt> &lsquo;<samp>warning: -jN forced in submake: disabling jobserver mode.</samp>&rsquo;</dt>
<dd><p>This warning and the next are generated if <code>make</code> detects error
conditions related to parallel processing on systems where
sub-<code>make</code>s can communicate (see section <a href="#Options_002fRecursion">Communicating Options to a Sub-<code>make</code></a>).  This warning is
generated if a recursive invocation of a <code>make</code> process is forced
to have &lsquo;<samp>-j<var>N</var></samp>&rsquo; in its argument list (where <var>N</var> is greater
than one).  This could happen, for example, if you set the <code>MAKE</code>
environment variable to &lsquo;<samp>make -j2</samp>&rsquo;.  In this case, the
sub-<code>make</code> doesn&rsquo;t communicate with other <code>make</code> processes and
will simply pretend it has two jobs of its own.
</p>
</dd>
<dt> &lsquo;<samp>warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.</samp>&rsquo;</dt>
<dd><p>In order for <code>make</code> processes to communicate, the parent will pass
information to the child.  Since this could result in problems if the
child process isn&rsquo;t actually a <code>make</code>, the parent will only do this
if it thinks the child is a <code>make</code>.  The parent uses the normal
algorithms to determine this (see section <a href="#MAKE-Variable">How the <code>MAKE</code> Variable Works</a>).  If the makefile is constructed such that the parent
doesn&rsquo;t know the child is a <code>make</code> process, then the child will
receive only part of the information necessary.  In this case, the child
will generate this warning message and proceed with its build in a
sequential manner.
</p>
</dd>
</dl>

<hr size="6">
<a name="Complex-Makefile"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Error-Messages" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Error-Messages" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Complex-Makefile-Example"></a>
<h1 class="appendix">C. Complex Makefile Example</h1>

<p>Here is the makefile for the GNU <code>tar</code> program.  This is a
moderately complex makefile.  The first line uses a <code>#!</code> setting
to allow the makefile to be executed directly.
</p>
<p>Because it is the first target, the default goal is &lsquo;<samp>all</samp>&rsquo;.  An
interesting feature of this makefile is that &lsquo;<tt>testpad.h</tt>&rsquo; is a
source file automatically created by the <code>testpad</code> program,
itself compiled from &lsquo;<tt>testpad.c</tt>&rsquo;.
</p>
<p>If you type &lsquo;<samp>make</samp>&rsquo; or &lsquo;<samp>make all</samp>&rsquo;, then <code>make</code> creates
the &lsquo;<tt>tar</tt>&rsquo; executable, the &lsquo;<tt>rmt</tt>&rsquo; daemon that provides
remote tape access, and the &lsquo;<tt>tar.info</tt>&rsquo; Info file.
</p>
<p>If you type &lsquo;<samp>make install</samp>&rsquo;, then <code>make</code> not only creates
&lsquo;<tt>tar</tt>&rsquo;, &lsquo;<tt>rmt</tt>&rsquo;, and &lsquo;<tt>tar.info</tt>&rsquo;, but also installs
them.
</p>
<p>If you type &lsquo;<samp>make clean</samp>&rsquo;, then <code>make</code> removes the &lsquo;<samp>.o</samp>&rsquo;
files, and the &lsquo;<tt>tar</tt>&rsquo;, &lsquo;<tt>rmt</tt>&rsquo;, &lsquo;<tt>testpad</tt>&rsquo;,
&lsquo;<tt>testpad.h</tt>&rsquo;, and &lsquo;<tt>core</tt>&rsquo; files.
</p>
<p>If you type &lsquo;<samp>make distclean</samp>&rsquo;, then <code>make</code> not only removes
the same files as does &lsquo;<samp>make clean</samp>&rsquo; but also the
&lsquo;<tt>TAGS</tt>&rsquo;, &lsquo;<tt>Makefile</tt>&rsquo;, and &lsquo;<tt>config.status</tt>&rsquo; files.
(Although it is not evident, this makefile (and
&lsquo;<tt>config.status</tt>&rsquo;) is generated by the user with the
<code>configure</code> program, which is provided in the <code>tar</code>
distribution, but is not shown here.)
</p>
<p>If you type &lsquo;<samp>make realclean</samp>&rsquo;, then <code>make</code> removes the same
files as does &lsquo;<samp>make distclean</samp>&rsquo; and also removes the Info files
generated from &lsquo;<tt>tar.texinfo</tt>&rsquo;.
</p>
<p>In addition, there are targets <code>shar</code> and <code>dist</code> that create
distribution kits.
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">#!/usr/bin/make -f
# Generated automatically from Makefile.in by configure.
# Un*x Makefile for GNU tar program.
# Copyright (C) 1991 Free Software Foundation, Inc.
</pre><pre class="example">
</pre><pre class="example"># This program is free software; you can redistribute
# it and/or modify it under the terms of the GNU
# General Public License &hellip;
&hellip;
&hellip;
</pre><pre class="example">
SHELL = /bin/sh

#### Start of system configuration section. ####

srcdir = .

</pre><pre class="example"># If you use gcc, you should either run the
# fixincludes script that comes with it or else use
# gcc with the -traditional option.  Otherwise ioctl
# calls will be compiled incorrectly on some systems.
CC = gcc -O
YACC = bison -y
INSTALL = /usr/local/bin/install -c
INSTALLDATA = /usr/local/bin/install -c -m 644
</pre><pre class="example">
# Things you might add to DEFS:
# -DSTDC_HEADERS        If you have ANSI C headers and
#                       libraries.
# -DPOSIX               If you have POSIX.1 headers and
#                       libraries.
# -DBSD42               If you have sys/dir.h (unless
#                       you use -DPOSIX), sys/file.h,
#                       and st_blocks in `struct stat'.
# -DUSG                 If you have System V/ANSI C
#                       string and memory functions
#                       and headers, sys/sysmacros.h,
#                       fcntl.h, getcwd, no valloc,
#                       and ndir.h (unless
#                       you use -DDIRENT).
# -DNO_MEMORY_H         If USG or STDC_HEADERS but do not
#                       include memory.h.
# -DDIRENT              If USG and you have dirent.h
#                       instead of ndir.h.
# -DSIGTYPE=int         If your signal handlers
#                       return int, not void.
# -DNO_MTIO             If you lack sys/mtio.h
#                       (magtape ioctls).
# -DNO_REMOTE           If you do not have a remote shell
#                       or rexec.
# -DUSE_REXEC           To use rexec for remote tape
#                       operations instead of
#                       forking rsh or remsh.
# -DVPRINTF_MISSING     If you lack vprintf function
#                       (but have _doprnt).
# -DDOPRNT_MISSING      If you lack _doprnt function.
#                       Also need to define
#                       -DVPRINTF_MISSING.
# -DFTIME_MISSING       If you lack ftime system call.
# -DSTRSTR_MISSING      If you lack strstr function.
# -DVALLOC_MISSING      If you lack valloc function.
# -DMKDIR_MISSING       If you lack mkdir and
#                       rmdir system calls.
# -DRENAME_MISSING      If you lack rename system call.
# -DFTRUNCATE_MISSING   If you lack ftruncate
#                       system call.
# -DV7                  On Version 7 Unix (not
#                       tested in a long time).
# -DEMUL_OPEN3          If you lack a 3-argument version
#                       of open, and want to emulate it
#                       with system calls you do have.
# -DNO_OPEN3            If you lack the 3-argument open
#                       and want to disable the tar -k
#                       option instead of emulating open.
# -DXENIX               If you have sys/inode.h
#                       and need it 94 to be included.

DEFS =  -DSIGTYPE=int -DDIRENT -DSTRSTR_MISSING \
        -DVPRINTF_MISSING -DBSD42
# Set this to rtapelib.o unless you defined NO_REMOTE,
# in which case make it empty.
RTAPELIB = rtapelib.o
LIBS =
DEF_AR_FILE = /dev/rmt8
DEFBLOCKING = 20

</pre><pre class="example">CDEBUG = -g
CFLAGS = $(CDEBUG) -I. -I$(srcdir) $(DEFS) \
        -DDEF_AR_FILE=\&quot;$(DEF_AR_FILE)\&quot; \
        -DDEFBLOCKING=$(DEFBLOCKING)
LDFLAGS = -g
</pre><pre class="example">
</pre><pre class="example">prefix = /usr/local
# Prefix for each installed program,
# normally empty or `g'.
binprefix =

# The directory to install tar in.
bindir = $(prefix)/bin

# The directory to install the info files in.
infodir = $(prefix)/info
</pre><pre class="example">
#### End of system configuration section. ####

</pre><pre class="example">SRCS_C  = tar.c create.c extract.c buffer.c   \
          getoldopt.c update.c gnu.c mangle.c \
          version.c list.c names.c diffarch.c \
          port.c wildmat.c getopt.c getopt1.c \
          regex.c
SRCS_Y  = getdate.y
SRCS    = $(SRCS_C) $(SRCS_Y)
OBJS    = $(SRCS_C:.c=.o) $(SRCS_Y:.y=.o) $(RTAPELIB)
</pre><pre class="example">AUX =   README COPYING ChangeLog Makefile.in  \
        makefile.pc configure configure.in \
        tar.texinfo tar.info* texinfo.tex \
        tar.h port.h open3.h getopt.h regex.h \
        rmt.h rmt.c rtapelib.c alloca.c \
        msd_dir.h msd_dir.c tcexparg.c \
        level-0 level-1 backup-specs testpad.c
</pre><pre class="example">
.PHONY: all
all:    tar rmt tar.info

</pre><pre class="example">tar:    $(OBJS)
        $(CC) $(LDFLAGS) -o $@ $(OBJS) $(LIBS)
</pre><pre class="example">
</pre><pre class="example">rmt:    rmt.c
        $(CC) $(CFLAGS) $(LDFLAGS) -o $@ rmt.c
</pre><pre class="example">
</pre><pre class="example">tar.info: tar.texinfo
        makeinfo tar.texinfo
</pre><pre class="example">
</pre><pre class="example">.PHONY: install
install: all
        $(INSTALL) tar $(bindir)/$(binprefix)tar
        -test ! -f rmt || $(INSTALL) rmt /etc/rmt
        $(INSTALLDATA) $(srcdir)/tar.info* $(infodir)
</pre><pre class="example">
</pre><pre class="example">$(OBJS): tar.h port.h testpad.h
regex.o buffer.o tar.o: regex.h
# getdate.y has 8 shift/reduce conflicts.
</pre><pre class="example">
</pre><pre class="example">testpad.h: testpad
        ./testpad
</pre><pre class="example">
</pre><pre class="example">testpad: testpad.o
        $(CC) -o $@ testpad.o
</pre><pre class="example">
</pre><pre class="example">TAGS:   $(SRCS)
        etags $(SRCS)
</pre><pre class="example">
</pre><pre class="example">.PHONY: clean
clean:
        rm -f *.o tar rmt testpad testpad.h core
</pre><pre class="example">
</pre><pre class="example">.PHONY: distclean
distclean: clean
        rm -f TAGS Makefile config.status
</pre><pre class="example">
</pre><pre class="example">.PHONY: realclean
realclean: distclean
        rm -f tar.info*
</pre><pre class="example">
</pre><pre class="example">.PHONY: shar
shar: $(SRCS) $(AUX)
        shar $(SRCS) $(AUX) | compress \
          &gt; tar-`sed -e '/version_string/!d' \
                     -e 's/[^0-9.]*\([0-9.]*\).*/\1/' \
                     -e q
                     version.c`.shar.Z
</pre><pre class="example">
</pre><pre class="example">.PHONY: dist
dist: $(SRCS) $(AUX)
        echo tar-`sed \
             -e '/version_string/!d' \
             -e 's/[^0-9.]*\([0-9.]*\).*/\1/' \
             -e q
             version.c` &gt; .fname
        -rm -rf `cat .fname`
        mkdir `cat .fname`
        ln $(SRCS) $(AUX) `cat .fname`
        tar chZf `cat .fname`.tar.Z `cat .fname`
        -rm -rf `cat .fname` .fname
</pre><pre class="example">
</pre><pre class="example">tar.zoo: $(SRCS) $(AUX)
        -rm -rf tmp.dir
        -mkdir tmp.dir
        -rm tar.zoo
        for X in $(SRCS) $(AUX) ; do \
            echo $$X ; \
            sed 's/$$/^M/' $$X \
            &gt; tmp.dir/$$X ; done
        cd tmp.dir ; zoo aM ../tar.zoo *
        -rm -rf tmp.dir
</pre></td></tr></table>

<hr size="6">
<a name="GNU-Free-Documentation-License"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Complex-Makefile" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Complex-Makefile" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Complex-Makefile" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="GNU-Free-Documentation-License-1"></a>
<h2 class="appendixsec">C.1 GNU Free Documentation License</h2>
<a name="index-FDL_002c-GNU-Free-Documentation-License"></a>

<hr size="6">
<a name="Concept-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#GNU-Free-Documentation-License" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Name-Index" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Complex-Makefile" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="#Name-Index" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Index-of-Concepts"></a>
<h1 class="unnumbered">Index of Concepts</h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-of-Concepts_cp_symbol-1" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-2" class="summary-letter"><b>#</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-3" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-4" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-5" class="summary-letter"><b>*</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-6" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-7" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-8" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-9" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-10" class="summary-letter"><b>:</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-11" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-12" class="summary-letter"><b>?</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-13" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-14" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-15" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-16" class="summary-letter"><b>_</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-17" class="summary-letter"><b>~</b></a>
 &nbsp; 
<br>
<a href="#Index-of-Concepts_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-1">!</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0021_003d">!=</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0021_003d_002c-expansion">!=, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-2">#</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023-_0028comments_0029_002c-in-makefile"><code>#</code> (comments), in makefile</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023-_0028comments_0029_002c-in-recipes"><code>#</code> (comments), in recipes</a></td><td valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023include"><code>#include</code></a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-3">$</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002c-in-function-call"><code>$</code>, in function call</a></td><td valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002c-in-rules"><code>$</code>, in rules</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002c-in-variable-name"><code>$</code>, in variable name</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002c-in-variable-reference"><code>$</code>, in variable reference</a></td><td valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-4">%</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-in-pattern-rules"><code>%</code>, in pattern rules</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-in-patsubst"><code>%</code>, quoting in <code>patsubst</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-in-static-pattern"><code>%</code>, quoting in static pattern</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-in-vpath"><code>%</code>, quoting in <code>vpath</code></a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-with-_005c-_0028backslash_0029"><code>%</code>, quoting with <code>\</code> (backslash)</a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-with-_005c-_0028backslash_0029-1"><code>%</code>, quoting with <code>\</code> (backslash)</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025_002c-quoting-with-_005c-_0028backslash_0029-2"><code>%</code>, quoting with <code>\</code> (backslash)</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-5">*</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002a-_0028wildcard-character_0029"><code>*</code> (wildcard character)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-6">+</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_002c-and-define">+, and <code>define</code></a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_002c-and-recipe-execution">+, and recipe execution</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_002c-and-recipes">+, and recipes</a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_003d">+=</a></td><td valign="top"><a href="#Appending">6.6 Appending More Text to Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_003d_002c-expansion">+=, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b_003d_002c-expansion-1">+=, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-7">,</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cv-_0028RCS-file-extension_0029"><code>,v <span class="roman">(RCS file extension)</span></code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-8">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d-_0028in-recipes_0029"><code>-</code> (in recipes)</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002c-and-define">-, and <code>define</code></a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dalways_002dmake"><code>--always-make</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dnew"><code>--assume-new</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dnew-1"><code>--assume-new</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dnew_002c-and-recursion"><code>--assume-new</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dold"><code>--assume-old</code></a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dold-1"><code>--assume-old</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dassume_002dold_002c-and-recursion"><code>--assume-old</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dcheck_002dsymlink_002dtimes"><code>--check-symlink-times</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddebug"><code>--debug</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddirectory"><code>--directory</code></a></td><td valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddirectory-1"><code>--directory</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddirectory_002c-and-_002d_002dprint_002ddirectory"><code>--directory</code>, and <code>--print-directory</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddirectory_002c-and-recursion"><code>--directory</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddry_002drun"><code>--dry-run</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddry_002drun-1"><code>--dry-run</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002ddry_002drun-2"><code>--dry-run</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002denvironment_002doverrides"><code>--environment-overrides</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002deval"><code>--eval</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dfile"><code>--file</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dfile-1"><code>--file</code></a></td><td valign="top"><a href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dfile-2"><code>--file</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dfile_002c-and-recursion"><code>--file</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dhelp"><code>--help</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dignore_002derrors"><code>--ignore-errors</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dignore_002derrors-1"><code>--ignore-errors</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dinclude_002ddir"><code>--include-dir</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dinclude_002ddir-1"><code>--include-dir</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djobs"><code>--jobs</code></a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djobs-1"><code>--jobs</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djobs_002c-and-recursion"><code>--jobs</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djust_002dprint"><code>--just-print</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djust_002dprint-1"><code>--just-print</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002djust_002dprint-2"><code>--just-print</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dkeep_002dgoing"><code>--keep-going</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dkeep_002dgoing-1"><code>--keep-going</code></a></td><td valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dkeep_002dgoing-2"><code>--keep-going</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dload_002daverage"><code>--load-average</code></a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dload_002daverage-1"><code>--load-average</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dmakefile"><code>--makefile</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dmakefile-1"><code>--makefile</code></a></td><td valign="top"><a href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dmakefile-2"><code>--makefile</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dmax_002dload"><code>--max-load</code></a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dmax_002dload-1"><code>--max-load</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dnew_002dfile"><code>--new-file</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dnew_002dfile-1"><code>--new-file</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dnew_002dfile_002c-and-recursion"><code>--new-file</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dno_002dbuiltin_002drules"><code>--no-builtin-rules</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dno_002dbuiltin_002dvariables"><code>--no-builtin-variables</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dno_002dkeep_002dgoing"><code>--no-keep-going</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dno_002dprint_002ddirectory"><code>--no-print-directory</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dno_002dprint_002ddirectory-1"><code>--no-print-directory</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dold_002dfile"><code>--old-file</code></a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dold_002dfile-1"><code>--old-file</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dold_002dfile_002c-and-recursion"><code>--old-file</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002doutput_002dsync"><code>--output-sync</code></a></td><td valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002doutput_002dsync-1"><code>--output-sync</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dprint_002ddata_002dbase"><code>--print-data-base</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dprint_002ddirectory"><code>--print-directory</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dprint_002ddirectory_002c-and-_002d_002ddirectory"><code>--print-directory</code>, and <code>--directory</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dprint_002ddirectory_002c-and-recursion"><code>--print-directory</code>, and recursion</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dprint_002ddirectory_002c-disabling"><code>--print-directory</code>, disabling</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dquestion"><code>--question</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dquestion-1"><code>--question</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dquiet"><code>--quiet</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dquiet-1"><code>--quiet</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002drecon"><code>--recon</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002drecon-1"><code>--recon</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002drecon-2"><code>--recon</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dsilent"><code>--silent</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dsilent-1"><code>--silent</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dstop"><code>--stop</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtouch"><code>--touch</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtouch-1"><code>--touch</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtouch_002c-and-recursion"><code>--touch</code>, and recursion</a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dtrace"><code>--trace</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dversion"><code>--version</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dwarn_002dundefined_002dvariables"><code>--warn-undefined-variables</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dwhat_002dif"><code>--what-if</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_002dwhat_002dif-1"><code>--what-if</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dB"><code>-B</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002db"><code>-b</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dC"><code>-C</code></a></td><td valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dC-1"><code>-C</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dC_002c-and-_002dw"><code>-C</code>, and <code>-w</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dC_002c-and-recursion"><code>-C</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dd"><code>-d</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dE"><code>-E</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002de"><code>-e</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002de-_0028shell-flag_0029"><code>-e</code> (shell flag)</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002df"><code>-f</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002df-1"><code>-f</code></a></td><td valign="top"><a href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002df-2"><code>-f</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002df_002c-and-recursion"><code>-f</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dh"><code>-h</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002di"><code>-i</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dI"><code>-I</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002di-1"><code>-i</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dI-1"><code>-I</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dj"><code>-j</code></a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dj-1"><code>-j</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dj_002c-and-archive-update"><code>-j</code>, and archive update</a></td><td valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dj_002c-and-recursion"><code>-j</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dk"><code>-k</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dk-1"><code>-k</code></a></td><td valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dk-2"><code>-k</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dl"><code>-l</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dL"><code>-L</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dl-_0028library-search_0029"><code>-l</code> (library search)</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dl-_0028load-average_0029"><code>-l</code> (load average)</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dm"><code>-m</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dM-_0028to-compiler_0029"><code>-M</code> (to compiler)</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dMM-_0028to-GNU-compiler_0029"><code>-MM</code> (to GNU compiler)</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dn"><code>-n</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dn-1"><code>-n</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dn-2"><code>-n</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dO"><code>-O</code></a></td><td valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002do"><code>-o</code></a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dO-1"><code>-O</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002do-1"><code>-o</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002do_002c-and-recursion"><code>-o</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dp"><code>-p</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dq"><code>-q</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dq-1"><code>-q</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dr"><code>-r</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dR"><code>-R</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ds"><code>-s</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dS"><code>-S</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ds-1"><code>-s</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dt"><code>-t</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dt-1"><code>-t</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dt_002c-and-recursion"><code>-t</code>, and recursion</a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dv"><code>-v</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dw"><code>-w</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dW"><code>-W</code></a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dW-1"><code>-W</code></a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dw_002c-and-_002dC"><code>-w</code>, and <code>-C</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dw_002c-and-recursion"><code>-w</code>, and recursion</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dW_002c-and-recursion"><code>-W</code>, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dw_002c-disabling"><code>-w</code>, disabling</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-9">.</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ea-_0028archives_0029"><code>.a</code> (archives)</a></td><td valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eC"><code>.C</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ec"><code>.c</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ecc"><code>.cc</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ech"><code>.ch</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ecpp"><code>.cpp</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ed"><code>.d</code></a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002edef"><code>.def</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002edvi"><code>.dvi</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ef"><code>.f</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eF"><code>.F</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002einfo"><code>.info</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002el"><code>.l</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eLIBPATTERNS_002c-and-link-libraries"><code>.LIBPATTERNS</code>, and link libraries</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eln"><code>.ln</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002emod"><code>.mod</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eo"><code>.o</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eo-1"><code>.o</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eONESHELL_002c-use-of"><code>.ONESHELL</code>, use of</a></td><td valign="top"><a href="#One-Shell">5.3.1 Using One Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ep"><code>.p</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePRECIOUS-intermediate-files"><code>.PRECIOUS</code> intermediate files</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002er"><code>.r</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eS"><code>.S</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002es"><code>.s</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002esh"><code>.sh</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSHELLFLAGS_002c-value-of"><code>.SHELLFLAGS</code>, value of</a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002esym"><code>.sym</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002etex"><code>.tex</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002etexi"><code>.texi</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002etexinfo"><code>.texinfo</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002etxinfo"><code>.txinfo</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ew"><code>.w</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eweb"><code>.web</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ey"><code>.y</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-10">:</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003a_003a-rules-_0028double_002dcolon_0029"><code>::</code> rules (double-colon)</a></td><td valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003a_003a_003d">::=</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003a_003a_003d-1">::=</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003a_003d">:=</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003a_003d-1">:=</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-11">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003d">=</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003d-1">=</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003d_002c-expansion">=, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-12">?</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003f-_0028wildcard-character_0029"><code>?</code> (wildcard character)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003f_003d">?=</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003f_003d-1">?=</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003f_003d_002c-expansion">?=, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-13">@</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040-_0028in-recipes_0029"><code>@</code> (in recipes)</a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040_002c-and-define">@, and <code>define</code></a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-14">[</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005b_2026_005d-_0028wildcard-characters_0029"><code>[&hellip;]</code> (wildcard characters)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-15">\</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005c-_0028backslash_0029_002c-for-continuation-lines"><code>\</code> (backslash), for continuation lines</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005c-_0028backslash_0029_002c-in-recipes"><code>\</code> (backslash), in recipes</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005c-_0028backslash_0029_002c-to-quote-_0025"><code>\</code> (backslash), to quote <code>%</code></a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005c-_0028backslash_0029_002c-to-quote-_0025-1"><code>\</code> (backslash), to quote <code>%</code></a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005c-_0028backslash_0029_002c-to-quote-_0025-2"><code>\</code> (backslash), to quote <code>%</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-16">_</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f_005f_002eSYMDEF"><code>__.SYMDEF</code></a></td><td valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_symbol-17">~</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007e-_0028tilde_0029"><code>~</code> (tilde)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-abspath-1">abspath</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-algorithm-for-directory-search">algorithm for directory search</a></td><td valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-all-_0028standard-target_0029"><code>all</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-appending-to-variables">appending to variables</a></td><td valign="top"><a href="#Appending">6.6 Appending More Text to Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ar"><code>ar</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive">archive</a></td><td valign="top"><a href="#Archives">11. Using <code>make</code> to Update Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive-member-targets">archive member targets</a></td><td valign="top"><a href="#Archive-Members">11.1 Archive Members as Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive-symbol-directory-updating">archive symbol directory updating</a></td><td valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive_002c-and-_002dj">archive, and <code>-j</code></a></td><td valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive_002c-and-parallel-execution">archive, and parallel execution</a></td><td valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-archive_002c-suffix-rule-for">archive, suffix rule for</a></td><td valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Arg-list-too-long">Arg list too long</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arguments-of-functions">arguments of functions</a></td><td valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-as"><code>as</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-as-1"><code>as</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-assembly_002c-rule-to-compile">assembly, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-generation-of-prerequisites">automatic generation of prerequisites</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-generation-of-prerequisites-1">automatic generation of prerequisites</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-variables">automatic variables</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-automatic-variables-in-prerequisites">automatic variables in prerequisites</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-backquotes">backquotes</a></td><td valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-for-continuation-lines">backslash (<code>\</code>), for continuation lines</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-in-recipes">backslash (<code>\</code>), in recipes</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-to-quote-_0025">backslash (<code>\</code>), to quote <code>%</code></a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-to-quote-_0025-1">backslash (<code>\</code>), to quote <code>%</code></a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-to-quote-_0025-2">backslash (<code>\</code>), to quote <code>%</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslash-_0028_005c_0029_002c-to-quote-newlines">backslash (<code>\</code>), to quote newlines</a></td><td valign="top"><a href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-backslashes-in-pathnames-and-wildcard-expansion">backslashes in pathnames and wildcard expansion</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-basename-1">basename</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-broken-pipe">broken pipe</a></td><td valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bugs_002c-reporting">bugs, reporting</a></td><td valign="top"><a href="#Bugs">1.2 Problems and Bugs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-built_002din-special-targets">built-in special targets</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_002b_002b_002c-rule-to-compile">C++, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-C_002c-rule-to-compile">C, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-canned-recipes">canned recipes</a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cc"><code>cc</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cc-1"><code>cc</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cd-_0028shell-command_0029"><code>cd</code> (shell command)</a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cd-_0028shell-command_0029-1"><code>cd</code> (shell command)</a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-chains-of-rules">chains of rules</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-check-_0028standard-target_0029"><code>check</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-clean-_0028standard-target_0029"><code>clean</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-clean-target"><code>clean</code> target</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-clean-target-1"><code>clean</code> target</a></td><td valign="top"><a href="#Cleanup">2.7 Rules for Cleaning the Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cleaning-up">cleaning up</a></td><td valign="top"><a href="#Cleanup">2.7 Rules for Cleaning the Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-clobber-_0028standard-target_0029"><code>clobber</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-co"><code>co</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-co-1"><code>co</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-combining-rules-by-prerequisite">combining rules by prerequisite</a></td><td valign="top"><a href="#Combine-By-Prerequisite">2.6 Another Style of Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-expansion">command expansion</a></td><td valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line-variable-definitions_002c-and-recursion">command line variable definitions, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command-line-variables">command line variables</a></td><td valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-commands_002c-sequences-of">commands, sequences of</a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-comments_002c-in-makefile">comments, in makefile</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-comments_002c-in-recipes">comments, in recipes</a></td><td valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compatibility">compatibility</a></td><td valign="top"><a href="#Features">14. Features of GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compatibility-in-exporting">compatibility in exporting</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compilation_002c-testing">compilation, testing</a></td><td valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-computed-variable-name">computed variable name</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-conditional-expansion">conditional expansion</a></td><td valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-conditional-variable-assignment">conditional variable assignment</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-conditionals">conditionals</a></td><td valign="top"><a href="#Conditionals">7. Conditional Parts of Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuation-lines">continuation lines</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-controlling-make">controlling make</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convert-guile-types">convert guile types</a></td><td valign="top"><a href="#Guile-Types">12.1.1 Conversion of Guile Types</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ctangle"><code>ctangle</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ctangle-1"><code>ctangle</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cweave"><code>cweave</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cweave-1"><code>cweave</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-data-base-of-make-rules">data base of <code>make</code> rules</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deducing-recipes-_0028implicit-rules_0029">deducing recipes (implicit rules)</a></td><td valign="top"><a href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-directories-for-included-makefiles">default directories for included makefiles</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-goal">default goal</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-goal-1">default goal</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-makefile-name">default makefile name</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default-rules_002c-last_002dresort">default rules, last-resort</a></td><td valign="top"><a href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002c-expansion">define, expansion</a></td><td valign="top"><a href="#Variable-Assignment">Variable Assignment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-defining-variables-verbatim">defining variables verbatim</a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deletion-of-target-files">deletion of target files</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deletion-of-target-files-1">deletion of target files</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directive">directive</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directories_002c-printing-them">directories, printing them</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directories_002c-updating-archive-symbol">directories, updating archive symbol</a></td><td valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-part">directory part</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search-_0028VPATH_0029">directory search (<code>VPATH</code>)</a></td><td valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search-_0028VPATH_0029_002c-and-implicit-rules">directory search (<code>VPATH</code>), and implicit rules</a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search-_0028VPATH_0029_002c-and-link-libraries">directory search (<code>VPATH</code>), and link libraries</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search-_0028VPATH_0029_002c-and-recipes">directory search (<code>VPATH</code>), and recipes</a></td><td valign="top"><a href="#Recipes_002fSearch">4.5.4 Writing Recipes with Directory Search</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search-algorithm">directory search algorithm</a></td><td valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory-search_002c-traditional-_0028GPATH_0029">directory search, traditional (GPATH)</a></td><td valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dist-_0028standard-target_0029"><code>dist</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-distclean-_0028standard-target_0029"><code>distclean</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dollar-sign-_0028_0024_0029_002c-in-function-call">dollar sign (<code>$</code>), in function call</a></td><td valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dollar-sign-_0028_0024_0029_002c-in-rules">dollar sign (<code>$</code>), in rules</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dollar-sign-_0028_0024_0029_002c-in-variable-name">dollar sign (<code>$</code>), in variable name</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dollar-sign-_0028_0024_0029_002c-in-variable-reference">dollar sign (<code>$</code>), in variable reference</a></td><td valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-DOS_002c-choosing-a-shell-in">DOS, choosing a shell in</a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-double_002dcolon-rules">double-colon rules</a></td><td valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-duplicate-words_002c-removing">duplicate words, removing</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-E2BIG">E2BIG</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-echoing-of-recipes">echoing of recipes</a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-editor">editor</a></td><td valign="top"><a href="#Introduction">2. An Introduction to Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Emacs-_0028M_002dx-compile_0029">Emacs (<code>M-x compile</code>)</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-empty-recipes">empty recipes</a></td><td valign="top"><a href="#Empty-Recipes">5.9 Using Empty Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-empty-targets">empty targets</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environment">environment</a></td><td valign="top"><a href="#Environment">6.10 Variables from the Environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environment_002c-and-recursion">environment, and recursion</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-environment_002c-SHELL-in">environment, <code>SHELL</code> in</a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002c-stopping-on">error, stopping on</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors-_0028in-recipes_0029">errors (in recipes)</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-errors-with-wildcards">errors with wildcards</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-evaluating-makefile-syntax">evaluating makefile syntax</a></td><td valign="top"><a href="#Eval-Function">8.9 The <code>eval</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-example-of-loaded-objects">example of loaded objects</a></td><td valign="top"><a href="#Loaded-Object-Example">12.2.4 Example Loaded Object</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-example-using-Guile">example using Guile</a></td><td valign="top"><a href="#Guile-Example">12.1.3 Example Using Guile in <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-execution_002c-in-parallel">execution, in parallel</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-execution_002c-instead-of">execution, instead of</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-execution_002c-of-recipes">execution, of recipes</a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exit-status-_0028errors_0029">exit status (errors)</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exit-status-of-make">exit status of make</a></td><td valign="top"><a href="#Running">9. How to Run <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expansion_002c-secondary">expansion, secondary</a></td><td valign="top"><a href="#Secondary-Expansion">3.9 Secondary Expansion</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-explicit-rule_002c-definition-of">explicit rule, definition of</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-explicit-rule_002c-expansion">explicit rule, expansion</a></td><td valign="top"><a href="#Rule-Definition">Rule Definition</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-explicit-rules_002c-secondary-expansion-of">explicit rules, secondary expansion of</a></td><td valign="top"><a href="#Secondary-Expansion-of-Explicit-Rules">Secondary Expansion of Explicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exporting-variables">exporting variables</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions_002c-Guile">extensions, Guile</a></td><td valign="top"><a href="#Guile-Integration">12.1 GNU Guile Integration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions_002c-load-directive">extensions, load directive</a></td><td valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extensions_002c-loading">extensions, loading</a></td><td valign="top"><a href="#Loading-Objects">12.2 Loading Dynamic Objects</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-f77"><code>f77</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f77-1"><code>f77</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FDL_002c-GNU-Free-Documentation-License">FDL, GNU Free Documentation License</a></td><td valign="top"><a href="#GNU-Free-Documentation-License">C.1 GNU Free Documentation License</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-features-of-GNU-make">features of GNU <code>make</code></a></td><td valign="top"><a href="#Features">14. Features of GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-features_002c-missing">features, missing</a></td><td valign="top"><a href="#Missing">15. Incompatibilities and Missing Features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-functions">file name functions</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-of-makefile">file name of makefile</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-of-makefile_002c-how-to-specify">file name of makefile, how to specify</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-prefix_002c-adding">file name prefix, adding</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-suffix">file name suffix</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-suffix_002c-adding">file name suffix, adding</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name-with-wildcards">file name with wildcards</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name_002c-abspath-of">file name, abspath of</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name_002c-basename-of">file name, basename of</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name_002c-directory-part">file name, directory part</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name_002c-nondirectory-part">file name, nondirectory part</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-name_002c-realpath-of">file name, realpath of</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002c-reading-from">file, reading from</a></td><td valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002c-writing-to">file, writing to</a></td><td valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-files_002c-assuming-new">files, assuming new</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-files_002c-assuming-old">files, assuming old</a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-files_002c-avoiding-recompilation-of">files, avoiding recompilation of</a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-files_002c-intermediate">files, intermediate</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-filtering-out-words">filtering out words</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-filtering-words">filtering words</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-finding-strings">finding strings</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flags">flags</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flags-for-compilers">flags for compilers</a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flavor-of-variable">flavor of variable</a></td><td valign="top"><a href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flavors-of-variables">flavors of variables</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FORCE"><code>FORCE</code></a></td><td valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-force-targets">force targets</a></td><td valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Fortran_002c-rule-to-compile">Fortran, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions">functions</a></td><td valign="top"><a href="#Functions">8. Functions for Transforming Text</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions_002c-for-controlling-make">functions, for controlling make</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions_002c-for-file-names">functions, for file names</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions_002c-for-text">functions, for text</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions_002c-syntax-of">functions, syntax of</a></td><td valign="top"><a href="#Syntax-of-Functions">8.1 Function Call Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-functions_002c-user-defined">functions, user defined</a></td><td valign="top"><a href="#Call-Function">8.7 The <code>call</code> Function</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-g_002b_002b"><code>g++</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-g_002b_002b-1"><code>g++</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gcc"><code>gcc</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-generating-prerequisites-automatically">generating prerequisites automatically</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-generating-prerequisites-automatically-1">generating prerequisites automatically</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-get"><code>get</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-get-1"><code>get</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-globbing-_0028wildcards_0029">globbing (wildcards)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-goal">goal</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-goal_002c-default">goal, default</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-goal_002c-default-1">goal, default</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-goal_002c-how-to-specify">goal, how to specify</a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-grouped-targets">grouped targets</a></td><td valign="top"><a href="#Rules-with-Grouped-Targets">Rules with Grouped Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Guile">Guile</a></td><td valign="top"><a href="#Guile-Function">8.14 The <code>guile</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Guile-1">Guile</a></td><td valign="top"><a href="#Guile-Integration">12.1 GNU Guile Integration</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Guile-example">Guile example</a></td><td valign="top"><a href="#Guile-Example">12.1.3 Example Using Guile in <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-guile_002c-conversion-of-types">guile, conversion of types</a></td><td valign="top"><a href="#Guile-Types">12.1.1 Conversion of Guile Types</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-home-directory">home directory</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-IEEE-Standard-1003_002e2">IEEE Standard 1003.2</a></td><td valign="top"><a href="#Overview">1. Overview of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifdef_002c-expansion">ifdef, expansion</a></td><td valign="top"><a href="#Conditional-Directives">Conditional Directives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifeq_002c-expansion">ifeq, expansion</a></td><td valign="top"><a href="#Conditional-Directives">Conditional Directives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifndef_002c-expansion">ifndef, expansion</a></td><td valign="top"><a href="#Conditional-Directives">Conditional Directives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifneq_002c-expansion">ifneq, expansion</a></td><td valign="top"><a href="#Conditional-Directives">Conditional Directives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule">implicit rule</a></td><td valign="top"><a href="#Implicit-Rules">10. Using Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-and-directory-search">implicit rule, and directory search</a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-and-VPATH">implicit rule, and <code>VPATH</code></a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-definition-of">implicit rule, definition of</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-expansion">implicit rule, expansion</a></td><td valign="top"><a href="#Rule-Definition">Rule Definition</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-how-to-use">implicit rule, how to use</a></td><td valign="top"><a href="#Using-Implicit">10.1 Using Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-introduction-to">implicit rule, introduction to</a></td><td valign="top"><a href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-predefined">implicit rule, predefined</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rule_002c-search-algorithm">implicit rule, search algorithm</a></td><td valign="top"><a href="#Implicit-Rule-Search">10.8 Implicit Rule Search Algorithm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-implicit-rules_002c-secondary-expansion-of">implicit rules, secondary expansion of</a></td><td valign="top"><a href="#Secondary-Expansion-of-Implicit-Rules">Secondary Expansion of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-included-makefiles_002c-default-directories">included makefiles, default directories</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-including-_0028MAKEFILES-variable_0029">including (<code>MAKEFILES</code> variable)</a></td><td valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-including-_0028MAKEFILE_005fLIST-variable_0029">including (<code>MAKEFILE_LIST</code> variable)</a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-including-other-makefiles">including other makefiles</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-incompatibilities">incompatibilities</a></td><td valign="top"><a href="#Missing">15. Incompatibilities and Missing Features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-independent-targets">independent targets</a></td><td valign="top"><a href="#Rules-with-Independent-Targets">Rules with Independent Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Info_002c-rule-to-format">Info, rule to format</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inheritance_002c-suppressing">inheritance, suppressing</a></td><td valign="top"><a href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input-during-parallel-execution">input during parallel execution</a></td><td valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-install-_0028standard-target_0029"><code>install</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interface-for-loaded-objects">interface for loaded objects</a></td><td valign="top"><a href="#Loaded-Object-API">12.2.3 Loaded Object Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intermediate-files">intermediate files</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intermediate-files_002c-preserving">intermediate files, preserving</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-intermediate-targets_002c-explicit">intermediate targets, explicit</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interrupt">interrupt</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-J">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-job-slots">job slots</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-job-slots_002c-and-recursion">job slots, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-job-slots_002c-sharing">job slots, sharing</a></td><td valign="top"><a href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-jobs_002c-limiting-based-on-load">jobs, limiting based on load</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-jobserver">jobserver</a></td><td valign="top"><a href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-jobserver-on-POSIX">jobserver on POSIX</a></td><td valign="top"><a href="#POSIX-Jobserver">13.1.1 POSIX Jobserver Interaction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-jobserver-on-Windows">jobserver on Windows</a></td><td valign="top"><a href="#Windows-Jobserver">13.1.2 Windows Jobserver Interaction</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-joining-lists-of-words">joining lists of words</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-killing-_0028interruption_0029">killing (interruption)</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-last_002dresort-default-rules">last-resort default rules</a></td><td valign="top"><a href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ld"><code>ld</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lex"><code>lex</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lex-1"><code>lex</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Lex_002c-rule-to-run">Lex, rule to run</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-libraries-for-linking_002c-directory-search">libraries for linking, directory search</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-library-archive_002c-suffix-rule-for">library archive, suffix rule for</a></td><td valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-limiting-jobs-based-on-load">limiting jobs based on load</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-link-libraries_002c-and-directory-search">link libraries, and directory search</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-link-libraries_002c-patterns-matching">link libraries, patterns matching</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-linking_002c-predefined-rule-for">linking, predefined rule for</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lint"><code>lint</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lint-1"><code>lint</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lint_002c-rule-to-run"><code>lint</code>, rule to run</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list-of-all-prerequisites">list of all prerequisites</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list-of-changed-prerequisites">list of changed prerequisites</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-load-average">load average</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-load-directive">load directive</a></td><td valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loaded-object-API">loaded object API</a></td><td valign="top"><a href="#Loaded-Object-API">12.2.3 Loaded Object Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loaded-object-example">loaded object example</a></td><td valign="top"><a href="#Loaded-Object-Example">12.2.4 Example Loaded Object</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loaded-object-licensing">loaded object licensing</a></td><td valign="top"><a href="#Loaded-Object-Licensing">Loaded Object Licensing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loaded-objects">loaded objects</a></td><td valign="top"><a href="#Loading-Objects">12.2 Loading Dynamic Objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loaded-objects_002c-remaking-of">loaded objects, remaking of</a></td><td valign="top"><a href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-long-lines_002c-splitting">long lines, splitting</a></td><td valign="top"><a href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-loops-in-variable-expansion">loops in variable expansion</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lpr-_0028shell-command_0029"><code>lpr</code> (shell command)</a></td><td valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lpr-_0028shell-command_0029-1"><code>lpr</code> (shell command)</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-m2c"><code>m2c</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-m2c-1"><code>m2c</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-macro">macro</a></td><td valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make-depend"><code>make depend</code></a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make-extensions">make extensions</a></td><td valign="top"><a href="#Extending-make">12. Extending GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make-integration">make integration</a></td><td valign="top"><a href="#Integrating-make">13. Integrating GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make-interface-to-guile">make interface to guile</a></td><td valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make-procedures-in-guile">make procedures in guile</a></td><td valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile">makefile</a></td><td valign="top"><a href="#Introduction">2. An Introduction to Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile-name">makefile name</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile-name_002c-how-to-specify">makefile name, how to specify</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile-rule-parts">makefile rule parts</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile-syntax_002c-evaluating">makefile syntax, evaluating</a></td><td valign="top"><a href="#Eval-Function">8.9 The <code>eval</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-and-MAKEFILES-variable">makefile, and <code>MAKEFILES</code> variable</a></td><td valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-how-make-processes">makefile, how <code>make</code> processes</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-how-to-write">makefile, how to write</a></td><td valign="top"><a href="#Makefiles">3. Writing Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-including">makefile, including</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-overriding">makefile, overriding</a></td><td valign="top"><a href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-reading">makefile, reading</a></td><td valign="top"><a href="#Reading-Makefiles">3.7 How <code>make</code> Reads a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-remaking-of">makefile, remaking of</a></td><td valign="top"><a href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile_002c-simple">makefile, simple</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefiles_002c-and-MAKEFILE_005fLIST-variable">makefiles, and <code>MAKEFILE_LIST</code> variable</a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefiles_002c-and-special-variables">makefiles, and special variables</a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefiles_002c-parsing">makefiles, parsing</a></td><td valign="top"><a href="#Parsing-Makefiles">3.8 How Makefiles Are Parsed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makeinfo"><code>makeinfo</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makeinfo-1"><code>makeinfo</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-match_002danything-rule">match-anything rule</a></td><td valign="top"><a href="#Match_002dAnything-Rules">10.5.5 Match-Anything Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-match_002danything-rule_002c-used-to-override">match-anything rule, used to override</a></td><td valign="top"><a href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-missing-features">missing features</a></td><td valign="top"><a href="#Missing">15. Incompatibilities and Missing Features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mistakes-with-wildcards">mistakes with wildcards</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-modified-variable-reference">modified variable reference</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Modula_002d2_002c-rule-to-compile">Modula-2, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostlyclean-_0028standard-target_0029"><code>mostlyclean</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multi_002dline-variable-definition">multi-line variable definition</a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multiple-rules-for-one-target">multiple rules for one target</a></td><td valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multiple-rules-for-one-target-_0028_003a_003a_0029">multiple rules for one target (<code>::</code>)</a></td><td valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multiple-targets">multiple targets</a></td><td valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multiple-targets_002c-in-pattern-rule">multiple targets, in pattern rule</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-name-of-makefile">name of makefile</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-name-of-makefile_002c-how-to-specify">name of makefile, how to specify</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nested-variable-reference">nested variable reference</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-newline_002c-quoting_002c-in-makefile">newline, quoting, in makefile</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-newline_002c-quoting_002c-in-recipes">newline, quoting, in recipes</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nondirectory-part">nondirectory part</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-normal-prerequisites">normal prerequisites</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-obj"><code>obj</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJ"><code>OBJ</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJECTS"><code>OBJECTS</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-objects"><code>objects</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-objects_002c-loaded">objects, loaded</a></td><td valign="top"><a href="#Loading-Objects">12.2 Loading Dynamic Objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OBJS"><code>OBJS</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-objs"><code>objs</code></a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-old_002dfashioned-suffix-rules">old-fashioned suffix rules</a></td><td valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options">options</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-and-recursion">options, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-setting-from-environment">options, setting from environment</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-setting-in-makefiles">options, setting in makefiles</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-order-of-pattern-rules">order of pattern rules</a></td><td valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-order_002donly-prerequisites">order-only prerequisites</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-origin-of-variable">origin of variable</a></td><td valign="top"><a href="#Origin-Function">8.10 The <code>origin</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output-during-parallel-execution">output during parallel execution</a></td><td valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output-during-parallel-execution-1">output during parallel execution</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-overriding-makefiles">overriding makefiles</a></td><td valign="top"><a href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-overriding-variables-with-arguments">overriding variables with arguments</a></td><td valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-overriding-with-override">overriding with <code>override</code></a></td><td valign="top"><a href="#Override-Directive">6.7 The <code>override</code> Directive</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution">parallel execution</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution_002c-and-archive-update">parallel execution, and archive update</a></td><td valign="top"><a href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution_002c-input-during">parallel execution, input during</a></td><td valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution_002c-output-during">parallel execution, output during</a></td><td valign="top"><a href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution_002c-output-during-1">parallel execution, output during</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-execution_002c-overriding">parallel execution, overriding</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parallel-output-to-terminal">parallel output to terminal</a></td><td valign="top"><a href="#Terminal-Output">13.2 Synchronized Terminal Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parsing-makefiles">parsing makefiles</a></td><td valign="top"><a href="#Parsing-Makefiles">3.8 How Makefiles Are Parsed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-parts-of-makefile-rule">parts of makefile rule</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Pascal_002c-rule-to-compile">Pascal, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern-rule">pattern rule</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern-rule_002c-expansion">pattern rule, expansion</a></td><td valign="top"><a href="#Rule-Definition">Rule Definition</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern-rules_002c-order-of">pattern rules, order of</a></td><td valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern-rules_002c-static-_0028not-implicit_0029">pattern rules, static (not implicit)</a></td><td valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern-rules_002c-static_002c-syntax-of">pattern rules, static, syntax of</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pattern_002dspecific-variables">pattern-specific variables</a></td><td valign="top"><a href="#Pattern_002dspecific">6.12 Pattern-specific Variable Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pc"><code>pc</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pc-1"><code>pc</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-phony-targets">phony targets</a></td><td valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-phony-targets-and-recipe-execution">phony targets and recipe execution</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pitfalls-of-wildcards">pitfalls of wildcards</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-plugin_005fis_005fGPL_005fcompatible">plugin_is_GPL_compatible</a></td><td valign="top"><a href="#Loaded-Object-Licensing">Loaded Object Licensing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-portability">portability</a></td><td valign="top"><a href="#Features">14. Features of GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-POSIX">POSIX</a></td><td valign="top"><a href="#Overview">1. Overview of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-POSIX-1">POSIX</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-POSIX_002dconforming-mode_002c-setting">POSIX-conforming mode, setting</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-precious-targets">precious targets</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-predefined-rules-and-variables_002c-printing">predefined rules and variables, printing</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix_002c-adding">prefix, adding</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisite">prerequisite</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisite-pattern_002c-implicit">prerequisite pattern, implicit</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisite-pattern_002c-static-_0028not-implicit_0029">prerequisite pattern, static (not implicit)</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisite-types">prerequisite types</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisite_002c-expansion">prerequisite, expansion</a></td><td valign="top"><a href="#Rule-Definition">Rule Definition</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites">prerequisites</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-and-automatic-variables">prerequisites, and automatic variables</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-automatic-generation">prerequisites, automatic generation</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-automatic-generation-1">prerequisites, automatic generation</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-introduction-to">prerequisites, introduction to</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-list-of-all">prerequisites, list of all</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-list-of-changed">prerequisites, list of changed</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-normal">prerequisites, normal</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-order_002donly">prerequisites, order-only</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prerequisites_002c-varying-_0028static-pattern_0029">prerequisites, varying (static pattern)</a></td><td valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preserving-intermediate-files">preserving intermediate files</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preserving-with-_002ePRECIOUS">preserving with <code>.PRECIOUS</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preserving-with-_002ePRECIOUS-1">preserving with <code>.PRECIOUS</code></a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-preserving-with-_002eSECONDARY">preserving with <code>.SECONDARY</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-print-_0028standard-target_0029"><code>print</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-print-target"><code>print</code> target</a></td><td valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-print-target-1"><code>print</code> target</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-printing-directories">printing directories</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-printing-messages">printing messages</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-printing-of-recipes">printing of recipes</a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-printing-user-warnings">printing user warnings</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-problems-and-bugs_002c-reporting">problems and bugs, reporting</a></td><td valign="top"><a href="#Bugs">1.2 Problems and Bugs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-problems-with-wildcards">problems with wildcards</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-processing-a-makefile">processing a makefile</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-Q">Q</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-question-mode">question mode</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting-_0025_002c-in-patsubst">quoting <code>%</code>, in <code>patsubst</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting-_0025_002c-in-static-pattern">quoting <code>%</code>, in static pattern</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting-_0025_002c-in-vpath">quoting <code>%</code>, in <code>vpath</code></a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting-newline_002c-in-makefile">quoting newline, in makefile</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-quoting-newline_002c-in-recipes">quoting newline, in recipes</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Ratfor_002c-rule-to-compile">Ratfor, rule to compile</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RCS_002c-rule-to-extract-from">RCS, rule to extract from</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reading-from-a-file">reading from a file</a></td><td valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reading-makefiles">reading makefiles</a></td><td valign="top"><a href="#Reading-Makefiles">3.7 How <code>make</code> Reads a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-README"><code>README</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-realclean-_0028standard-target_0029"><code>realclean</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-realpath-1">realpath</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipe">recipe</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipe-execution_002c-single-invocation">recipe execution, single invocation</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipe-lines_002c-single-shell">recipe lines, single shell</a></td><td valign="top"><a href="#One-Shell">5.3.1 Using One Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipe-syntax">recipe syntax</a></td><td valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipe_002c-execution">recipe, execution</a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes">recipes</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes-1">recipes</a></td><td valign="top"><a href="#Recipes">5. Writing Recipes in Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes-setting-shell-variables">recipes setting shell variables</a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-and-directory-search">recipes, and directory search</a></td><td valign="top"><a href="#Recipes_002fSearch">4.5.4 Writing Recipes with Directory Search</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-backslash-_0028_005c_0029-in">recipes, backslash (<code>\</code>) in</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-canned">recipes, canned</a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-comments-in">recipes, comments in</a></td><td valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-echoing">recipes, echoing</a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-empty">recipes, empty</a></td><td valign="top"><a href="#Empty-Recipes">5.9 Using Empty Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-errors-in">recipes, errors in</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-execution-in-parallel">recipes, execution in parallel</a></td><td valign="top"><a href="#Parallel">5.4 Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-how-to-write">recipes, how to write</a></td><td valign="top"><a href="#Recipes">5. Writing Recipes in Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-instead-of-executing">recipes, instead of executing</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-introduction-to">recipes, introduction to</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-quoting-newlines-in">recipes, quoting newlines in</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-splitting">recipes, splitting</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recipes_002c-using-variables-in">recipes, using variables in</a></td><td valign="top"><a href="#Variables-in-Recipes">5.1.2 Using Variables in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recompilation">recompilation</a></td><td valign="top"><a href="#Introduction">2. An Introduction to Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recompilation_002c-avoiding">recompilation, avoiding</a></td><td valign="top"><a href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recording-events-with-empty-targets">recording events with empty targets</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion">recursion</a></td><td valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002dC">recursion, and <code>-C</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002df">recursion, and <code>-f</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002dj">recursion, and <code>-j</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002do">recursion, and <code>-o</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002dt">recursion, and <code>-t</code></a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002dW">recursion, and <code>-W</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-_002dw">recursion, and <code>-w</code></a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-command-line-variable-definitions">recursion, and command line variable definitions</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-environment">recursion, and environment</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-MAKE-variable">recursion, and <code>MAKE</code> variable</a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-MAKEFILES-variable">recursion, and <code>MAKEFILES</code> variable</a></td><td valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-options">recursion, and options</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-printing-directories">recursion, and printing directories</a></td><td valign="top"><a href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-and-variables">recursion, and variables</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursion_002c-level-of">recursion, level of</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursive-variable-expansion">recursive variable expansion</a></td><td valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursive-variable-expansion-1">recursive variable expansion</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-recursively-expanded-variables">recursively expanded variables</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reference-to-variables">reference to variables</a></td><td valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reference-to-variables-1">reference to variables</a></td><td valign="top"><a href="#Advanced">6.3 Advanced Features for Reference to Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-relinking">relinking</a></td><td valign="top"><a href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-remaking-loaded-objects">remaking loaded objects</a></td><td valign="top"><a href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-remaking-makefiles">remaking makefiles</a></td><td valign="top"><a href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removal-of-target-files">removal of target files</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removal-of-target-files-1">removal of target files</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing-duplicate-words">removing duplicate words</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing-targets-on-failure">removing targets on failure</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing-whitespace-from-split-lines">removing whitespace from split lines</a></td><td valign="top"><a href="#Splitting-Without-Adding-Whitespace">Splitting Without Adding Whitespace</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-removing_002c-to-clean-up">removing, to clean up</a></td><td valign="top"><a href="#Cleanup">2.7 Rules for Cleaning the Directory</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-reporting-bugs">reporting bugs</a></td><td valign="top"><a href="#Bugs">1.2 Problems and Bugs</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rm"><code>rm</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rm-_0028shell-command_0029"><code>rm</code> (shell command)</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rm-_0028shell-command_0029-1"><code>rm</code> (shell command)</a></td><td valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rm-_0028shell-command_0029-2"><code>rm</code> (shell command)</a></td><td valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rm-_0028shell-command_0029-3"><code>rm</code> (shell command)</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule-prerequisites">rule prerequisites</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule-syntax">rule syntax</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule-targets">rule targets</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-double_002dcolon-_0028_003a_003a_0029">rule, double-colon (<code>::</code>)</a></td><td valign="top"><a href="#Double_002dColon">4.13 Double-Colon Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-explicit_002c-definition-of">rule, explicit, definition of</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-how-to-write">rule, how to write</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit">rule, implicit</a></td><td valign="top"><a href="#Implicit-Rules">10. Using Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-and-directory-search">rule, implicit, and directory search</a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-and-VPATH">rule, implicit, and <code>VPATH</code></a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-chains-of">rule, implicit, chains of</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-definition-of">rule, implicit, definition of</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-how-to-use">rule, implicit, how to use</a></td><td valign="top"><a href="#Using-Implicit">10.1 Using Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-introduction-to">rule, implicit, introduction to</a></td><td valign="top"><a href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-implicit_002c-predefined">rule, implicit, predefined</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-introduction-to">rule, introduction to</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-multiple-for-one-target">rule, multiple for one target</a></td><td valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-no-recipe-or-prerequisites">rule, no recipe or prerequisites</a></td><td valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-pattern">rule, pattern</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-static-pattern">rule, static pattern</a></td><td valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-static-pattern-versus-implicit">rule, static pattern versus implicit</a></td><td valign="top"><a href="#Static-versus-Implicit">4.12.2 Static Pattern Rules versus Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rule_002c-with-multiple-targets">rule, with multiple targets</a></td><td valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rules_002c-and-_0024">rules, and <code>$</code></a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-s_002e-_0028SCCS-file-prefix_0029"><code>s. <span class="roman">(SCCS file prefix)</span></code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SCCS_002c-rule-to-extract-from">SCCS, rule to extract from</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-algorithm_002c-implicit-rule">search algorithm, implicit rule</a></td><td valign="top"><a href="#Implicit-Rule-Search">10.8 Implicit Rule Search Algorithm</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-path-for-prerequisites-_0028VPATH_0029">search path for prerequisites (<code>VPATH</code>)</a></td><td valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-path-for-prerequisites-_0028VPATH_0029_002c-and-implicit-rules">search path for prerequisites (<code>VPATH</code>), and implicit rules</a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-search-path-for-prerequisites-_0028VPATH_0029_002c-and-link-libraries">search path for prerequisites (<code>VPATH</code>), and link libraries</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-searching-for-strings">searching for strings</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-expansion">secondary expansion</a></td><td valign="top"><a href="#Secondary-Expansion">3.9 Secondary Expansion</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-expansion-and-explicit-rules">secondary expansion and explicit rules</a></td><td valign="top"><a href="#Secondary-Expansion-of-Explicit-Rules">Secondary Expansion of Explicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-expansion-and-implicit-rules">secondary expansion and implicit rules</a></td><td valign="top"><a href="#Secondary-Expansion-of-Implicit-Rules">Secondary Expansion of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-expansion-and-static-pattern-rules">secondary expansion and static pattern rules</a></td><td valign="top"><a href="#Secondary-Expansion-of-Static-Pattern-Rules">Secondary Expansion of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-files">secondary files</a></td><td valign="top"><a href="#Chained-Rules">10.4 Chains of Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-secondary-targets">secondary targets</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sed-_0028shell-command_0029"><code>sed</code> (shell command)</a></td><td valign="top"><a href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-selecting-a-word">selecting a word</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-selecting-word-lists">selecting word lists</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sequences-of-commands">sequences of commands</a></td><td valign="top"><a href="#Canned-Recipes">5.8 Defining Canned Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-setting-options-from-environment">setting options from environment</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-setting-options-in-makefiles">setting options in makefiles</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-setting-variables">setting variables</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-several-rules-for-one-target">several rules for one target</a></td><td valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-several-targets-in-a-rule">several targets in a rule</a></td><td valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shar-_0028standard-target_0029"><code>shar</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell-command_002c-function-for">shell command, function for</a></td><td valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell-file-name-pattern-_0028in-include_0029">shell file name pattern (in <code>include</code>)</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell-variables_002c-setting-in-recipes">shell variables, setting in recipes</a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell-wildcards-_0028in-include_0029">shell wildcards (in <code>include</code>)</a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell_002c-choosing-the">shell, choosing the</a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL_002c-exported-value">SHELL, exported value</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL_002c-import-from-environment">SHELL, import from environment</a></td><td valign="top"><a href="#Environment">6.10 Variables from the Environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell_002c-in-DOS-and-Windows">shell, in DOS and Windows</a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL_002c-MS_002dDOS-specifics"><code>SHELL</code>, MS-DOS specifics</a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL_002c-value-of"><code>SHELL</code>, value of</a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-signal">signal</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-silent-operation">silent operation</a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-simple-makefile">simple makefile</a></td><td valign="top"><a href="#Simple-Makefile">2.2 A Simple Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-simple-variable-expansion">simple variable expansion</a></td><td valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-simplifying-with-variables">simplifying with variables</a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-simply-expanded-variables">simply expanded variables</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sorting-words">sorting words</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-spaces_002c-in-variable-values">spaces, in variable values</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-spaces_002c-stripping">spaces, stripping</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-special-targets">special targets</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-special-variables">special variables</a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-specifying-makefile-name">specifying makefile name</a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-splitting-long-lines">splitting long lines</a></td><td valign="top"><a href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-splitting-recipes">splitting recipes</a></td><td valign="top"><a href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-standard-input">standard input</a></td><td valign="top"><a href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-standards-conformance">standards conformance</a></td><td valign="top"><a href="#Overview">1. Overview of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-static-pattern-rule">static pattern rule</a></td><td valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-static-pattern-rule_002c-syntax-of">static pattern rule, syntax of</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-static-pattern-rule_002c-versus-implicit">static pattern rule, versus implicit</a></td><td valign="top"><a href="#Static-versus-Implicit">4.12.2 Static Pattern Rules versus Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-static-pattern-rules_002c-secondary-expansion-of">static pattern rules, secondary expansion of</a></td><td valign="top"><a href="#Secondary-Expansion-of-Static-Pattern-Rules">Secondary Expansion of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stem">stem</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stem-1">stem</a></td><td valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stem_002c-shortest">stem, shortest</a></td><td valign="top"><a href="#Pattern-Match">10.5.4 How Patterns Match</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stem_002c-variable-for">stem, variable for</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stopping-make">stopping make</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-strings_002c-searching-for">strings, searching for</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stripping-whitespace">stripping whitespace</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sub_002dmake">sub-<code>make</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subdirectories_002c-recursion-for">subdirectories, recursion for</a></td><td valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-substitution-variable-reference">substitution variable reference</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix-rule">suffix rule</a></td><td valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix-rule_002c-for-archive">suffix rule, for archive</a></td><td valign="top"><a href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix_002c-adding">suffix, adding</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix_002c-function-to-find">suffix, function to find</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix_002c-substituting-in-variables">suffix, substituting in variables</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suppressing-inheritance">suppressing inheritance</a></td><td valign="top"><a href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-switches">switches</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-symbol-directories_002c-updating-archive">symbol directories, updating archive</a></td><td valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-of-recipe">syntax of recipe</a></td><td valign="top"><a href="#Recipe-Syntax">5.1 Recipe Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax-of-rules">syntax of rules</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-tab-character-_0028in-commands_0029">tab character (in commands)</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tabs-in-rules">tabs in rules</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TAGS-_0028standard-target_0029"><code>TAGS</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tangle"><code>tangle</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tangle-1"><code>tangle</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tar-_0028standard-target_0029"><code>tar</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target">target</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target-pattern_002c-implicit">target pattern, implicit</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target-pattern_002c-static-_0028not-implicit_0029">target pattern, static (not implicit)</a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-deleting-on-error">target, deleting on error</a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-deleting-on-interrupt">target, deleting on interrupt</a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-expansion">target, expansion</a></td><td valign="top"><a href="#Rule-Definition">Rule Definition</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-multiple-in-pattern-rule">target, multiple in pattern rule</a></td><td valign="top"><a href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-multiple-rules-for-one">target, multiple rules for one</a></td><td valign="top"><a href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002c-touching">target, touching</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-target_002dspecific-variables">target-specific variables</a></td><td valign="top"><a href="#Target_002dspecific">6.11 Target-specific Variable Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets">targets</a></td><td valign="top"><a href="#Rule-Syntax">4.2 Rule Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets-without-a-file">targets without a file</a></td><td valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-built_002din-special">targets, built-in special</a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-empty">targets, empty</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-force">targets, force</a></td><td valign="top"><a href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-grouped">targets, grouped</a></td><td valign="top"><a href="#Rules-with-Grouped-Targets">Rules with Grouped Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-independent">targets, independent</a></td><td valign="top"><a href="#Rules-with-Independent-Targets">Rules with Independent Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-introduction-to">targets, introduction to</a></td><td valign="top"><a href="#Rule-Introduction">2.1 What a Rule Looks Like</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-multiple">targets, multiple</a></td><td valign="top"><a href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-targets_002c-phony">targets, phony</a></td><td valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-terminal-rule">terminal rule</a></td><td valign="top"><a href="#Match_002dAnything-Rules">10.5.5 Match-Anything Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-terminal_002c-output-to">terminal, output to</a></td><td valign="top"><a href="#Terminal-Output">13.2 Synchronized Terminal Output</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-test-_0028standard-target_0029"><code>test</code> <span class="roman">(standard target)</span></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-testing-compilation">testing compilation</a></td><td valign="top"><a href="#Testing">9.6 Testing the Compilation of a Program</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tex"><code>tex</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tex-1"><code>tex</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TeX_002c-rule-to-run">TeX, rule to run</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi2dvi"><code>texi2dvi</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-texi2dvi-1"><code>texi2dvi</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Texinfo_002c-rule-to-format">Texinfo, rule to format</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tilde-_0028_007e_0029">tilde (<code>~</code>)</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tools_002c-sharing-job-slots">tools, sharing job slots</a></td><td valign="top"><a href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-touch-_0028shell-command_0029"><code>touch</code> (shell command)</a></td><td valign="top"><a href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-touch-_0028shell-command_0029-1"><code>touch</code> (shell command)</a></td><td valign="top"><a href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-touching-files">touching files</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-traditional-directory-search-_0028GPATH_0029">traditional directory search (GPATH)</a></td><td valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-types-of-prerequisites">types of prerequisites</a></td><td valign="top"><a href="#Prerequisite-Types">4.3 Types of Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-types_002c-conversion-of">types, conversion of</a></td><td valign="top"><a href="#Guile-Types">12.1.1 Conversion of Guile Types</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-undefined-variables_002c-warning-message">undefined variables, warning message</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-undefining-variable">undefining variable</a></td><td valign="top"><a href="#Undefine-Directive">6.9 Undefining Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-updating-archive-symbol-directories">updating archive symbol directories</a></td><td valign="top"><a href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-updating-loaded-objects">updating loaded objects</a></td><td valign="top"><a href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-updating-makefiles">updating makefiles</a></td><td valign="top"><a href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user-defined-functions">user defined functions</a></td><td valign="top"><a href="#Call-Function">8.7 The <code>call</code> Function</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-value">value</a></td><td valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-value_002c-how-a-variable-gets-it">value, how a variable gets it</a></td><td valign="top"><a href="#Values">6.4 How Variables Get Their Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variable">variable</a></td><td valign="top"><a href="#Using-Variables">6. How to Use Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variable-definition">variable definition</a></td><td valign="top"><a href="#Makefile-Contents">3.1 What Makefiles Contain</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variable-references-in-recipes">variable references in recipes</a></td><td valign="top"><a href="#Variables-in-Recipes">5.1.2 Using Variables in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables">variables</a></td><td valign="top"><a href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-_0024-in-name">variables, &lsquo;<samp>$</samp>&rsquo; in name</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-and-implicit-rule">variables, and implicit rule</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-appending-to">variables, appending to</a></td><td valign="top"><a href="#Appending">6.6 Appending More Text to Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-automatic">variables, automatic</a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-command-line">variables, command line</a></td><td valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-command-line_002c-and-recursion">variables, command line, and recursion</a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-computed-names">variables, computed names</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-conditional-assignment">variables, conditional assignment</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-defining-verbatim">variables, defining verbatim</a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-environment">variables, environment</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-environment-1">variables, environment</a></td><td valign="top"><a href="#Environment">6.10 Variables from the Environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-exporting">variables, exporting</a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-flavor-of">variables, flavor of</a></td><td valign="top"><a href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-flavors">variables, flavors</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-how-they-get-their-values">variables, how they get their values</a></td><td valign="top"><a href="#Values">6.4 How Variables Get Their Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-how-to-reference">variables, how to reference</a></td><td valign="top"><a href="#Reference">6.1 Basics of Variable References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-loops-in-expansion">variables, loops in expansion</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-modified-reference">variables, modified reference</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-multi_002dline">variables, multi-line</a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-nested-references">variables, nested references</a></td><td valign="top"><a href="#Computed-Names">6.3.2 Computed Variable Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-origin-of">variables, origin of</a></td><td valign="top"><a href="#Origin-Function">8.10 The <code>origin</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-overriding">variables, overriding</a></td><td valign="top"><a href="#Override-Directive">6.7 The <code>override</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-overriding-with-arguments">variables, overriding with arguments</a></td><td valign="top"><a href="#Overriding">9.5 Overriding Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-pattern_002dspecific">variables, pattern-specific</a></td><td valign="top"><a href="#Pattern_002dspecific">6.12 Pattern-specific Variable Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-recursively-expanded">variables, recursively expanded</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-setting">variables, setting</a></td><td valign="top"><a href="#Setting">6.5 Setting Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-simply-expanded">variables, simply expanded</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-spaces-in-values">variables, spaces in values</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-substituting-suffix-in">variables, substituting suffix in</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-substitution-reference">variables, substitution reference</a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-target_002dspecific">variables, target-specific</a></td><td valign="top"><a href="#Target_002dspecific">6.11 Target-specific Variable Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-unexpanded-value">variables, unexpanded value</a></td><td valign="top"><a href="#Value-Function">8.8 The <code>value</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-variables_002c-warning-for-undefined">variables, warning for undefined</a></td><td valign="top"><a href="#Options-Summary">9.7 Summary of Options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-varying-prerequisites">varying prerequisites</a></td><td valign="top"><a href="#Static-Pattern">4.12 Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-verbatim-variable-definition">verbatim variable definition</a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vpath-1">vpath</a></td><td valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VPATH_002c-and-implicit-rules"><code>VPATH</code>, and implicit rules</a></td><td valign="top"><a href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VPATH_002c-and-link-libraries"><code>VPATH</code>, and link libraries</a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-warnings_002c-printing">warnings, printing</a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-weave"><code>weave</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-weave-1"><code>weave</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Web_002c-rule-to-run">Web, rule to run</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-what-if">what if</a></td><td valign="top"><a href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-whitespace_002c-avoiding-on-line-split">whitespace, avoiding on line split</a></td><td valign="top"><a href="#Splitting-Without-Adding-Whitespace">Splitting Without Adding Whitespace</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-whitespace_002c-in-variable-values">whitespace, in variable values</a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-whitespace_002c-stripping">whitespace, stripping</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard">wildcard</a></td><td valign="top"><a href="#Wildcards">4.4 Using Wildcard Characters in File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard-pitfalls">wildcard pitfalls</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard_002c-function">wildcard, function</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard_002c-in-archive-member">wildcard, in archive member</a></td><td valign="top"><a href="#Archive-Members">11.1 Archive Members as Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard_002c-in-include">wildcard, in <code>include</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcards-and-MS_002dDOS_002fMS_002dWindows-backslashes">wildcards and MS-DOS/MS-Windows backslashes</a></td><td valign="top"><a href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Windows_002c-choosing-a-shell-in">Windows, choosing a shell in</a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-word_002c-selecting-a">word, selecting a</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-extracting-first">words, extracting first</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-extracting-last">words, extracting last</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-filtering">words, filtering</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-filtering-out">words, filtering out</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-finding-number">words, finding number</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-iterating-over">words, iterating over</a></td><td valign="top"><a href="#Foreach-Function">8.5 The <code>foreach</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-joining-lists">words, joining lists</a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-removing-duplicates">words, removing duplicates</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words_002c-selecting-lists-of">words, selecting lists of</a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-writing-recipes">writing recipes</a></td><td valign="top"><a href="#Recipes">5. Writing Recipes in Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-writing-rules">writing rules</a></td><td valign="top"><a href="#Rules">4. Writing Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-writing-to-a-file">writing to a file</a></td><td valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Concepts_cp_letter-Y">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-yacc-1"><code>yacc</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-yacc-2"><code>yacc</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Yacc_002c-rule-to-run">Yacc, rule to run</a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-of-Concepts_cp_symbol-1" class="summary-letter"><b>!</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-2" class="summary-letter"><b>#</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-3" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-4" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-5" class="summary-letter"><b>*</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-6" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-7" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-8" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-9" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-10" class="summary-letter"><b>:</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-11" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-12" class="summary-letter"><b>?</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-13" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-14" class="summary-letter"><b>[</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-15" class="summary-letter"><b>\</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-16" class="summary-letter"><b>_</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_symbol-17" class="summary-letter"><b>~</b></a>
 &nbsp; 
<br>
<a href="#Index-of-Concepts_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-Q" class="summary-letter"><b>Q</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Index-of-Concepts_cp_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="Name-Index"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Concept-Index" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[ &gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[ &gt;&gt; ]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="Index-of-Functions_002c-Variables_002c-_0026-Directives"></a>
<h1 class="unnumbered">Index of Functions, Variables, &amp; Directives</h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-1" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-2" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-3" class="summary-letter"><b>*</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-4" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-5" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-6" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-7" class="summary-letter"><b>/</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-8" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-9" class="summary-letter"><b>?</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-10" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-11" class="summary-letter"><b>^</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-12" class="summary-letter"><b>|</b></a>
 &nbsp; 
<br>
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-fn">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-1">$</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0025"><code>$%</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_0025D_0029"><code>$(%D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_0025F_0029"><code>$(%F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_002aD_0029"><code>$(*D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_002aF_0029"><code>$(*F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_002bD_0029"><code>$(+D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_002bF_0029"><code>$(+F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_003cD_0029"><code>$(&lt;D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_003cF_0029"><code>$(&lt;F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_003fD_0029"><code>$(?D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_003fF_0029"><code>$(?F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_0040D_0029"><code>$(@D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_0040F_0029"><code>$(@F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_005eD_0029"><code>$(^D)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0028_005eF_0029"><code>$(^F)</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002a"><code>$*</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002a_002c-and-static-pattern"><code>$*<span class="roman">, and static pattern</span></code></a></td><td valign="top"><a href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_002b"><code>$+</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_003c"><code>$&lt;</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_003f"><code>$?</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_0040"><code>$@</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_005e"><code>$^</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0024_007c"><code>$|</code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-2">%</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025-_0028automatic-variable_0029"><code>% <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025D-_0028automatic-variable_0029"><code>%D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0025F-_0028automatic-variable_0029"><code>%F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-3">*</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002a-_0028automatic-variable_0029"><code>* <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002a-_0028automatic-variable_0029_002c-unsupported-bizarre-usage"><code>* <span class="roman">(automatic variable), unsupported bizarre usage</span></code></a></td><td valign="top"><a href="#Missing">15. Incompatibilities and Missing Features</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002aD-_0028automatic-variable_0029"><code>*D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002aF-_0028automatic-variable_0029"><code>*F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-4">+</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002b-_0028automatic-variable_0029"><code>+ <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002bD-_0028automatic-variable_0029"><code>+D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002bF-_0028automatic-variable_0029"><code>+F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-5">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dload"><code>-load</code></a></td><td valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-6">.</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDEFAULT"><code>.DEFAULT</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDEFAULT-1"><code>.DEFAULT</code></a></td><td valign="top"><a href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDEFAULT_002c-and-empty-recipes"><code>.DEFAULT<span class="roman">, and empty recipes</span></code></a></td><td valign="top"><a href="#Empty-Recipes">5.9 Using Empty Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDEFAULT_005fGOAL-_0028define-default-goal_0029"><code>.DEFAULT_GOAL <span class="roman">(define default goal)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDELETE_005fON_005fERROR"><code>.DELETE_ON_ERROR</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eDELETE_005fON_005fERROR-1"><code>.DELETE_ON_ERROR</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eEXPORT_005fALL_005fVARIABLES"><code>.EXPORT_ALL_VARIABLES</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eEXPORT_005fALL_005fVARIABLES-1"><code>.EXPORT_ALL_VARIABLES</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eFEATURES-_0028list-of-supported-features_0029"><code>.FEATURES <span class="roman">(list of supported features)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eIGNORE"><code>.IGNORE</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eIGNORE-1"><code>.IGNORE</code></a></td><td valign="top"><a href="#Errors">5.5 Errors in Recipes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eINCLUDE_005fDIRS-_0028list-of-include-directories_0029"><code>.INCLUDE_DIRS <span class="roman">(list of include directories)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eINTERMEDIATE"><code>.INTERMEDIATE</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eLIBPATTERNS"><code>.LIBPATTERNS</code></a></td><td valign="top"><a href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eLOADED"><code>.LOADED</code></a></td><td valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eLOW_005fRESOLUTION_005fTIME"><code>.LOW_RESOLUTION_TIME</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eNOTPARALLEL"><code>.NOTPARALLEL</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eONESHELL"><code>.ONESHELL</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eONESHELL-1"><code>.ONESHELL</code></a></td><td valign="top"><a href="#One-Shell">5.3.1 Using One Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePHONY"><code>.PHONY</code></a></td><td valign="top"><a href="#Phony-Targets">4.6 Phony Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePHONY-1"><code>.PHONY</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePOSIX"><code>.POSIX</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePOSIX-1"><code>.POSIX</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePRECIOUS"><code>.PRECIOUS</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ePRECIOUS-1"><code>.PRECIOUS</code></a></td><td valign="top"><a href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eRECIPEPREFIX-_0028change-the-recipe-prefix-character_0029"><code>.RECIPEPREFIX <span class="roman">(change the recipe prefix character)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSECONDARY"><code>.SECONDARY</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSECONDEXPANSION"><code>.SECONDEXPANSION</code></a></td><td valign="top"><a href="#Secondary-Expansion">3.9 Secondary Expansion</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSECONDEXPANSION-1"><code>.SECONDEXPANSION</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSHELLFLAGS"><code>.SHELLFLAGS</code></a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSHELLFLAGS-1"><code>.SHELLFLAGS</code></a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSHELLSTATUS"><code>.SHELLSTATUS</code></a></td><td valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSILENT"><code>.SILENT</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSILENT-1"><code>.SILENT</code></a></td><td valign="top"><a href="#Echoing">5.2 Recipe Echoing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSUFFIXES"><code>.SUFFIXES</code></a></td><td valign="top"><a href="#Special-Targets">4.9 Special Built-in Target Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eSUFFIXES-1"><code>.SUFFIXES</code></a></td><td valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002eVARIABLES-_0028list-of-variables_0029"><code>.VARIABLES <span class="roman">(list of variables)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-7">/</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002fusr_002fgnu_002finclude"><code>/usr/gnu/include</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002fusr_002finclude"><code>/usr/include</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002fusr_002flocal_002finclude"><code>/usr/local/include</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-8">&lt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003c-_0028automatic-variable_0029"><code>&lt; <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003cD-_0028automatic-variable_0029"><code>&lt;D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003cF-_0028automatic-variable_0029"><code>&lt;F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-9">?</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003f-_0028automatic-variable_0029"><code>? <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003fD-_0028automatic-variable_0029"><code>?D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003fF-_0028automatic-variable_0029"><code>?F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-10">@</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040-_0028automatic-variable_0029"><code>@ <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040D-_0028automatic-variable_0029"><code>@D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040F-_0028automatic-variable_0029"><code>@F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-11">^</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005e-_0028automatic-variable_0029"><code>^ <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005eD-_0028automatic-variable_0029"><code>^D <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005eF-_0028automatic-variable_0029"><code>^F <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-12">|</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007c-_0028automatic-variable_0029"><code>| <span class="roman">(automatic variable)</span></code></a></td><td valign="top"><a href="#Automatic-Variables">10.5.3 Automatic Variables</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-abspath"><code>abspath</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-addprefix"><code>addprefix</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-addsuffix"><code>addsuffix</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-and"><code>and</code></a></td><td valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AR"><code>AR</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ARFLAGS"><code>ARFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AS"><code>AS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ASFLAGS"><code>ASFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-basename"><code>basename</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-call"><code>call</code></a></td><td valign="top"><a href="#Call-Function">8.7 The <code>call</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CC"><code>CC</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CFLAGS"><code>CFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CO"><code>CO</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-COFLAGS"><code>COFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-COMSPEC"><code>COMSPEC</code></a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPP"><code>CPP</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CPPFLAGS"><code>CPPFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CTANGLE"><code>CTANGLE</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CURDIR"><code><code>CURDIR</code></code></a></td><td valign="top"><a href="#Recursion">5.7 Recursive Use of <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CWEAVE"><code>CWEAVE</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXX"><code>CXX</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-CXXFLAGS"><code>CXXFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-define"><code>define</code></a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-dir"><code>dir</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-else"><code>else</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-endef"><code>endef</code></a></td><td valign="top"><a href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-endif"><code>endif</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error"><code>error</code></a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-eval"><code>eval</code></a></td><td valign="top"><a href="#Eval-Function">8.9 The <code>eval</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-export"><code>export</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-FC"><code>FC</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FFLAGS"><code>FFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file"><code>file</code></a></td><td valign="top"><a href="#File-Function">8.6 The <code>file</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-filter"><code>filter</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-filter_002dout"><code>filter-out</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-findstring"><code>findstring</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-firstword"><code>firstword</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flavor"><code>flavor</code></a></td><td valign="top"><a href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreach"><code>foreach</code></a></td><td valign="top"><a href="#Foreach-Function">8.5 The <code>foreach</code> Function</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-GET"><code>GET</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GFLAGS"><code>GFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_002deval"><code>gmk-eval</code></a></td><td valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_002dexpand"><code>gmk-expand</code></a></td><td valign="top"><a href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005fadd_005ffunction"><code>gmk_add_function</code></a></td><td valign="top"><a href="#Registering-Functions">Registering Functions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005falloc"><code>gmk_alloc</code></a></td><td valign="top"><a href="#Memory-Management">Memory Management</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005feval"><code>gmk_eval</code></a></td><td valign="top"><a href="#GNU-make-Facilities">GNU <code>make</code> Facilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005fexpand"><code>gmk_expand</code></a></td><td valign="top"><a href="#GNU-make-Facilities">GNU <code>make</code> Facilities</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005ffree"><code>gmk_free</code></a></td><td valign="top"><a href="#Memory-Management">Memory Management</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gmk_005ffunc_005fptr"><code>gmk_func_ptr</code></a></td><td valign="top"><a href="#Registered-Function-Interface">Registered Function Interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GNUmakefile"><code>GNUmakefile</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GPATH"><code>GPATH</code></a></td><td valign="top"><a href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-guile"><code>guile</code></a></td><td valign="top"><a href="#Guile-Function">8.14 The <code>guile</code> Function</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-if"><code>if</code></a></td><td valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-if-1"><code>if</code></a></td><td valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifdef"><code>ifdef</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifeq"><code>ifeq</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifndef"><code>ifndef</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ifneq"><code>ifneq</code></a></td><td valign="top"><a href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-include"><code>include</code></a></td><td valign="top"><a href="#Include">3.3 Including Other Makefiles</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-info"><code>info</code></a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-J">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-join"><code>join</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lastword"><code>lastword</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LDFLAGS"><code>LDFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LDLIBS"><code>LDLIBS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LEX"><code>LEX</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LFLAGS"><code>LFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LINT"><code>LINT</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LINTFLAGS"><code>LINTFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-load"><code>load</code></a></td><td valign="top"><a href="#load-Directive">12.2.1 The <code>load</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-LOADLIBES"><code>LOADLIBES</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-M2C"><code>M2C</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE"><code>MAKE</code></a></td><td valign="top"><a href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE-1"><code>MAKE</code></a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKECMDGOALS"><code>MAKECMDGOALS</code></a></td><td valign="top"><a href="#Goals">9.2 Arguments to Specify the Goals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-makefile-1"><code>makefile</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Makefile"><code>Makefile</code></a></td><td valign="top"><a href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEFILES"><code>MAKEFILES</code></a></td><td valign="top"><a href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEFILES-1"><code>MAKEFILES</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEFILE_005fLIST-_0028list-of-parsed-makefiles_0029"><code>MAKEFILE_LIST <span class="roman">(list of parsed makefiles)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEFLAGS"><code>MAKEFLAGS</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEINFO"><code>MAKEINFO</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKELEVEL"><code>MAKELEVEL</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKELEVEL-1"><code>MAKELEVEL</code></a></td><td valign="top"><a href="#Flavors">6.2 The Two Flavors of Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKEOVERRIDES"><code>MAKEOVERRIDES</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKESHELL-_0028MS_002dDOS-alternative-to-SHELL_0029"><code><code>MAKESHELL</code> <span class="roman">(MS-DOS alternative to <code>SHELL</code>)</span></code></a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE_005fHOST"><code>MAKE_HOST</code></a></td><td valign="top"><a href="#Quick-Reference">A. Quick Reference</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE_005fRESTARTS-_0028number-of-times-make-has-restarted_0029"><code>MAKE_RESTARTS <span class="roman">(number of times <code>make</code> has restarted)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE_005fTERMERR-_0028whether-stderr-is-a-terminal_0029"><code>MAKE_TERMERR <span class="roman">(whether stderr is a terminal)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE_005fTERMOUT-_0028whether-stdout-is-a-terminal_0029"><code>MAKE_TERMOUT <span class="roman">(whether stdout is a terminal)</span></code></a></td><td valign="top"><a href="#Special-Variables">6.14 Other Special Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MAKE_005fVERSION"><code>MAKE_VERSION</code></a></td><td valign="top"><a href="#Quick-Reference">A. Quick Reference</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-MFLAGS"><code>MFLAGS</code></a></td><td valign="top"><a href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-notdir"><code>notdir</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-or"><code>or</code></a></td><td valign="top"><a href="#Conditional-Functions">8.4 Functions for Conditionals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-origin"><code>origin</code></a></td><td valign="top"><a href="#Origin-Function">8.10 The <code>origin</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-OUTPUT_005fOPTION"><code>OUTPUT_OPTION</code></a></td><td valign="top"><a href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-override"><code>override</code></a></td><td valign="top"><a href="#Override-Directive">6.7 The <code>override</code> Directive</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-patsubst"><code>patsubst</code></a></td><td valign="top"><a href="#Substitution-Refs">6.3.1 Substitution References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-patsubst-1"><code>patsubst</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PC"><code>PC</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-PFLAGS"><code>PFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-private"><code>private</code></a></td><td valign="top"><a href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-realpath"><code>realpath</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RFLAGS"><code>RFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-RM"><code>RM</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL"><code>SHELL</code></a></td><td valign="top"><a href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell"><code>shell</code></a></td><td valign="top"><a href="#Shell-Function">8.13 The <code>shell</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL-1"><code>SHELL</code></a></td><td valign="top"><a href="#Choosing-a-Shell-in-DOS-and-Windows">Choosing a Shell in DOS and Windows</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SHELL-_0028recipe-execution_0029"><code><code>SHELL</code> <span class="roman">(recipe execution)</span></code></a></td><td valign="top"><a href="#Execution">5.3 Recipe Execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sort"><code>sort</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-strip"><code>strip</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subst"><code>subst</code></a></td><td valign="top"><a href="#Rules-with-Independent-Targets">Rules with Independent Targets</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subst-1"><code>subst</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-suffix"><code>suffix</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-SUFFIXES"><code>SUFFIXES</code></a></td><td valign="top"><a href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-TANGLE"><code>TANGLE</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TEX"><code>TEX</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-TEXI2DVI"><code>TEXI2DVI</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-undefine"><code>undefine</code></a></td><td valign="top"><a href="#Undefine-Directive">6.9 Undefining Variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unexport"><code>unexport</code></a></td><td valign="top"><a href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-value-1"><code>value</code></a></td><td valign="top"><a href="#Value-Function">8.8 The <code>value</code> Function</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VPATH"><code>VPATH</code></a></td><td valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vpath"><code>vpath</code></a></td><td valign="top"><a href="#Directory-Search">4.5 Searching Directories for Prerequisites</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vpath-2"><code>vpath</code></a></td><td valign="top"><a href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-VPATH-1"><code>VPATH</code></a></td><td valign="top"><a href="#General-Search">4.5.1 <code>VPATH</code>: Search Path for All Prerequisites</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-warning"><code>warning</code></a></td><td valign="top"><a href="#Make-Control-Functions">8.12 Functions That Control Make</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-WEAVE"><code>WEAVE</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard-1"><code>wildcard</code></a></td><td valign="top"><a href="#Wildcard-Function">4.4.3 The Function <code>wildcard</code></a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wildcard-2"><code>wildcard</code></a></td><td valign="top"><a href="#File-Name-Functions">8.3 Functions for File Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-word"><code>word</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wordlist"><code>wordlist</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-words"><code>words</code></a></td><td valign="top"><a href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-Y">Y</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-YACC"><code>YACC</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-YFLAGS"><code>YFLAGS</code></a></td><td valign="top"><a href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-1" class="summary-letter"><b>$</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-2" class="summary-letter"><b>%</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-3" class="summary-letter"><b>*</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-4" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-5" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-6" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-7" class="summary-letter"><b>/</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-8" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-9" class="summary-letter"><b>?</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-10" class="summary-letter"><b>@</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-11" class="summary-letter"><b>^</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_symbol-12" class="summary-letter"><b>|</b></a>
 &nbsp; 
<br>
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
<a href="#Index-of-Functions_002c-Variables_002c-_0026-Directives_fn_letter-Y" class="summary-letter"><b>Y</b></a>
 &nbsp; 
</td></tr></table>

<hr size="6">
<a name="SEC_Foot"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Footnotes</h1>
<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>GNU Make compiled for MS-DOS and MS-Windows behaves as if
<var>prefix</var> has been defined to be the root of the DJGPP tree
hierarchy.
</p><h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p>On
MS-DOS, the value of current working directory is <strong>global</strong>, so
changing it <em>will</em> affect the following recipe lines on those
systems.
</p><hr size="1">
<a name="SEC_Contents"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-Overview-of-make" href="#Overview">1. Overview of <code>make</code></a>
  <ul class="toc">
    <li><a name="toc-How-to-Read-This-Manual" href="#Reading">1.1 How to Read This Manual</a></li>
    <li><a name="toc-Problems-and-Bugs" href="#Bugs">1.2 Problems and Bugs</a></li>
  </ul></li>
  <li><a name="toc-An-Introduction-to-Makefiles" href="#Introduction">2. An Introduction to Makefiles</a>
  <ul class="toc">
    <li><a name="toc-What-a-Rule-Looks-Like" href="#Rule-Introduction">2.1 What a Rule Looks Like</a></li>
    <li><a name="toc-A-Simple-Makefile" href="#Simple-Makefile">2.2 A Simple Makefile</a></li>
    <li><a name="toc-How-make-Processes-a-Makefile" href="#How-Make-Works">2.3 How <code>make</code> Processes a Makefile</a></li>
    <li><a name="toc-Variables-Make-Makefiles-Simpler" href="#Variables-Simplify">2.4 Variables Make Makefiles Simpler</a></li>
    <li><a name="toc-Letting-make-Deduce-the-Recipes" href="#make-Deduces">2.5 Letting <code>make</code> Deduce the Recipes</a></li>
    <li><a name="toc-Another-Style-of-Makefile" href="#Combine-By-Prerequisite">2.6 Another Style of Makefile</a></li>
    <li><a name="toc-Rules-for-Cleaning-the-Directory" href="#Cleanup">2.7 Rules for Cleaning the Directory</a></li>
  </ul></li>
  <li><a name="toc-Writing-Makefiles" href="#Makefiles">3. Writing Makefiles</a>
  <ul class="toc">
    <li><a name="toc-What-Makefiles-Contain" href="#Makefile-Contents">3.1 What Makefiles Contain</a>
    <ul class="toc">
      <li><a name="toc-Splitting-Long-Lines" href="#Splitting-Lines">3.1.1 Splitting Long Lines</a></li>
    </ul></li>
    <li><a name="toc-What-Name-to-Give-Your-Makefile" href="#Makefile-Names">3.2 What Name to Give Your Makefile</a></li>
    <li><a name="toc-Including-Other-Makefiles" href="#Include">3.3 Including Other Makefiles</a></li>
    <li><a name="toc-The-Variable-MAKEFILES" href="#MAKEFILES-Variable">3.4 The Variable <code>MAKEFILES</code></a></li>
    <li><a name="toc-How-Makefiles-Are-Remade" href="#Remaking-Makefiles">3.5 How Makefiles Are Remade</a></li>
    <li><a name="toc-Overriding-Part-of-Another-Makefile" href="#Overriding-Makefiles">3.6 Overriding Part of Another Makefile</a></li>
    <li><a name="toc-How-make-Reads-a-Makefile" href="#Reading-Makefiles">3.7 How <code>make</code> Reads a Makefile</a></li>
    <li><a name="toc-How-Makefiles-Are-Parsed" href="#Parsing-Makefiles">3.8 How Makefiles Are Parsed</a></li>
    <li><a name="toc-Secondary-Expansion-1" href="#Secondary-Expansion">3.9 Secondary Expansion</a></li>
  </ul></li>
  <li><a name="toc-Writing-Rules" href="#Rules">4. Writing Rules</a>
  <ul class="toc">
    <li><a name="toc-Rule-Example-1" href="#Rule-Example">4.1 Rule Example</a></li>
    <li><a name="toc-Rule-Syntax-1" href="#Rule-Syntax">4.2 Rule Syntax</a></li>
    <li><a name="toc-Types-of-Prerequisites" href="#Prerequisite-Types">4.3 Types of Prerequisites</a></li>
    <li><a name="toc-Using-Wildcard-Characters-in-File-Names" href="#Wildcards">4.4 Using Wildcard Characters in File Names</a>
    <ul class="toc">
      <li><a name="toc-Wildcard-Examples-1" href="#Wildcard-Examples">4.4.1 Wildcard Examples</a></li>
      <li><a name="toc-Pitfalls-of-Using-Wildcards" href="#Wildcard-Pitfall">4.4.2 Pitfalls of Using Wildcards</a></li>
      <li><a name="toc-The-Function-wildcard" href="#Wildcard-Function">4.4.3 The Function <code>wildcard</code></a></li>
    </ul></li>
    <li><a name="toc-Searching-Directories-for-Prerequisites" href="#Directory-Search">4.5 Searching Directories for Prerequisites</a>
    <ul class="toc">
      <li><a name="toc-VPATH_003a-Search-Path-for-All-Prerequisites" href="#General-Search">4.5.1 <code>VPATH</code>: Search Path for All Prerequisites</a></li>
      <li><a name="toc-The-vpath-Directive" href="#Selective-Search">4.5.2 The <code>vpath</code> Directive</a></li>
      <li><a name="toc-How-Directory-Searches-are-Performed" href="#Search-Algorithm">4.5.3 How Directory Searches are Performed</a></li>
      <li><a name="toc-Writing-Recipes-with-Directory-Search" href="#Recipes_002fSearch">4.5.4 Writing Recipes with Directory Search</a></li>
      <li><a name="toc-Directory-Search-and-Implicit-Rules" href="#Implicit_002fSearch">4.5.5 Directory Search and Implicit Rules</a></li>
      <li><a name="toc-Directory-Search-for-Link-Libraries" href="#Libraries_002fSearch">4.5.6 Directory Search for Link Libraries</a></li>
    </ul></li>
    <li><a name="toc-Phony-Targets-1" href="#Phony-Targets">4.6 Phony Targets</a></li>
    <li><a name="toc-Rules-without-Recipes-or-Prerequisites" href="#Force-Targets">4.7 Rules without Recipes or Prerequisites</a></li>
    <li><a name="toc-Empty-Target-Files-to-Record-Events" href="#Empty-Targets">4.8 Empty Target Files to Record Events</a></li>
    <li><a name="toc-Special-Built_002din-Target-Names" href="#Special-Targets">4.9 Special Built-in Target Names</a></li>
    <li><a name="toc-Multiple-Targets-in-a-Rule" href="#Multiple-Targets">4.10 Multiple Targets in a Rule</a></li>
    <li><a name="toc-Multiple-Rules-for-One-Target" href="#Multiple-Rules">4.11 Multiple Rules for One Target</a></li>
    <li><a name="toc-Static-Pattern-Rules" href="#Static-Pattern">4.12 Static Pattern Rules</a>
    <ul class="toc">
      <li><a name="toc-Syntax-of-Static-Pattern-Rules" href="#Static-Usage">4.12.1 Syntax of Static Pattern Rules</a></li>
      <li><a name="toc-Static-Pattern-Rules-versus-Implicit-Rules" href="#Static-versus-Implicit">4.12.2 Static Pattern Rules versus Implicit Rules</a></li>
    </ul></li>
    <li><a name="toc-Double_002dColon-Rules" href="#Double_002dColon">4.13 Double-Colon Rules</a></li>
    <li><a name="toc-Generating-Prerequisites-Automatically" href="#Automatic-Prerequisites">4.14 Generating Prerequisites Automatically</a></li>
  </ul></li>
  <li><a name="toc-Writing-Recipes-in-Rules" href="#Recipes">5. Writing Recipes in Rules</a>
  <ul class="toc">
    <li><a name="toc-Recipe-Syntax-1" href="#Recipe-Syntax">5.1 Recipe Syntax</a>
    <ul class="toc">
      <li><a name="toc-Splitting-Recipe-Lines-1" href="#Splitting-Recipe-Lines">5.1.1 Splitting Recipe Lines</a></li>
      <li><a name="toc-Using-Variables-in-Recipes" href="#Variables-in-Recipes">5.1.2 Using Variables in Recipes</a></li>
    </ul></li>
    <li><a name="toc-Recipe-Echoing" href="#Echoing">5.2 Recipe Echoing</a></li>
    <li><a name="toc-Recipe-Execution" href="#Execution">5.3 Recipe Execution</a>
    <ul class="toc">
      <li><a name="toc-Using-One-Shell" href="#One-Shell">5.3.1 Using One Shell</a></li>
      <li><a name="toc-Choosing-the-Shell-1" href="#Choosing-the-Shell">5.3.2 Choosing the Shell</a></li>
    </ul></li>
    <li><a name="toc-Parallel-Execution" href="#Parallel">5.4 Parallel Execution</a>
    <ul class="toc">
      <li><a name="toc-Output-During-Parallel-Execution" href="#Parallel-Output">5.4.1 Output During Parallel Execution</a></li>
      <li><a name="toc-Input-During-Parallel-Execution" href="#Parallel-Input">5.4.2 Input During Parallel Execution</a></li>
    </ul></li>
    <li><a name="toc-Errors-in-Recipes" href="#Errors">5.5 Errors in Recipes</a></li>
    <li><a name="toc-Interrupting-or-Killing-make" href="#Interrupts">5.6 Interrupting or Killing <code>make</code></a></li>
    <li><a name="toc-Recursive-Use-of-make" href="#Recursion">5.7 Recursive Use of <code>make</code></a>
    <ul class="toc">
      <li><a name="toc-How-the-MAKE-Variable-Works" href="#MAKE-Variable">5.7.1 How the <code>MAKE</code> Variable Works</a></li>
      <li><a name="toc-Communicating-Variables-to-a-Sub_002dmake" href="#Variables_002fRecursion">5.7.2 Communicating Variables to a Sub-<code>make</code></a></li>
      <li><a name="toc-Communicating-Options-to-a-Sub_002dmake" href="#Options_002fRecursion">5.7.3 Communicating Options to a Sub-<code>make</code></a></li>
      <li><a name="toc-The-_002d_002dprint_002ddirectory-Option" href="#g_t_002dw-Option">5.7.4 The &lsquo;<samp>--print-directory</samp>&rsquo; Option</a></li>
    </ul></li>
    <li><a name="toc-Defining-Canned-Recipes" href="#Canned-Recipes">5.8 Defining Canned Recipes</a></li>
    <li><a name="toc-Using-Empty-Recipes" href="#Empty-Recipes">5.9 Using Empty Recipes</a></li>
  </ul></li>
  <li><a name="toc-How-to-Use-Variables" href="#Using-Variables">6. How to Use Variables</a>
  <ul class="toc">
    <li><a name="toc-Basics-of-Variable-References" href="#Reference">6.1 Basics of Variable References</a></li>
    <li><a name="toc-The-Two-Flavors-of-Variables" href="#Flavors">6.2 The Two Flavors of Variables</a></li>
    <li><a name="toc-Advanced-Features-for-Reference-to-Variables" href="#Advanced">6.3 Advanced Features for Reference to Variables</a>
    <ul class="toc">
      <li><a name="toc-Substitution-References" href="#Substitution-Refs">6.3.1 Substitution References</a></li>
      <li><a name="toc-Computed-Variable-Names" href="#Computed-Names">6.3.2 Computed Variable Names</a></li>
    </ul></li>
    <li><a name="toc-How-Variables-Get-Their-Values" href="#Values">6.4 How Variables Get Their Values</a></li>
    <li><a name="toc-Setting-Variables" href="#Setting">6.5 Setting Variables</a></li>
    <li><a name="toc-Appending-More-Text-to-Variables" href="#Appending">6.6 Appending More Text to Variables</a></li>
    <li><a name="toc-The-override-Directive" href="#Override-Directive">6.7 The <code>override</code> Directive</a></li>
    <li><a name="toc-Defining-Multi_002dLine-Variables" href="#Multi_002dLine">6.8 Defining Multi-Line Variables</a></li>
    <li><a name="toc-Undefining-Variables" href="#Undefine-Directive">6.9 Undefining Variables</a></li>
    <li><a name="toc-Variables-from-the-Environment" href="#Environment">6.10 Variables from the Environment</a></li>
    <li><a name="toc-Target_002dspecific-Variable-Values" href="#Target_002dspecific">6.11 Target-specific Variable Values</a></li>
    <li><a name="toc-Pattern_002dspecific-Variable-Values" href="#Pattern_002dspecific">6.12 Pattern-specific Variable Values</a></li>
    <li><a name="toc-Suppressing-Inheritance-1" href="#Suppressing-Inheritance">6.13 Suppressing Inheritance</a></li>
    <li><a name="toc-Other-Special-Variables" href="#Special-Variables">6.14 Other Special Variables</a></li>
  </ul></li>
  <li><a name="toc-Conditional-Parts-of-Makefiles" href="#Conditionals">7. Conditional Parts of Makefiles</a>
  <ul class="toc">
    <li><a name="toc-Example-of-a-Conditional" href="#Conditional-Example">7.1 Example of a Conditional</a></li>
    <li><a name="toc-Syntax-of-Conditionals" href="#Conditional-Syntax">7.2 Syntax of Conditionals</a></li>
    <li><a name="toc-Conditionals-that-Test-Flags" href="#Testing-Flags">7.3 Conditionals that Test Flags</a></li>
  </ul></li>
  <li><a name="toc-Functions-for-Transforming-Text" href="#Functions">8. Functions for Transforming Text</a>
  <ul class="toc">
    <li><a name="toc-Function-Call-Syntax" href="#Syntax-of-Functions">8.1 Function Call Syntax</a></li>
    <li><a name="toc-Functions-for-String-Substitution-and-Analysis" href="#Text-Functions">8.2 Functions for String Substitution and Analysis</a></li>
    <li><a name="toc-Functions-for-File-Names" href="#File-Name-Functions">8.3 Functions for File Names</a></li>
    <li><a name="toc-Functions-for-Conditionals" href="#Conditional-Functions">8.4 Functions for Conditionals</a></li>
    <li><a name="toc-The-foreach-Function" href="#Foreach-Function">8.5 The <code>foreach</code> Function</a></li>
    <li><a name="toc-The-file-Function" href="#File-Function">8.6 The <code>file</code> Function</a></li>
    <li><a name="toc-The-call-Function" href="#Call-Function">8.7 The <code>call</code> Function</a></li>
    <li><a name="toc-The-value-Function" href="#Value-Function">8.8 The <code>value</code> Function</a></li>
    <li><a name="toc-The-eval-Function" href="#Eval-Function">8.9 The <code>eval</code> Function</a></li>
    <li><a name="toc-The-origin-Function" href="#Origin-Function">8.10 The <code>origin</code> Function</a></li>
    <li><a name="toc-The-flavor-Function" href="#Flavor-Function">8.11 The <code>flavor</code> Function</a></li>
    <li><a name="toc-Functions-That-Control-Make" href="#Make-Control-Functions">8.12 Functions That Control Make</a></li>
    <li><a name="toc-The-shell-Function" href="#Shell-Function">8.13 The <code>shell</code> Function</a></li>
    <li><a name="toc-The-guile-Function" href="#Guile-Function">8.14 The <code>guile</code> Function</a></li>
  </ul></li>
  <li><a name="toc-How-to-Run-make" href="#Running">9. How to Run <code>make</code></a>
  <ul class="toc">
    <li><a name="toc-Arguments-to-Specify-the-Makefile" href="#Makefile-Arguments">9.1 Arguments to Specify the Makefile</a></li>
    <li><a name="toc-Arguments-to-Specify-the-Goals" href="#Goals">9.2 Arguments to Specify the Goals</a></li>
    <li><a name="toc-Instead-of-Executing-Recipes" href="#Instead-of-Execution">9.3 Instead of Executing Recipes</a></li>
    <li><a name="toc-Avoiding-Recompilation-of-Some-Files" href="#Avoiding-Compilation">9.4 Avoiding Recompilation of Some Files</a></li>
    <li><a name="toc-Overriding-Variables" href="#Overriding">9.5 Overriding Variables</a></li>
    <li><a name="toc-Testing-the-Compilation-of-a-Program" href="#Testing">9.6 Testing the Compilation of a Program</a></li>
    <li><a name="toc-Summary-of-Options" href="#Options-Summary">9.7 Summary of Options</a></li>
  </ul></li>
  <li><a name="toc-Using-Implicit-Rules" href="#Implicit-Rules">10. Using Implicit Rules</a>
  <ul class="toc">
    <li><a name="toc-Using-Implicit-Rules-1" href="#Using-Implicit">10.1 Using Implicit Rules</a></li>
    <li><a name="toc-Catalogue-of-Built_002dIn-Rules" href="#Catalogue-of-Rules">10.2 Catalogue of Built-In Rules</a></li>
    <li><a name="toc-Variables-Used-by-Implicit-Rules" href="#Implicit-Variables">10.3 Variables Used by Implicit Rules</a></li>
    <li><a name="toc-Chains-of-Implicit-Rules" href="#Chained-Rules">10.4 Chains of Implicit Rules</a></li>
    <li><a name="toc-Defining-and-Redefining-Pattern-Rules" href="#Pattern-Rules">10.5 Defining and Redefining Pattern Rules</a>
    <ul class="toc">
      <li><a name="toc-Introduction-to-Pattern-Rules" href="#Pattern-Intro">10.5.1 Introduction to Pattern Rules</a></li>
      <li><a name="toc-Pattern-Rule-Examples" href="#Pattern-Examples">10.5.2 Pattern Rule Examples</a></li>
      <li><a name="toc-Automatic-Variables-1" href="#Automatic-Variables">10.5.3 Automatic Variables</a></li>
      <li><a name="toc-How-Patterns-Match" href="#Pattern-Match">10.5.4 How Patterns Match</a></li>
      <li><a name="toc-Match_002dAnything-Pattern-Rules" href="#Match_002dAnything-Rules">10.5.5 Match-Anything Pattern Rules</a></li>
      <li><a name="toc-Canceling-Implicit-Rules" href="#Canceling-Rules">10.5.6 Canceling Implicit Rules</a></li>
    </ul></li>
    <li><a name="toc-Defining-Last_002dResort-Default-Rules" href="#Last-Resort">10.6 Defining Last-Resort Default Rules</a></li>
    <li><a name="toc-Old_002dFashioned-Suffix-Rules" href="#Suffix-Rules">10.7 Old-Fashioned Suffix Rules</a></li>
    <li><a name="toc-Implicit-Rule-Search-Algorithm" href="#Implicit-Rule-Search">10.8 Implicit Rule Search Algorithm</a></li>
  </ul></li>
  <li><a name="toc-Using-make-to-Update-Archive-Files" href="#Archives">11. Using <code>make</code> to Update Archive Files</a>
  <ul class="toc">
    <li><a name="toc-Archive-Members-as-Targets" href="#Archive-Members">11.1 Archive Members as Targets</a></li>
    <li><a name="toc-Implicit-Rule-for-Archive-Member-Targets" href="#Archive-Update">11.2 Implicit Rule for Archive Member Targets</a>
    <ul class="toc">
      <li><a name="toc-Updating-Archive-Symbol-Directories" href="#Archive-Symbols">11.2.1 Updating Archive Symbol Directories</a></li>
    </ul></li>
    <li><a name="toc-Dangers-When-Using-Archives" href="#Archive-Pitfalls">11.3 Dangers When Using Archives</a></li>
    <li><a name="toc-Suffix-Rules-for-Archive-Files" href="#Archive-Suffix-Rules">11.4 Suffix Rules for Archive Files</a></li>
  </ul></li>
  <li><a name="toc-Extending-GNU-make" href="#Extending-make">12. Extending GNU <code>make</code></a>
  <ul class="toc">
    <li><a name="toc-GNU-Guile-Integration" href="#Guile-Integration">12.1 GNU Guile Integration</a>
    <ul class="toc">
      <li><a name="toc-Conversion-of-Guile-Types" href="#Guile-Types">12.1.1 Conversion of Guile Types</a></li>
      <li><a name="toc-Interfaces-from-Guile-to-make" href="#Guile-Interface">12.1.2 Interfaces from Guile to <code>make</code></a></li>
      <li><a name="toc-Example-Using-Guile-in-make" href="#Guile-Example">12.1.3 Example Using Guile in <code>make</code></a></li>
    </ul></li>
    <li><a name="toc-Loading-Dynamic-Objects" href="#Loading-Objects">12.2 Loading Dynamic Objects</a>
    <ul class="toc">
      <li><a name="toc-The-load-Directive" href="#load-Directive">12.2.1 The <code>load</code> Directive</a></li>
      <li><a name="toc-How-Loaded-Objects-Are-Remade" href="#Remaking-Loaded-Objects">12.2.2 How Loaded Objects Are Remade</a></li>
      <li><a name="toc-Loaded-Object-Interface" href="#Loaded-Object-API">12.2.3 Loaded Object Interface</a></li>
      <li><a name="toc-Example-Loaded-Object" href="#Loaded-Object-Example">12.2.4 Example Loaded Object</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Integrating-GNU-make" href="#Integrating-make">13. Integrating GNU <code>make</code></a>
  <ul class="toc">
    <li><a name="toc-Sharing-Job-Slots-with-GNU-make" href="#Job-Slots">13.1 Sharing Job Slots with GNU <code>make</code></a>
    <ul class="toc">
      <li><a name="toc-POSIX-Jobserver-Interaction" href="#POSIX-Jobserver">13.1.1 POSIX Jobserver Interaction</a></li>
      <li><a name="toc-Windows-Jobserver-Interaction" href="#Windows-Jobserver">13.1.2 Windows Jobserver Interaction</a></li>
    </ul></li>
    <li><a name="toc-Synchronized-Terminal-Output" href="#Terminal-Output">13.2 Synchronized Terminal Output</a></li>
  </ul></li>
  <li><a name="toc-Features-of-GNU-make" href="#Features">14. Features of GNU <code>make</code></a></li>
  <li><a name="toc-Incompatibilities-and-Missing-Features" href="#Missing">15. Incompatibilities and Missing Features</a></li>
  <li><a name="toc-Quick-Reference-1" href="#Quick-Reference">A. Quick Reference</a></li>
  <li><a name="toc-Errors-Generated-by-Make" href="#Error-Messages">B. Errors Generated by Make</a></li>
  <li><a name="toc-Complex-Makefile-Example" href="#Complex-Makefile">C. Complex Makefile Example</a>
  <ul class="toc">
    <li><a name="toc-GNU-Free-Documentation-License-1" href="#GNU-Free-Documentation-License">C.1 GNU Free Documentation License</a></li>
  </ul></li>
  <li><a name="toc-Index-of-Concepts" href="#Concept-Index">Index of Concepts</a></li>
  <li><a name="toc-Index-of-Functions_002c-Variables_002c-_0026-Directives" href="#Name-Index">Index of Functions, Variables, &amp; Directives</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_Overview"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>Short Table of Contents</h1>
<div class="shortcontents">
<ul class="toc">
<li><a name="stoc-Overview-of-make" href="#Overview">1. Overview of <code>make</code></a></li>
<li><a name="stoc-An-Introduction-to-Makefiles" href="#Introduction">2. An Introduction to Makefiles</a></li>
<li><a name="stoc-Writing-Makefiles" href="#Makefiles">3. Writing Makefiles</a></li>
<li><a name="stoc-Writing-Rules" href="#Rules">4. Writing Rules</a></li>
<li><a name="stoc-Writing-Recipes-in-Rules" href="#Recipes">5. Writing Recipes in Rules</a></li>
<li><a name="stoc-How-to-Use-Variables" href="#Using-Variables">6. How to Use Variables</a></li>
<li><a name="stoc-Conditional-Parts-of-Makefiles" href="#Conditionals">7. Conditional Parts of Makefiles</a></li>
<li><a name="stoc-Functions-for-Transforming-Text" href="#Functions">8. Functions for Transforming Text</a></li>
<li><a name="stoc-How-to-Run-make" href="#Running">9. How to Run <code>make</code></a></li>
<li><a name="stoc-Using-Implicit-Rules" href="#Implicit-Rules">10. Using Implicit Rules</a></li>
<li><a name="stoc-Using-make-to-Update-Archive-Files" href="#Archives">11. Using <code>make</code> to Update Archive Files</a></li>
<li><a name="stoc-Extending-GNU-make" href="#Extending-make">12. Extending GNU <code>make</code></a></li>
<li><a name="stoc-Integrating-GNU-make" href="#Integrating-make">13. Integrating GNU <code>make</code></a></li>
<li><a name="stoc-Features-of-GNU-make" href="#Features">14. Features of GNU <code>make</code></a></li>
<li><a name="stoc-Incompatibilities-and-Missing-Features" href="#Missing">15. Incompatibilities and Missing Features</a></li>
<li><a name="stoc-Quick-Reference-1" href="#Quick-Reference">A. Quick Reference</a></li>
<li><a name="stoc-Errors-Generated-by-Make" href="#Error-Messages">B. Errors Generated by Make</a></li>
<li><a name="stoc-Complex-Makefile-Example" href="#Complex-Makefile">C. Complex Makefile Example</a></li>
<li><a name="stoc-Index-of-Concepts" href="#Concept-Index">Index of Concepts</a></li>
<li><a name="stoc-Index-of-Functions_002c-Variables_002c-_0026-Directives" href="#Name-Index">Index of Functions, Variables, &amp; Directives</a></li>
</ul>
</div>
<hr size="1">
<a name="SEC_About"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="#Concept-Index" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1>About This Document</h1>
<p>
  This document was generated by <em>U-feelus-PC\feelus</em> on <em>December 11, 2019</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
</p>
<p>
  The buttons in the navigation panels have the following meaning:
</p>
<table border="1">
  <tr>
    <th> Button </th>
    <th> Name </th>
    <th> Go to </th>
    <th> From 1.2.3 go to</th>
  </tr>
  <tr>
    <td align="center"> [ &lt; ] </td>
    <td align="center">Back</td>
    <td>Previous section in reading order</td>
    <td>1.2.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt; ] </td>
    <td align="center">Forward</td>
    <td>Next section in reading order</td>
    <td>1.2.4</td>
  </tr>
  <tr>
    <td align="center"> [ &lt;&lt; ] </td>
    <td align="center">FastBack</td>
    <td>Beginning of this chapter or previous chapter</td>
    <td>1</td>
  </tr>
  <tr>
    <td align="center"> [ Up ] </td>
    <td align="center">Up</td>
    <td>Up section</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td align="center"> [ &gt;&gt; ] </td>
    <td align="center">FastForward</td>
    <td>Next chapter</td>
    <td>2</td>
  </tr>
  <tr>
    <td align="center"> [Top] </td>
    <td align="center">Top</td>
    <td>Cover (top) of document</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Contents] </td>
    <td align="center">Contents</td>
    <td>Table of contents</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [Index] </td>
    <td align="center">Index</td>
    <td>Index</td>
    <td> &nbsp; </td>
  </tr>
  <tr>
    <td align="center"> [ ? ] </td>
    <td align="center">About</td>
    <td>About (help)</td>
    <td> &nbsp; </td>
  </tr>
</table>

<p>
  where the <strong> Example </strong> assumes that the current position is at <strong> Subsubsection One-Two-Three </strong> of a document of the following structure:
</p>

<ul>
  <li> 1. Section One
    <ul>
      <li>1.1 Subsection One-One
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.2 Subsection One-Two
        <ul>
          <li>1.2.1 Subsubsection One-Two-One</li>
          <li>1.2.2 Subsubsection One-Two-Two</li>
          <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position </strong></li>
          <li>1.2.4 Subsubsection One-Two-Four</li>
        </ul>
      </li>
      <li>1.3 Subsection One-Three
        <ul>
          <li>...</li>
        </ul>
      </li>
      <li>1.4 Subsection One-Four</li>
    </ul>
  </li>
</ul>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>U-feelus-PC\feelus</em> on <em>December 11, 2019</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
